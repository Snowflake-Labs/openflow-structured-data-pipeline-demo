{
  "externalControllerServices" : { },
  "flow" : {
    "createdTimestamp" : 1762272039458,
    "description" : "E2E Structured AI Pipeline Demo with multiple source connectors Google Drive and Sharepoint.",
    "identifier" : "structuredaipipelinegdrivesharepoint",
    "lastModifiedTimestamp" : 1762272039458,
    "name" : "structured_ai_pipeline_gdrive_sharepoint",
    "versionCount" : 0
  },
  "flowContents" : {
    "comments" : "",
    "componentType" : "PROCESS_GROUP",
    "connections" : [ {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ {
        "x" : 64.0452880859375,
        "y" : 400.2322082519531
      } ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "Process the file further post the Schema Intelligence",
        "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "id" : "56f4bba2-54b0-3b09-ffff-ffff8cc4ee6a",
        "name" : "Intelligence Applied",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "0afbd187-ecad-3452-ffff-ffff8cc4ee6a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "id" : "bd2e7e04-85af-3ab6-ffff-ffff8cc4ee6a",
        "name" : "Intelligence Applied",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 5
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "id" : "bc73e354-fcc8-3829-ffff-ffff8cc4ee6a",
        "name" : "Apply Intelligence",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3947a285-7841-3653-ffff-ffff8cc4ee6a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "Uses Snowflake Cortex to infer and generate schema",
        "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "id" : "505c3f9f-1344-345b-ffff-ffff8cc4ee6a",
        "name" : "Apply Intelligence",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 3
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "id" : "4eb3561b-d6d3-3cb5-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "3ff2fe60-a922-3b01-ffff-ffff8cc4ee6a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "id" : "680fd611-878e-37a5-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 4
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "id" : "85ed510a-1b6b-307c-ffff-ffff8cc4ee6a",
        "name" : "Mark File As Done",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "53539325-2f06-350e-ffff-ffff8cc4ee6a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "id" : "6a64062e-f5a1-30d1-ffff-ffff8cc4ee6a",
        "name" : "Mark File As Done",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 2
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "comments" : "Creates or alters the schema using Snowflake Cortex via Schema Intelligence pipeline",
        "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "id" : "7ee62853-4b40-36a6-ffff-ffff8cc4ee6a",
        "name" : "Create or Alter Schema",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "d40af614-a788-322c-ffff-ffff8cc4ee6a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "comments" : "Send to Create or alter schema pipeline",
        "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "id" : "be58ecbf-7ffc-35ac-ffff-ffff8cc4ee6a",
        "name" : "Create or Alter Schema",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 1
    }, {
      "backPressureDataSizeThreshold" : "1 GB",
      "backPressureObjectThreshold" : 10000,
      "bends" : [ ],
      "componentType" : "CONNECTION",
      "destination" : {
        "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "id" : "4eb3561b-d6d3-3cb5-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "type" : "INPUT_PORT"
      },
      "flowFileExpiration" : "0 sec",
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "e9bc0567-0bf5-33df-ffff-ffff8cc4ee6a",
      "labelIndex" : 0,
      "loadBalanceCompression" : "DO_NOT_COMPRESS",
      "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
      "name" : "",
      "partitioningAttribute" : "",
      "prioritizers" : [ ],
      "selectedRelationships" : [ "" ],
      "source" : {
        "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "id" : "a9ba0e85-d27a-3c05-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "type" : "OUTPUT_PORT"
      },
      "zIndex" : 6
    } ],
    "controllerServices" : [ ],
    "defaultBackPressureDataSizeThreshold" : "1 GB",
    "defaultBackPressureObjectThreshold" : 10000,
    "defaultFlowFileExpiration" : "0 sec",
    "executionEngine" : "INHERITED",
    "externalControllerServiceReferences" : { },
    "flowFileConcurrency" : "UNBOUNDED",
    "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
    "funnels" : [ ],
    "identifier" : "flow-contents-group",
    "inputPorts" : [ ],
    "labels" : [ ],
    "maxConcurrentTasks" : 1,
    "name" : "Structured AI Data Pipeline",
    "outputPorts" : [ ],
    "parameterContextName" : "Structured AI Data Pipeline Parameters",
    "position" : {
      "x" : 0.0,
      "y" : 0.0
    },
    "processGroups" : [ {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "b29049ca-a660-3588-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "234c3e02-c5ba-36ff-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "csv" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "3c3ef6d4-aaea-3ea3-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 113
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "3c3ef6d4-aaea-3ea3-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "4fc936a1-4d42-392d-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "7acf6a48-9848-34d7-ffff-ffff8cc4ee6a",
          "name" : "Set Create or Alter Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 112
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "b29049ca-a660-3588-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "5fa5a5ed-2bb4-3c3c-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "comments" : "Process the file further post the Schema Intelligence",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "56f4bba2-54b0-3b09-ffff-ffff8cc4ee6a",
          "name" : "Intelligence Applied",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 120
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "7acf6a48-9848-34d7-ffff-ffff8cc4ee6a",
          "name" : "Set Create or Alter Attributes",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "7c93199f-cba5-333f-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "1a89231d-b21a-3187-ffff-ffff8cc4ee6a",
          "name" : "DuplicateFlowFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 111
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "Uses Snowflake Cortex to infer and generate schema",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "505c3f9f-1344-345b-ffff-ffff8cc4ee6a",
          "name" : "Apply Intelligence",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "8a4f190a-2b7d-32d7-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "schema.processing" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "3c3ef6d4-aaea-3ea3-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 119
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "1a89231d-b21a-3187-ffff-ffff8cc4ee6a",
          "name" : "DuplicateFlowFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "9a61fe13-751e-3560-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "comments" : "Creates or alters the schema using Snowflake Cortex via Schema Intelligence pipeline",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "7ee62853-4b40-36a6-ffff-ffff8cc4ee6a",
          "name" : "Create or Alter Schema",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 93
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "680fd611-878e-37a5-ffff-ffff8cc4ee6a",
          "name" : "Move to Ingest",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "a49db931-d8e6-3fcf-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "6c342d65-2d6a-3034-ffff-ffff8cc4ee6a",
          "name" : "Set Flag for Ingestion",
          "type" : "PROCESSOR"
        },
        "zIndex" : 118
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "6c342d65-2d6a-3034-ffff-ffff8cc4ee6a",
          "name" : "Set Flag for Ingestion",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "e9259761-4b98-3cbf-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "merged" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "d5d5f9e2-bc1e-3f5c-ffff-ffff8cc4ee6a",
          "name" : "MergeContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 117
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "d5d5f9e2-bc1e-3f5c-ffff-ffff8cc4ee6a",
          "name" : "MergeContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "e9d026e3-42c2-3da3-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "comments" : "",
          "groupId" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
          "id" : "b29049ca-a660-3588-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "zIndex" : 114
      } ],
      "controllerServices" : [ {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordReaderFactory"
        } ],
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "e25ffd66-04d5-3429-ffff-ffff8cc4ee6a",
        "name" : "JsonTreeReader",
        "properties" : {
          "Schema Text" : "{\n  \"type\": \"record\",\n  \"name\": \"fruits\", \n  \"fields\": [\n    {\"name\": \"id\", \"type\": \"long\"},\n    {\"name\": \"name\", \"type\": \"string\"}\n  ]\n}",
          "Max String Length" : "20 MB",
          "schema-application-strategy" : "SELECTED_PART",
          "Schema Access Strategy" : "schema-text-property",
          "Schema Name" : "${schema.name}",
          "starting-field-strategy" : "ROOT_NODE",
          "Allow Comments" : "false"
        },
        "propertyDescriptors" : {
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "Max String Length" : {
            "displayName" : "Max String Length",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max String Length",
            "sensitive" : false
          },
          "schema-application-strategy" : {
            "displayName" : "Schema Application Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "schema-application-strategy",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "schema-inference-cache" : {
            "displayName" : "Schema Inference Cache",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "schema-inference-cache",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "starting-field-strategy" : {
            "displayName" : "Starting Field Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "starting-field-strategy",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "starting-field-name" : {
            "displayName" : "Starting Field Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "starting-field-name",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Allow Comments" : {
            "displayName" : "Allow Comments",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Allow Comments",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.json.JsonTreeReader"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-connection-service-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.dbcp.DBCPService"
        } ],
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "e274b7e8-2c58-386e-ffff-ffff8cc4ee6a",
        "name" : "SFDEVREL_ENTERPRISE",
        "properties" : {
          "Account" : "#{snowflake_account}",
          "Warehouse" : "#{snowflake_warehouse}",
          "User" : "#{snowflake_user}",
          "Maximum Connections" : "10",
          "Maximum Lifetime" : "30 minutes",
          "Schema" : "metadata",
          "Connection Strategy" : "STANDARD",
          "Connection Timeout" : "30 seconds",
          "Role" : "#{snowflake_role}",
          "Idle Timeout" : "10 minutes",
          "Authentication Strategy" : "SNOWFLAKE_SESSION_TOKEN",
          "Database Name" : "#{snowflake_database}",
          "Password" : "#{snowflake_password}"
        },
        "propertyDescriptors" : {
          "Account" : {
            "displayName" : "Account",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Account",
            "sensitive" : false
          },
          "Warehouse" : {
            "displayName" : "Warehouse",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse",
            "sensitive" : false
          },
          "User" : {
            "displayName" : "User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "User",
            "sensitive" : false
          },
          "Maximum Connections" : {
            "displayName" : "Maximum Connections",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Connections",
            "sensitive" : false
          },
          "Maximum Lifetime" : {
            "displayName" : "Maximum Lifetime",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Lifetime",
            "sensitive" : false
          },
          "Schema" : {
            "displayName" : "Schema",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema",
            "sensitive" : false
          },
          "Private Key Service" : {
            "displayName" : "Private Key Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Private Key Service",
            "sensitive" : false
          },
          "Connection Strategy" : {
            "displayName" : "Connection Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Strategy",
            "sensitive" : false
          },
          "Connection Timeout" : {
            "displayName" : "Connection Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Timeout",
            "sensitive" : false
          },
          "Role" : {
            "displayName" : "Role",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Role",
            "sensitive" : false
          },
          "Idle Timeout" : {
            "displayName" : "Idle Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Idle Timeout",
            "sensitive" : false
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "Database Name" : {
            "displayName" : "Database Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Database Name",
            "sensitive" : false
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.snowflake.SnowflakeConnectionService"
      } ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ {
        "componentType" : "FUNNEL",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "b29049ca-a660-3588-ffff-ffff8cc4ee6a",
        "position" : {
          "x" : -104.0,
          "y" : -2088.0
        }
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "comments" : "Process the file further post the Schema Intelligence",
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "56f4bba2-54b0-3b09-ffff-ffff8cc4ee6a",
        "name" : "Intelligence Applied",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 224.0,
          "y" : -2088.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      }, {
        "allowRemoteAccess" : false,
        "comments" : "Creates or alters the schema using Snowflake Cortex via Schema Intelligence pipeline",
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "7ee62853-4b40-36a6-ffff-ffff8cc4ee6a",
        "name" : "Create or Alter Schema",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -200.0,
          "y" : -2896.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "Create or Alter Schema",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "comments" : "Uses Snowflake Cortex to infer and generate schema",
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "505c3f9f-1344-345b-ffff-ffff8cc4ee6a",
        "name" : "Apply Intelligence",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 400.0,
          "y" : -2288.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      }, {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "680fd611-878e-37a5-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 416.0,
          "y" : -1688.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "Structured AI Data Pipeline Parameters",
      "position" : {
        "x" : -127.9547119140625,
        "y" : -39.767791748046875
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "1a89231d-b21a-3187-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "DuplicateFlowFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -256.0,
          "y" : -2760.0
        },
        "properties" : {
          "Number of Copies" : "1"
        },
        "propertyDescriptors" : {
          "Number of Copies" : {
            "displayName" : "Number of Copies",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Number of Copies",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "3c3ef6d4-aaea-3ea3-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -256.0,
          "y" : -2328.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "schema.processing" : "${copy.index:equals('1')}",
          "csv" : "${copy.index:equals('0')}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "schema.processing" : {
            "displayName" : "schema.processing",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "schema.processing",
            "sensitive" : false
          },
          "csv" : {
            "displayName" : "csv",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "csv",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "6c342d65-2d6a-3034-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Flag for Ingestion",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -248.0,
          "y" : -1728.0
        },
        "properties" : {
          "table.namespace" : "${inferred.table.namespace}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "table.name" : "${inferred.table.name}",
          "created.or.altered" : "yes"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "table.namespace" : {
            "displayName" : "table.namespace",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.namespace",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "table.name" : {
            "displayName" : "table.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.name",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "created.or.altered" : {
            "displayName" : "created.or.altered",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "created.or.altered",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "7acf6a48-9848-34d7-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Create or Alter Attributes",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -248.0,
          "y" : -2544.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "correlation.id" : "${UUID()}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "correlation.id" : {
            "displayName" : "correlation.id",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "correlation.id",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "original" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4325dfa8-84b2-3e96-ffff-ffff8cc4ee6a",
        "identifier" : "d5d5f9e2-bc1e-3f5c-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "MergeContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -256.0,
          "y" : -1944.0
        },
        "properties" : {
          "Keep Path" : "false",
          "Merge Strategy" : "Bin-Packing Algorithm",
          "Attribute Strategy" : "Keep All Unique Attributes",
          "FlowFile Insertion Strategy" : "Last in Bin",
          "Compression Level" : "1",
          "Maximum Number of Entries" : "2",
          "Minimum Group Size" : "0 B",
          "Maximum number of Bins" : "1",
          "Tar Modified Time" : "${file.lastModifiedTime}",
          "Delimiter Strategy" : "Do Not Use Delimiters",
          "Merge Format" : "Binary Concatenation",
          "Max Bin Age" : "300 sec",
          "Correlation Attribute Name" : "${correlation.id}",
          "mergecontent-metadata-strategy" : "Do Not Merge Uncommon Metadata",
          "Minimum Number of Entries" : "2"
        },
        "propertyDescriptors" : {
          "Keep Path" : {
            "displayName" : "Keep Path",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Keep Path",
            "sensitive" : false
          },
          "Maximum Group Size" : {
            "displayName" : "Maximum Group Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Group Size",
            "sensitive" : false
          },
          "Merge Strategy" : {
            "displayName" : "Merge Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Merge Strategy",
            "sensitive" : false
          },
          "Attribute Strategy" : {
            "displayName" : "Attribute Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Attribute Strategy",
            "sensitive" : false
          },
          "FlowFile Insertion Strategy" : {
            "displayName" : "FlowFile Insertion Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "FlowFile Insertion Strategy",
            "sensitive" : false
          },
          "Compression Level" : {
            "displayName" : "Compression Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Compression Level",
            "sensitive" : false
          },
          "Maximum Number of Entries" : {
            "displayName" : "Maximum Number of Entries",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Number of Entries",
            "sensitive" : false
          },
          "Minimum Group Size" : {
            "displayName" : "Minimum Group Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Minimum Group Size",
            "sensitive" : false
          },
          "Maximum number of Bins" : {
            "displayName" : "Maximum number of Bins",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum number of Bins",
            "sensitive" : false
          },
          "Tar Modified Time" : {
            "displayName" : "Tar Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Tar Modified Time",
            "sensitive" : false
          },
          "Delimiter Strategy" : {
            "displayName" : "Delimiter Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delimiter Strategy",
            "sensitive" : false
          },
          "Merge Format" : {
            "displayName" : "Merge Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Merge Format",
            "sensitive" : false
          },
          "Footer File" : {
            "displayName" : "Footer",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Footer File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE", "TEXT" ]
            },
            "sensitive" : false
          },
          "Max Bin Age" : {
            "displayName" : "Max Bin Age",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Bin Age",
            "sensitive" : false
          },
          "Demarcator File" : {
            "displayName" : "Demarcator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Demarcator File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE", "TEXT" ]
            },
            "sensitive" : false
          },
          "Correlation Attribute Name" : {
            "displayName" : "Correlation Attribute Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Correlation Attribute Name",
            "sensitive" : false
          },
          "Bin Termination Check" : {
            "displayName" : "Bin Termination Check",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bin Termination Check",
            "sensitive" : false
          },
          "Header File" : {
            "displayName" : "Header",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Header File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE", "TEXT" ]
            },
            "sensitive" : false
          },
          "mergecontent-metadata-strategy" : {
            "displayName" : "Metadata Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "mergecontent-metadata-strategy",
            "sensitive" : false
          },
          "Minimum Number of Entries" : {
            "displayName" : "Minimum Number of Entries",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Minimum Number of Entries",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.MergeContent",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "00c2f813-aae3-3e07-ffff-ffff8cc4ee6a",
          "name" : "Avro Schema and Notebook Code",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "201ef87c-7cc5-3e84-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "create_schema" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "3f80a287-4d5c-3f98-ffff-ffff8cc4ee6a",
          "name" : "Create or Alter Schema",
          "type" : "PROCESSOR"
        },
        "zIndex" : 92
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "3f80a287-4d5c-3f98-ffff-ffff8cc4ee6a",
          "name" : "Create or Alter Schema",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "2504ff1c-7101-3b77-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "bc73e354-fcc8-3829-ffff-ffff8cc4ee6a",
          "name" : "Apply Intelligence",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 99
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "119edcdc-b1d8-33f5-ffff-ffff8cc4ee6a",
          "name" : "Set Table Attributes",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "322e01aa-478a-38b4-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "8457e355-aadb-3c7b-ffff-ffff8cc4ee6a",
          "name" : "Clear Flow Content",
          "type" : "PROCESSOR"
        },
        "zIndex" : 100
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "439b4588-8d41-3cc0-ffff-ffff8cc4ee6a",
          "name" : "Update Code Attributes",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "471c5f03-ffab-356c-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "1364a982-24a2-35f8-ffff-ffff8cc4ee6a",
          "name" : "Upsert Schema Registry",
          "type" : "PROCESSOR"
        },
        "zIndex" : 98
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "1364a982-24a2-35f8-ffff-ffff8cc4ee6a",
          "name" : "Upsert Schema Registry",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "512c71b2-8196-3d1f-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "f3ff8e0c-bb74-3f55-ffff-ffff8cc4ee6a",
          "name" : "Extract Attributes from Cortex Response",
          "type" : "PROCESSOR"
        },
        "zIndex" : 85
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "8457e355-aadb-3c7b-ffff-ffff8cc4ee6a",
          "name" : "Clear Flow Content",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "57e747d0-21df-3572-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "548141ed-949f-36aa-ffff-ffff8cc4ee6a",
          "name" : "PutSnowflakeInternalStageFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 102
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "02a44a70-e620-3cf2-ffff-ffff8cc4ee6a",
          "name" : "Set Code",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "7e327149-3f85-33ed-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "439b4588-8d41-3cc0-ffff-ffff8cc4ee6a",
          "name" : "Update Code Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 65
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "f3ff8e0c-bb74-3f55-ffff-ffff8cc4ee6a",
          "name" : "Extract Attributes from Cortex Response",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "9a0a8e8a-47e4-3438-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "00c2f813-aae3-3e07-ffff-ffff8cc4ee6a",
          "name" : "Avro Schema and Notebook Code",
          "type" : "PROCESSOR"
        },
        "zIndex" : 84
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "3f33de22-0f52-30e9-ffff-ffff8cc4ee6a",
          "name" : "Change Schema Status",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "c7a59889-53e8-3520-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "alter_schema" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "3f80a287-4d5c-3f98-ffff-ffff8cc4ee6a",
          "name" : "Create or Alter Schema",
          "type" : "PROCESSOR"
        },
        "zIndex" : 91
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "548141ed-949f-36aa-ffff-ffff8cc4ee6a",
          "name" : "PutSnowflakeInternalStageFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "ce9da537-abeb-36a1-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "02a44a70-e620-3cf2-ffff-ffff8cc4ee6a",
          "name" : "Set Code",
          "type" : "PROCESSOR"
        },
        "zIndex" : 103
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "bd2e7e04-85af-3ab6-ffff-ffff8cc4ee6a",
          "name" : "Intelligence Applied",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "da12ada0-ab7e-312b-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "119edcdc-b1d8-33f5-ffff-ffff8cc4ee6a",
          "name" : "Set Table Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 101
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "00c2f813-aae3-3e07-ffff-ffff8cc4ee6a",
          "name" : "Avro Schema and Notebook Code",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "f351c153-9146-314a-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
          "id" : "3f33de22-0f52-30e9-ffff-ffff8cc4ee6a",
          "name" : "Change Schema Status",
          "type" : "PROCESSOR"
        },
        "zIndex" : 89
      } ],
      "controllerServices" : [ {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-connection-service-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.dbcp.DBCPService"
        } ],
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "8405eb99-583c-3786-ffff-ffff8cc4ee6a",
        "name" : "Snowflake Enterprise",
        "properties" : {
          "Account" : "#{snowflake_account}",
          "Warehouse" : "#{snowflake_warehouse}",
          "User" : "#{snowflake_user}",
          "Maximum Connections" : "10",
          "Maximum Lifetime" : "30 minutes",
          "Connection Strategy" : "STANDARD",
          "Connection Timeout" : "30 seconds",
          "Role" : "#{snowflake_role}",
          "Idle Timeout" : "10 minutes",
          "Authentication Strategy" : "SNOWFLAKE_SESSION_TOKEN",
          "Database Name" : "#{snowflake_database}",
          "Password" : "#{snowflake_password}"
        },
        "propertyDescriptors" : {
          "Account" : {
            "displayName" : "Account",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Account",
            "sensitive" : false
          },
          "Warehouse" : {
            "displayName" : "Warehouse",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse",
            "sensitive" : false
          },
          "User" : {
            "displayName" : "User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "User",
            "sensitive" : false
          },
          "Maximum Connections" : {
            "displayName" : "Maximum Connections",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Connections",
            "sensitive" : false
          },
          "Maximum Lifetime" : {
            "displayName" : "Maximum Lifetime",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Lifetime",
            "sensitive" : false
          },
          "Schema" : {
            "displayName" : "Schema",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema",
            "sensitive" : false
          },
          "Private Key Service" : {
            "displayName" : "Private Key Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Private Key Service",
            "sensitive" : false
          },
          "Connection Strategy" : {
            "displayName" : "Connection Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Strategy",
            "sensitive" : false
          },
          "Connection Timeout" : {
            "displayName" : "Connection Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Timeout",
            "sensitive" : false
          },
          "Role" : {
            "displayName" : "Role",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Role",
            "sensitive" : false
          },
          "Idle Timeout" : {
            "displayName" : "Idle Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Idle Timeout",
            "sensitive" : false
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "Database Name" : {
            "displayName" : "Database Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Database Name",
            "sensitive" : false
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.snowflake.SnowflakeConnectionService"
      } ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "bc73e354-fcc8-3829-ffff-ffff8cc4ee6a",
        "name" : "Apply Intelligence",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -192.0,
          "y" : -752.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "Schema Intelligence",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "bd2e7e04-85af-3ab6-ffff-ffff8cc4ee6a",
        "name" : "Intelligence Applied",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -168.0,
          "y" : 688.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "Structured AI Data Pipeline Parameters",
      "position" : {
        "x" : -615.9547119140625,
        "y" : 312.2322082519531
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-processors-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "00c2f813-aae3-3e07-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Avro Schema and Notebook Code",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -240.0,
          "y" : -384.0
        },
        "properties" : {
          "Temperature" : "0.7",
          "Enable Cortex Guardrails" : "false",
          "Response Format" : "JSON",
          "Text Model Name" : "claude-4-sonnet",
          "User Message" : "#{cortex_prompt_user_message}",
          "Top P" : "0.2",
          "Snowflake Connection Service" : "8405eb99-583c-3786-ffff-ffff8cc4ee6a",
          "Max Tokens" : "4096",
          "System Message" : "#{cortex_prompt_system_message}",
          "Output Strategy" : "FlowFile",
          "Results Attribute" : "avro.schema"
        },
        "propertyDescriptors" : {
          "Temperature" : {
            "displayName" : "Temperature",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Temperature",
            "sensitive" : false
          },
          "Enable Cortex Guardrails" : {
            "displayName" : "Enable Cortex Guardrails",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Enable Cortex Guardrails",
            "sensitive" : false
          },
          "Response Format" : {
            "displayName" : "Response Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Response Format",
            "sensitive" : false
          },
          "Text Model Name" : {
            "displayName" : "Text Model Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text Model Name",
            "sensitive" : false
          },
          "User Message" : {
            "displayName" : "User Message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "User Message",
            "sensitive" : false
          },
          "Top P" : {
            "displayName" : "Top P",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Top P",
            "sensitive" : false
          },
          "Snowflake Connection Service" : {
            "displayName" : "Snowflake Connection Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Snowflake Connection Service",
            "sensitive" : false
          },
          "Max Tokens" : {
            "displayName" : "Max Tokens",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Tokens",
            "sensitive" : false
          },
          "System Message" : {
            "displayName" : "System Message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "System Message",
            "sensitive" : false
          },
          "Output Strategy" : {
            "displayName" : "Output Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Output Strategy",
            "sensitive" : false
          },
          "Results Attribute" : {
            "displayName" : "Results Attribute",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Results Attribute",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.snowflake.PromptSnowflakeCortex",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "02a44a70-e620-3cf2-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Code",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 456.0,
          "y" : 240.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "${code.content}",
          "Evaluation Mode" : "Line-by-Line",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Regex Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "119edcdc-b1d8-33f5-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Table Attributes",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 480.0
        },
        "properties" : {
          "inferred.table.name" : "${table.name}",
          "inferred.table.namespace" : "${table.namespace}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "inferred.table.name" : {
            "displayName" : "inferred.table.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "inferred.table.name",
            "sensitive" : false
          },
          "inferred.table.namespace" : {
            "displayName" : "inferred.table.namespace",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "inferred.table.namespace",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-database-processors-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "1364a982-24a2-35f8-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Upsert Schema Registry",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 448.0,
          "y" : -176.0
        },
        "properties" : {
          "Max Batch Size" : "1",
          "Connection Pooling Service" : "8405eb99-583c-3786-ffff-ffff8cc4ee6a",
          "Max Content Reference Size" : "32 KB",
          "SQL" : "#{upsert_schema_registry_sql}"
        },
        "propertyDescriptors" : {
          "Max Batch Size" : {
            "displayName" : "Max Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Batch Size",
            "sensitive" : false
          },
          "Connection Pooling Service" : {
            "displayName" : "Connection Pooling Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Connection Pooling Service",
            "sensitive" : false
          },
          "Max Content Reference Size" : {
            "displayName" : "Max Content Reference Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Content Reference Size",
            "sensitive" : false
          },
          "SQL" : {
            "displayName" : "SQL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "SQL",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.database.ExecuteSQLStatement",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-database-processors-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "3f33de22-0f52-30e9-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Change Schema Status",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 424.0,
          "y" : -488.0
        },
        "properties" : {
          "Max Batch Size" : "1",
          "Connection Pooling Service" : "8405eb99-583c-3786-ffff-ffff8cc4ee6a",
          "Max Content Reference Size" : "32 KB",
          "SQL" : "#{schema_state_draft_sql}"
        },
        "propertyDescriptors" : {
          "Max Batch Size" : {
            "displayName" : "Max Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Batch Size",
            "sensitive" : false
          },
          "Connection Pooling Service" : {
            "displayName" : "Connection Pooling Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Connection Pooling Service",
            "sensitive" : false
          },
          "Max Content Reference Size" : {
            "displayName" : "Max Content Reference Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Content Reference Size",
            "sensitive" : false
          },
          "SQL" : {
            "displayName" : "SQL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "SQL",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.database.ExecuteSQLStatement",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "3f80a287-4d5c-3f98-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Create or Alter Schema",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -248.0,
          "y" : -624.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "alter_schema" : "${schema.evolution.required:notNull():and(${schema.evolution.required:equals('yes')})}",
          "create_schema" : "${is.first.time:notNull():and(${is.first.time:equals('yes')})}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "alter_schema" : {
            "displayName" : "alter_schema",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "alter_schema",
            "sensitive" : false
          },
          "create_schema" : {
            "displayName" : "create_schema",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "create_schema",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "439b4588-8d41-3cc0-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Update Code Attributes",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 456.0,
          "y" : 32.0
        },
        "properties" : {
          "filename" : "${is.first.time:equals('yes'):ifElse('${table.namespace}_${table.name}_create.sql', '${table.namespace}_${table.name}_evolve.sql')}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-processors-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "548141ed-949f-36aa-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "PutSnowflakeInternalStageFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -216.0,
          "y" : 56.0
        },
        "properties" : {
          "Compression Enabled" : "false",
          "Schema" : "#{music_flow_data_schema}",
          "Snowflake Connection Service" : "8405eb99-583c-3786-ffff-ffff8cc4ee6a",
          "Database" : "#{snowflake_database}",
          "Stage" : "#{music_flow_generated_sources_stage}",
          "File Name" : "${filename}",
          "Internal Stage Type" : "named"
        },
        "propertyDescriptors" : {
          "Compression Enabled" : {
            "displayName" : "Compression Enabled",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Compression Enabled",
            "sensitive" : false
          },
          "Table" : {
            "displayName" : "Table",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Table",
            "sensitive" : false
          },
          "Schema" : {
            "displayName" : "Schema",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema",
            "sensitive" : false
          },
          "Snowflake Connection Service" : {
            "displayName" : "Snowflake Connection Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Snowflake Connection Service",
            "sensitive" : false
          },
          "Database" : {
            "displayName" : "Database",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Database",
            "sensitive" : false
          },
          "File Prefix" : {
            "displayName" : "File Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "File Prefix",
            "sensitive" : false
          },
          "Stage" : {
            "displayName" : "Stage",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stage",
            "sensitive" : false
          },
          "File Name" : {
            "displayName" : "File Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "File Name",
            "sensitive" : false
          },
          "Internal Stage Type" : {
            "displayName" : "Internal Stage Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Internal Stage Type",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.snowflake.PutSnowflakeInternalStageFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "8457e355-aadb-3c7b-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Clear Flow Content",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 272.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "",
          "Evaluation Mode" : "Line-by-Line",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-groovyx-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "454e6fda-714a-396b-ffff-ffff8cc4ee6a",
        "identifier" : "f3ff8e0c-bb74-3f55-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Extract Attributes from Cortex Response",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -240.0,
          "y" : -168.0
        },
        "properties" : {
          "Script File" : "#{script_extract_cortex_response}",
          "Failure Strategy" : "rollback"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Additional Classpath" : {
            "displayName" : "Additional Classpath",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Additional Classpath",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Failure Strategy" : {
            "displayName" : "Failure Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Failure Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "f4de6a22-1c82-3794-ffff-ffff8cc4ee6a",
          "name" : "PublishSlack",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "0a379465-346e-3226-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "a33294d5-d9fa-3aa3-ffff-ffff8cc4ee6a",
          "name" : "DeleteS3Object",
          "type" : "PROCESSOR"
        },
        "zIndex" : 6
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "c1b8bacd-1315-3de9-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "312df4aa-54b4-30f9-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "85ed510a-1b6b-307c-ffff-ffff8cc4ee6a",
          "name" : "Mark File As Done",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 4
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "a33294d5-d9fa-3aa3-ffff-ffff8cc4ee6a",
          "name" : "DeleteS3Object",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "646526cf-1159-392e-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "02de841a-2bcc-3f4e-ffff-ffff8cc4ee6a",
          "name" : "Mark file as Done",
          "type" : "PROCESSOR"
        },
        "zIndex" : 3
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "d5a40010-9cec-3c95-ffff-ffff8cc4ee6a",
          "name" : "PutS3Object",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "87c267fb-21c5-3ca9-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "c1b8bacd-1315-3de9-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 5
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "02de841a-2bcc-3f4e-ffff-ffff8cc4ee6a",
          "name" : "Mark file as Done",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "b2864e8d-e6d9-361b-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "d5a40010-9cec-3c95-ffff-ffff8cc4ee6a",
          "name" : "PutS3Object",
          "type" : "PROCESSOR"
        },
        "zIndex" : 2
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "2a473352-8625-30b2-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "bf238f1a-d2c7-3798-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
          "id" : "f4de6a22-1c82-3794-ffff-ffff8cc4ee6a",
          "name" : "PublishSlack",
          "type" : "PROCESSOR"
        },
        "zIndex" : 7
      } ],
      "controllerServices" : [ {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-aws-service-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService"
        }, {
          "bundle" : {
            "artifact" : "nifi-aws-service-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService"
        } ],
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "102833a8-ee6b-3ec8-ffff-ffff8cc4ee6a",
        "name" : "AWS DevRel Sandbox",
        "properties" : {
          "Assume Role STS Region" : "us-west-2",
          "Access Key ID" : "#{music-flow.aws.access-key-id}",
          "Assume Role ARN" : "#{music-flow.s3.assume-role-arn}",
          "Assume Role Session Time" : "3600",
          "Assume Role Session Name" : "Kamesh_SPCS_Openflow_MF_Demo",
          "Use Default Credentials" : "false",
          "Assume Role External ID" : "#{music-flow.s3.ingest-data.assume-role-external-ID}",
          "Assume Role STS Signer Override" : "Default Signature",
          "Use Anonymous Credentials" : "false",
          "Secret Access Key" : "#{music-flow.aws.secret-access-key}"
        },
        "propertyDescriptors" : {
          "Assume Role STS Region" : {
            "displayName" : "Assume Role STS Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Region",
            "sensitive" : false
          },
          "Assume Role Proxy Configuration Service" : {
            "displayName" : "Assume Role Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Assume Role Proxy Configuration Service",
            "sensitive" : false
          },
          "Access Key ID" : {
            "displayName" : "Access Key ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Key ID",
            "sensitive" : true
          },
          "Assume Role ARN" : {
            "displayName" : "Assume Role ARN",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role ARN",
            "sensitive" : false
          },
          "Assume Role Session Time" : {
            "displayName" : "Assume Role Session Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role Session Time",
            "sensitive" : false
          },
          "Assume Role Session Name" : {
            "displayName" : "Assume Role Session Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role Session Name",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "Use Default Credentials" : {
            "displayName" : "Use Default Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Default Credentials",
            "sensitive" : false
          },
          "Assume Role External ID" : {
            "displayName" : "Assume Role External ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role External ID",
            "sensitive" : false
          },
          "Assume Role STS Endpoint Override" : {
            "displayName" : "Assume Role STS Endpoint Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Endpoint Override",
            "sensitive" : false
          },
          "Profile Name" : {
            "displayName" : "Profile Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Profile Name",
            "sensitive" : false
          },
          "Credentials File" : {
            "displayName" : "Credentials File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Credentials File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Assume Role STS Signer Override" : {
            "displayName" : "Assume Role STS Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Signer Override",
            "sensitive" : false
          },
          "Use Anonymous Credentials" : {
            "displayName" : "Use Anonymous Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Anonymous Credentials",
            "sensitive" : false
          },
          "Secret Access Key" : {
            "displayName" : "Secret Access Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Secret Access Key",
            "sensitive" : true
          },
          "Assume Role SSL Context Service" : {
            "displayName" : "Assume Role SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Assume Role SSL Context Service",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService"
      } ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ {
        "componentType" : "FUNNEL",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "2a473352-8625-30b2-ffff-ffff8cc4ee6a",
        "position" : {
          "x" : -8.0,
          "y" : 648.0
        }
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "85ed510a-1b6b-307c-ffff-ffff8cc4ee6a",
        "name" : "Mark File As Done",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -120.0,
          "y" : -568.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "Mark File As Done",
      "outputPorts" : [ ],
      "parameterContextName" : "Structured AI Data Pipeline Parameters",
      "position" : {
        "x" : 448.0452880859375,
        "y" : -47.767791748046875
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "02de841a-2bcc-3f4e-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Mark file as Done",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -168.0,
          "y" : 8.0
        },
        "properties" : {
          "FullControl User List" : "${s3.permissions.full.users}",
          "Owner" : "${s3.owner}",
          "Resource Transfer Source" : "FLOWFILE_CONTENT",
          "Multipart Upload Max Age Threshold" : "7 days",
          "Signer Override" : "Default Signature",
          "Content Type" : "${processed.file.mime.type}",
          "Canned ACL" : "${s3.permissions.cannedacl}",
          "Use Path Style Access" : "false",
          "Write ACL User List" : "${s3.permissions.writeacl.users}",
          "Use Chunked Encoding" : "true",
          "Read ACL User List" : "${s3.permissions.readacl.users}",
          "Storage Class" : "Standard",
          "Multipart Part Size" : "5 GB",
          "Remove Tag Prefix" : "false",
          "Object Key" : "${filename}.done",
          "AWS Credentials Provider service" : "102833a8-ee6b-3ec8-ffff-ffff8cc4ee6a",
          "Multipart Threshold" : "5 GB",
          "Temporary Directory Multipart State" : "${java.io.tmpdir}",
          "Server Side Encryption" : "None",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Multipart Upload AgeOff Interval" : "60 min",
          "Write Permission User List" : "${s3.permissions.write.users}",
          "Communications Timeout" : "30 secs",
          "Region" : "us-west-2",
          "Read Permission User List" : "${s3.permissions.read.users}"
        },
        "propertyDescriptors" : {
          "FullControl User List" : {
            "displayName" : "FullControl User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "FullControl User List",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Resource Transfer Source" : {
            "displayName" : "Resource Transfer Source",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Resource Transfer Source",
            "sensitive" : false
          },
          "Cache Control" : {
            "displayName" : "Cache Control",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Cache Control",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "File Resource Service" : {
            "displayName" : "File Resource Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "File Resource Service",
            "sensitive" : false
          },
          "Multipart Upload Max Age Threshold" : {
            "displayName" : "Multipart Upload Max Age Threshold",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Upload Max Age Threshold",
            "sensitive" : false
          },
          "Object Tags Prefix" : {
            "displayName" : "Object Tags Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Tags Prefix",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Content Type" : {
            "displayName" : "Content Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Type",
            "sensitive" : false
          },
          "Canned ACL" : {
            "displayName" : "Canned ACL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Canned ACL",
            "sensitive" : false
          },
          "Use Path Style Access" : {
            "displayName" : "Use Path Style Access",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Path Style Access",
            "sensitive" : false
          },
          "Encryption Service" : {
            "displayName" : "Encryption Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Encryption Service",
            "sensitive" : false
          },
          "Write ACL User List" : {
            "displayName" : "Write ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write ACL User List",
            "sensitive" : false
          },
          "Use Chunked Encoding" : {
            "displayName" : "Use Chunked Encoding",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Chunked Encoding",
            "sensitive" : false
          },
          "Read ACL User List" : {
            "displayName" : "Read ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read ACL User List",
            "sensitive" : false
          },
          "Content Disposition" : {
            "displayName" : "Content Disposition",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Disposition",
            "sensitive" : false
          },
          "Storage Class" : {
            "displayName" : "Storage Class",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Storage Class",
            "sensitive" : false
          },
          "Multipart Part Size" : {
            "displayName" : "Multipart Part Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Part Size",
            "sensitive" : false
          },
          "Remove Tag Prefix" : {
            "displayName" : "Remove Tag Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Remove Tag Prefix",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Multipart Threshold" : {
            "displayName" : "Multipart Threshold",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Threshold",
            "sensitive" : false
          },
          "Temporary Directory Multipart State" : {
            "displayName" : "Temporary Directory Multipart State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Temporary Directory Multipart State",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Server Side Encryption" : {
            "displayName" : "Server Side Encryption",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Server Side Encryption",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Multipart Upload AgeOff Interval" : {
            "displayName" : "Multipart Upload AgeOff Interval",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Upload AgeOff Interval",
            "sensitive" : false
          },
          "Write Permission User List" : {
            "displayName" : "Write Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Permission User List",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Read Permission User List" : {
            "displayName" : "Read Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read Permission User List",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Expiration Time Rule" : {
            "displayName" : "Expiration Time Rule",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Expiration Time Rule",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.PutS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "a33294d5-d9fa-3aa3-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "DeleteS3Object",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -168.0,
          "y" : 232.0
        },
        "properties" : {
          "FullControl User List" : "${s3.permissions.full.users}",
          "Owner" : "${s3.owner}",
          "Object Key" : "${processed.filename}",
          "AWS Credentials Provider service" : "102833a8-ee6b-3ec8-ffff-ffff8cc4ee6a",
          "Signer Override" : "Default Signature",
          "Bucket" : "${s3.bucket}",
          "Write Permission User List" : "${s3.permissions.write.users}",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}",
          "Read Permission User List" : "${s3.permissions.read.users}",
          "Write ACL User List" : "${s3.permissions.writeacl.users}",
          "Read ACL User List" : "${s3.permissions.readacl.users}"
        },
        "propertyDescriptors" : {
          "FullControl User List" : {
            "displayName" : "FullControl User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "FullControl User List",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Version" : {
            "displayName" : "Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Version",
            "sensitive" : false
          },
          "Write Permission User List" : {
            "displayName" : "Write Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Permission User List",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Read Permission User List" : {
            "displayName" : "Read Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read Permission User List",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Write ACL User List" : {
            "displayName" : "Write ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write ACL User List",
            "sensitive" : false
          },
          "Read ACL User List" : {
            "displayName" : "Read ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read ACL User List",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.DeleteS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "c1b8bacd-1315-3de9-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "UpdateAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -176.0,
          "y" : -440.0
        },
        "properties" : {
          "processed.filename" : "${filename}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "processed.file.mime.type" : "${mime.type}"
        },
        "propertyDescriptors" : {
          "processed.filename" : {
            "displayName" : "processed.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "processed.filename",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "processed.file.mime.type" : {
            "displayName" : "processed.file.mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "processed.file.mime.type",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "d5a40010-9cec-3c95-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "PutS3Object",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -176.0,
          "y" : -216.0
        },
        "properties" : {
          "FullControl User List" : "${s3.permissions.full.users}",
          "Owner" : "${s3.owner}",
          "Resource Transfer Source" : "FLOWFILE_CONTENT",
          "Multipart Upload Max Age Threshold" : "7 days",
          "Signer Override" : "Default Signature",
          "Canned ACL" : "${s3.permissions.cannedacl}",
          "Use Path Style Access" : "false",
          "Write ACL User List" : "${s3.permissions.writeacl.users}",
          "Use Chunked Encoding" : "true",
          "Read ACL User List" : "${s3.permissions.readacl.users}",
          "Storage Class" : "Standard",
          "Multipart Part Size" : "5 GB",
          "Remove Tag Prefix" : "false",
          "Object Key" : "${filename}",
          "AWS Credentials Provider service" : "102833a8-ee6b-3ec8-ffff-ffff8cc4ee6a",
          "Multipart Threshold" : "5 GB",
          "Temporary Directory Multipart State" : "${java.io.tmpdir}",
          "Server Side Encryption" : "None",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Multipart Upload AgeOff Interval" : "60 min",
          "Write Permission User List" : "${s3.permissions.write.users}",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}",
          "Read Permission User List" : "${s3.permissions.read.users}"
        },
        "propertyDescriptors" : {
          "FullControl User List" : {
            "displayName" : "FullControl User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "FullControl User List",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Resource Transfer Source" : {
            "displayName" : "Resource Transfer Source",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Resource Transfer Source",
            "sensitive" : false
          },
          "Cache Control" : {
            "displayName" : "Cache Control",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Cache Control",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "File Resource Service" : {
            "displayName" : "File Resource Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "File Resource Service",
            "sensitive" : false
          },
          "Multipart Upload Max Age Threshold" : {
            "displayName" : "Multipart Upload Max Age Threshold",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Upload Max Age Threshold",
            "sensitive" : false
          },
          "Object Tags Prefix" : {
            "displayName" : "Object Tags Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Tags Prefix",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Content Type" : {
            "displayName" : "Content Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Type",
            "sensitive" : false
          },
          "Canned ACL" : {
            "displayName" : "Canned ACL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Canned ACL",
            "sensitive" : false
          },
          "Use Path Style Access" : {
            "displayName" : "Use Path Style Access",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Path Style Access",
            "sensitive" : false
          },
          "Encryption Service" : {
            "displayName" : "Encryption Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Encryption Service",
            "sensitive" : false
          },
          "Write ACL User List" : {
            "displayName" : "Write ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write ACL User List",
            "sensitive" : false
          },
          "Use Chunked Encoding" : {
            "displayName" : "Use Chunked Encoding",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Chunked Encoding",
            "sensitive" : false
          },
          "Read ACL User List" : {
            "displayName" : "Read ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read ACL User List",
            "sensitive" : false
          },
          "Content Disposition" : {
            "displayName" : "Content Disposition",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Disposition",
            "sensitive" : false
          },
          "Storage Class" : {
            "displayName" : "Storage Class",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Storage Class",
            "sensitive" : false
          },
          "Multipart Part Size" : {
            "displayName" : "Multipart Part Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Part Size",
            "sensitive" : false
          },
          "Remove Tag Prefix" : {
            "displayName" : "Remove Tag Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Remove Tag Prefix",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Multipart Threshold" : {
            "displayName" : "Multipart Threshold",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Threshold",
            "sensitive" : false
          },
          "Temporary Directory Multipart State" : {
            "displayName" : "Temporary Directory Multipart State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Temporary Directory Multipart State",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Server Side Encryption" : {
            "displayName" : "Server Side Encryption",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Server Side Encryption",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Multipart Upload AgeOff Interval" : {
            "displayName" : "Multipart Upload AgeOff Interval",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Upload AgeOff Interval",
            "sensitive" : false
          },
          "Write Permission User List" : {
            "displayName" : "Write Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Permission User List",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Read Permission User List" : {
            "displayName" : "Read Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read Permission User List",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Expiration Time Rule" : {
            "displayName" : "Expiration Time Rule",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Expiration Time Rule",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.PutS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "rate limited" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-slack-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4cd2e964-5246-38c4-ffff-ffff8cc4ee6a",
        "identifier" : "f4de6a22-1c82-3794-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "PublishSlack",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -160.0,
          "y" : 440.0
        },
        "properties" : {
          "Max FlowFile Size" : "1 MB",
          "Publish Strategy" : "Use 'Message Text' Property",
          "Channel" : "#music-flow",
          "Access Token" : "#{slack.bot.oauth.token}",
          "Message Text" : " *Data Ingestion Successful*\n\n *Ingestion Details:*\n    Table: `${table.name}`\n    Namespace: `${table.namespace}`\n    Source: `${filename}` from s3 bucket `${source.s3.bucket}`\n    Status:  Complete\n\n *What's Next?*\n   Your data is now available for querying and analytics\n\n---\n MusicFlow Pipeline | ${now():format('yyyy-MM-dd HH:mm:ss')}",
          "Character Set" : "UTF-8",
          "Include FlowFile Content as Attachment" : "true"
        },
        "propertyDescriptors" : {
          "Max FlowFile Size" : {
            "displayName" : "Max FlowFile Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max FlowFile Size",
            "sensitive" : false
          },
          "Thread Timestamp" : {
            "displayName" : "Thread Timestamp",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Thread Timestamp",
            "sensitive" : false
          },
          "Methods Endpoint Url Prefix" : {
            "displayName" : "Methods Endpoint Url Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Methods Endpoint Url Prefix",
            "sensitive" : false
          },
          "Publish Strategy" : {
            "displayName" : "Publish Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Publish Strategy",
            "sensitive" : false
          },
          "Channel" : {
            "displayName" : "Channel",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Channel",
            "sensitive" : false
          },
          "Access Token" : {
            "displayName" : "Access Token",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Token",
            "sensitive" : true
          },
          "Message Text" : {
            "displayName" : "Message Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Message Text",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Include FlowFile Content as Attachment" : {
            "displayName" : "Include FlowFile Content as Attachment",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Include FlowFile Content as Attachment",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.slack.PublishSlack",
        "yieldDuration" : "3 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "Design and Analyze the CSV Data File for Schema Generation",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "adcc2567-744a-33b7-ffff-ffff8cc4ee6a",
          "name" : "DuplicateFlowFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "0102c03c-65c4-3514-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "982a3756-2116-3782-ffff-ffff8cc4ee6a",
          "name" : "Get CSV Metadata",
          "type" : "PROCESSOR"
        },
        "zIndex" : 92
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "d6487b3a-3f25-3a6c-ffff-ffff8cc4ee6a",
          "name" : "Clear SQL Results",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "051a4fd9-ff95-3a94-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "f2133b27-a533-3f62-ffff-ffff8cc4ee6a",
          "name" : "Update Schema Evolution Check Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 112
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "57c183a5-b553-32ef-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "05ced83f-bdf2-3f42-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "csv" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8a14025e-4b08-3be7-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 127
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "d4efc8a1-3df9-3c72-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "064b2864-420d-3e0b-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "fcaed903-0444-326c-ffff-ffff8cc4ee6a",
          "name" : "Decompress gzip",
          "type" : "PROCESSOR"
        },
        "zIndex" : 70
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "Send to Create or alter schema pipeline",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "be58ecbf-7ffc-35ac-ffff-ffff8cc4ee6a",
          "name" : "Create or Alter Schema",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "0ccba32a-0b9c-371f-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "has_schema_evolution", "is_first_time" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "46c771b3-e267-3d08-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 115
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "78e20181-70c5-3d64-ffff-ffff8cc4ee6a",
          "name" : "Mark SQL Error and Terminate",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "0e6f2700-104c-3445-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "b39348db-746d-3536-ffff-ffff8cc4ee6a",
          "name" : "Log SQL Error",
          "type" : "PROCESSOR"
        },
        "zIndex" : 135
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "982a3756-2116-3782-ffff-ffff8cc4ee6a",
          "name" : "Get CSV Metadata",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "1dede1b7-0c54-3fbf-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "mime_csv" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "302326f5-d5ed-3411-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 123
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c6c933a-d59d-30c2-ffff-ffff8cc4ee6a",
          "name" : "Filter Only music-flow Files",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "3b4a0382-23ad-3a1e-87b8-156342892cae",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "created", "updated" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8db940c7-f356-35e9-b47d-ed867c96c92d",
          "name" : "CaptureSharepointChanges",
          "type" : "PROCESSOR"
        },
        "zIndex" : 137
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "302326f5-d5ed-3411-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "41af330f-53fb-3073-8e2b-569d7f8d6947",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "fceeab41-281e-355c-ffff-ffffa7e9fc2d",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 149
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c706af6d-ba8a-37c3-99c8-77affc5044b9",
          "name" : "FetchSharepointFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "41e70380-0018-3101-a35e-e65a34690dc7",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "source_sharepoint" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c289a05b-91e2-3fdd-8283-5fc6c932ebec",
          "name" : "Detect Source",
          "type" : "PROCESSOR"
        },
        "zIndex" : 140
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "57c183a5-b553-32ef-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "4a2389e4-cd57-30a8-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "d6487b3a-3f25-3a6c-ffff-ffff8cc4ee6a",
          "name" : "Clear SQL Results",
          "type" : "PROCESSOR"
        },
        "zIndex" : 113
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8cdce380-eb11-35fc-ffff-ffff8cc4ee6a",
          "name" : "Unzip",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "55567d49-02c0-3fb7-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "is_zip_or_tar" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "302326f5-d5ed-3411-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 24
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "f2133b27-a533-3f62-ffff-ffff8cc4ee6a",
          "name" : "Update Schema Evolution Check Attributes",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "59f4a3ac-c76f-3c3d-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "2fdf6301-93d6-3561-ffff-ffff8cc4ee6a",
          "name" : "Do Schema Check",
          "type" : "PROCESSOR"
        },
        "zIndex" : 109
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ {
          "x" : 634.0,
          "y" : -216.0
        }, {
          "x" : 634.0,
          "y" : -166.0
        } ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c706af6d-ba8a-37c3-99c8-77affc5044b9",
          "name" : "FetchSharepointFile",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "67415f7f-29b7-3e70-83ec-aeb22f83e828",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "comms.failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c706af6d-ba8a-37c3-99c8-77affc5044b9",
          "name" : "FetchSharepointFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 144
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "302326f5-d5ed-3411-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "72e6b876-5d00-3ab2-800c-0694fff71120",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "1f1f9d75-11e5-3ff8-b8e7-b10b061f386e",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 147
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "18957410-ef01-3651-ffff-ffff8cc4ee6a",
          "name" : "Set Correlation ID",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "7f62c7a6-e919-36c8-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "adcc2567-744a-33b7-ffff-ffff8cc4ee6a",
          "name" : "DuplicateFlowFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 124
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8a14025e-4b08-3be7-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "803bef4f-92ea-30bb-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "18957410-ef01-3651-ffff-ffff8cc4ee6a",
          "name" : "Set Correlation ID",
          "type" : "PROCESSOR"
        },
        "zIndex" : 125
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ {
          "x" : -142.0,
          "y" : -231.0
        }, {
          "x" : -185.0,
          "y" : -166.0
        } ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c19a94f-01ed-332a-ffff-ffff8cc4ee6a",
          "name" : "Get Data Files",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "888a6f0d-818a-3f3a-91d4-67656da13a12",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c19a94f-01ed-332a-ffff-ffff8cc4ee6a",
          "name" : "Get Data Files",
          "type" : "PROCESSOR"
        },
        "zIndex" : 145
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "2fdf6301-93d6-3561-ffff-ffff8cc4ee6a",
          "name" : "Do Schema Check",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "895230ca-3ff8-330a-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "461e56e9-040f-3166-ffff-ffff8cc4ee6a",
          "name" : "Set Schema Evolution Check Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 108
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "d6487b3a-3f25-3a6c-ffff-ffff8cc4ee6a",
          "name" : "Clear SQL Results",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "922f3a4a-b388-3b86-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "78e20181-70c5-3d64-ffff-ffff8cc4ee6a",
          "name" : "Mark SQL Error and Terminate",
          "type" : "PROCESSOR"
        },
        "zIndex" : 132
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "e67931bb-8688-39c9-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "97f74a28-fbf5-3d36-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "is_music_flow_data" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c6c933a-d59d-30c2-ffff-ffff8cc4ee6a",
          "name" : "Filter Only music-flow Files",
          "type" : "PROCESSOR"
        },
        "zIndex" : 111
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "461e56e9-040f-3166-ffff-ffff8cc4ee6a",
          "name" : "Set Schema Evolution Check Attributes",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "a38a9eef-7792-3168-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "sql" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8a14025e-4b08-3be7-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 126
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "b39348db-746d-3536-ffff-ffff8cc4ee6a",
          "name" : "Log SQL Error",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "a6acfaf2-6ea5-37ce-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "failure" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "2fdf6301-93d6-3561-ffff-ffff8cc4ee6a",
          "name" : "Do Schema Check",
          "type" : "PROCESSOR"
        },
        "zIndex" : 134
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "fcaed903-0444-326c-ffff-ffff8cc4ee6a",
          "name" : "Decompress gzip",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "a8492f28-fb46-3e62-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "is_gzip" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "302326f5-d5ed-3411-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 67
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "85eacee1-9710-36ae-ffff-ffff8cc4ee6a",
          "name" : "MergeContent",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "b5eabede-af5b-3936-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "57c183a5-b553-32ef-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "zIndex" : 103
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8cdce380-eb11-35fc-ffff-ffff8cc4ee6a",
          "name" : "Unzip",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "b759ec59-0c30-3dfa-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "d4efc8a1-3df9-3c72-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 71
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c19a94f-01ed-332a-ffff-ffff8cc4ee6a",
          "name" : "Get Data Files",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "b7ccb8d8-8920-3897-99a7-40b09dcc36bd",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "source_gdrive" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c289a05b-91e2-3fdd-8283-5fc6c932ebec",
          "name" : "Detect Source",
          "type" : "PROCESSOR"
        },
        "zIndex" : 139
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c6c933a-d59d-30c2-ffff-ffff8cc4ee6a",
          "name" : "Filter Only music-flow Files",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "c524b01e-ec28-317f-a492-7d9b1628155e",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "created", "updated" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "22cc3141-72f2-3036-ffff-ffff8cc4ee6a",
          "name" : "CaptureGoogleDriveChanges",
          "type" : "PROCESSOR"
        },
        "zIndex" : 136
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "fceeab41-281e-355c-ffff-ffffa7e9fc2d",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "c7742902-111e-3178-af29-648b0e50f4d4",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c706af6d-ba8a-37c3-99c8-77affc5044b9",
          "name" : "FetchSharepointFile",
          "type" : "PROCESSOR"
        },
        "zIndex" : 148
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "b0ccdd58-b1bf-3255-ffff-ffff8cc4ee6a",
          "name" : "Set Flag for Ingestion",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "cd7f6b78-707d-368c-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "Unaltered",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "unmatched" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "46c771b3-e267-3d08-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 128
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "a9ba0e85-d27a-3c05-ffff-ffff8cc4ee6a",
          "name" : "Move to Ingest",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "d074414c-802c-3fc8-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "b0ccdd58-b1bf-3255-ffff-ffff8cc4ee6a",
          "name" : "Set Flag for Ingestion",
          "type" : "PROCESSOR"
        },
        "zIndex" : 129
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "1f1f9d75-11e5-3ff8-b8e7-b10b061f386e",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "e063d275-08e3-3a10-b383-00b21292fa04",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "9c19a94f-01ed-332a-ffff-ffff8cc4ee6a",
          "name" : "Get Data Files",
          "type" : "PROCESSOR"
        },
        "zIndex" : 146
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c73bf0cf-eace-30fd-ffff-ffff8cc4ee6a",
          "name" : "Funnel",
          "type" : "FUNNEL"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "e8ec3a1e-72a5-367b-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "has_error" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "46c771b3-e267-3d08-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 133
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "982a3756-2116-3782-ffff-ffff8cc4ee6a",
          "name" : "Get CSV Metadata",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "ea1c90e4-bedf-3d58-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "8cdce380-eb11-35fc-ffff-ffff8cc4ee6a",
          "name" : "Unzip",
          "type" : "PROCESSOR"
        },
        "zIndex" : 122
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "46c771b3-e267-3d08-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "f3706e95-12c1-3edc-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "merged" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "85eacee1-9710-36ae-ffff-ffff8cc4ee6a",
          "name" : "MergeContent",
          "type" : "PROCESSOR"
        },
        "zIndex" : 118
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "c289a05b-91e2-3fdd-8283-5fc6c932ebec",
          "name" : "Detect Source",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "f77bbdfd-07cb-3e64-88f2-864bae6a01f9",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "is_csv", "is_gzip", "is_zip" ],
        "source" : {
          "comments" : "",
          "groupId" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
          "id" : "e67931bb-8688-39c9-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 138
      } ],
      "controllerServices" : [ {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-connection-service-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.dbcp.DBCPService"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "0736f1e4-cbc4-3fa9-ffff-ffff8cc4ee6a",
        "name" : "SFDEVREL_ENTERPRISE",
        "properties" : {
          "Account" : "sfdevrel-sfdevrel-enterprise",
          "Warehouse" : "KAMESH_DEMOS_S",
          "User" : "KAMESH_OPENFLOW_DEMO_SA",
          "Maximum Connections" : "10",
          "Maximum Lifetime" : "30 minutes",
          "Connection Strategy" : "STANDARD",
          "Connection Timeout" : "30 seconds",
          "Role" : "KAMESH_DEMOS",
          "Idle Timeout" : "10 minutes",
          "Authentication Strategy" : "SNOWFLAKE_SESSION_TOKEN",
          "Database Name" : "KAMESH_OPENFLOW_DEMOS",
          "Password" : "#{snowflake_password}"
        },
        "propertyDescriptors" : {
          "Account" : {
            "displayName" : "Account",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Account",
            "sensitive" : false
          },
          "Warehouse" : {
            "displayName" : "Warehouse",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse",
            "sensitive" : false
          },
          "User" : {
            "displayName" : "User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "User",
            "sensitive" : false
          },
          "Maximum Connections" : {
            "displayName" : "Maximum Connections",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Connections",
            "sensitive" : false
          },
          "Maximum Lifetime" : {
            "displayName" : "Maximum Lifetime",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Lifetime",
            "sensitive" : false
          },
          "Schema" : {
            "displayName" : "Schema",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema",
            "sensitive" : false
          },
          "Private Key Service" : {
            "displayName" : "Private Key Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Private Key Service",
            "sensitive" : false
          },
          "Connection Strategy" : {
            "displayName" : "Connection Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Strategy",
            "sensitive" : false
          },
          "Connection Timeout" : {
            "displayName" : "Connection Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Timeout",
            "sensitive" : false
          },
          "Role" : {
            "displayName" : "Role",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Role",
            "sensitive" : false
          },
          "Idle Timeout" : {
            "displayName" : "Idle Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Idle Timeout",
            "sensitive" : false
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "Database Name" : {
            "displayName" : "Database Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Database Name",
            "sensitive" : false
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.snowflake.SnowflakeConnectionService"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "0c858c2d-b30b-30f2-ffff-ffff8cc4ee6a",
        "name" : "CSVRecordSetWriter",
        "properties" : {
          "CSV Format" : "custom",
          "Include Header Line" : "true",
          "Schema Access Strategy" : "inherit-record-schema",
          "Schema Name" : "${schema.name}",
          "Escape Character" : "\\",
          "Trim Fields" : "true",
          "Schema Text" : "${avro.schema}",
          "csv-writer" : "commons-csv",
          "Quote Character" : "\"",
          "Value Separator" : ",",
          "Record Separator" : "\\n",
          "Schema Write Strategy" : "no-schema",
          "Character Set" : "UTF-8",
          "Quote Mode" : "MINIMAL",
          "Include Trailing Delimiter" : "false"
        },
        "propertyDescriptors" : {
          "CSV Format" : {
            "displayName" : "CSV Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "CSV Format",
            "sensitive" : false
          },
          "Include Header Line" : {
            "displayName" : "Include Header Line",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Include Header Line",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Escape Character" : {
            "displayName" : "Escape Character",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Escape Character",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "Null String" : {
            "displayName" : "Null String",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Null String",
            "sensitive" : false
          },
          "Trim Fields" : {
            "displayName" : "Trim Fields",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Trim Fields",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Comment Marker" : {
            "displayName" : "Comment Marker",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Comment Marker",
            "sensitive" : false
          },
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "csv-writer" : {
            "displayName" : "CSV Writer",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "csv-writer",
            "sensitive" : false
          },
          "Quote Character" : {
            "displayName" : "Quote Character",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Quote Character",
            "sensitive" : false
          },
          "Value Separator" : {
            "displayName" : "Value Separator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Value Separator",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Record Separator" : {
            "displayName" : "Record Separator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Record Separator",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "Schema Write Strategy" : {
            "displayName" : "Schema Write Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Write Strategy",
            "sensitive" : false
          },
          "Schema Cache" : {
            "displayName" : "Schema Cache",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Cache",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Quote Mode" : {
            "displayName" : "Quote Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Quote Mode",
            "sensitive" : false
          },
          "Schema Reference Writer" : {
            "displayName" : "Schema Reference Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Writer",
            "sensitive" : false
          },
          "Include Trailing Delimiter" : {
            "displayName" : "Include Trailing Delimiter",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Include Trailing Delimiter",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.csv.CSVRecordSetWriter"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-iceberg-parquet-writer-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "runtime-iceberg-service-api-nar",
            "group" : "com.snowflake.openflow.runtime",
            "version" : "2025.10.30.21"
          },
          "type" : "com.snowflake.openflow.runtime.services.iceberg.IcebergWriter"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "741be47f-9c82-3e3f-ffff-ffff8cc4ee6a",
        "name" : "ParquetIcebergWriter",
        "properties" : {
          "Write Target File Size" : "512 MB"
        },
        "propertyDescriptors" : {
          "Write Target File Size" : {
            "displayName" : "Write Target File Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Target File Size",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.iceberg.parquet.ParquetIcebergWriter"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-msgraph-auth-service-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "runtime-msgraph-auth-service-api-nar",
            "group" : "com.snowflake.openflow.runtime",
            "version" : "2025.10.30.21"
          },
          "type" : "com.snowflake.openflow.runtime.msgraph.authentication.MicrosoftGraphAuthenticationService"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "8e24399e-f906-34a2-9f61-10298c9e1e48",
        "name" : "MicrosoftGraphAuthenticationProvider",
        "properties" : {
          "Tenant ID" : "7190b786-c03a-4919-98fc-4951e10304c9",
          "Client ID" : "e56cf10c-6f54-4023-af92-84050039ce71",
          "Authentication Mechanism" : "Client Secret"
        },
        "propertyDescriptors" : {
          "Tenant ID" : {
            "displayName" : "Tenant ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Tenant ID",
            "sensitive" : false
          },
          "Client ID" : {
            "displayName" : "Client ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Client ID",
            "sensitive" : false
          },
          "Username" : {
            "displayName" : "Username",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Username",
            "sensitive" : false
          },
          "Authentication Mechanism" : {
            "displayName" : "Authentication Mechanism",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Mechanism",
            "sensitive" : false
          },
          "Client Secret" : {
            "displayName" : "Client Secret",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Client Secret",
            "sensitive" : true
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.msgraph.authentication.MicrosoftGraphAuthenticationProvider"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-gcp-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-gcp-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.gcp.credentials.service.GCPCredentialsService"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "b59681ff-2175-3e4d-ffff-ffff8cc4ee6a",
        "name" : "Pratyakshika Openflow",
        "properties" : {
          "Use Application Default Credentials" : "false",
          "Service Account JSON File" : "#{pratyakshika_sa_json}",
          "Use Compute Engine Credentials" : "false",
          "Delegation Strategy" : "Service Account"
        },
        "propertyDescriptors" : {
          "Use Application Default Credentials" : {
            "displayName" : "Use Application Default Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Application Default Credentials",
            "sensitive" : false
          },
          "Service Account JSON File" : {
            "displayName" : "Service Account JSON File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Service Account JSON File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Service Account JSON" : {
            "displayName" : "Service Account JSON",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Service Account JSON",
            "sensitive" : true
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Use Compute Engine Credentials" : {
            "displayName" : "Use Compute Engine Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Compute Engine Credentials",
            "sensitive" : false
          },
          "Delegation Strategy" : {
            "displayName" : "Delegation Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delegation Strategy",
            "sensitive" : false
          },
          "Delegation User" : {
            "displayName" : "Delegation User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delegation User",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordReaderFactory"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "e38228cd-b9f9-3011-ffff-ffff8cc4ee6a",
        "name" : "JsonTreeReader",
        "properties" : {
          "Schema Text" : "{\n  \"type\": \"record\",\n  \"name\": \"fruits\", \n  \"fields\": [\n    {\"name\": \"id\", \"type\": \"long\"},\n    {\"name\": \"name\", \"type\": \"string\"}\n  ]\n}",
          "Max String Length" : "20 MB",
          "schema-application-strategy" : "SELECTED_PART",
          "Schema Access Strategy" : "schema-text-property",
          "Schema Name" : "${schema.name}",
          "starting-field-strategy" : "ROOT_NODE",
          "Allow Comments" : "false"
        },
        "propertyDescriptors" : {
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "Max String Length" : {
            "displayName" : "Max String Length",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max String Length",
            "sensitive" : false
          },
          "schema-application-strategy" : {
            "displayName" : "Schema Application Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "schema-application-strategy",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "schema-inference-cache" : {
            "displayName" : "Schema Inference Cache",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "schema-inference-cache",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "starting-field-strategy" : {
            "displayName" : "Starting Field Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "starting-field-strategy",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "starting-field-name" : {
            "displayName" : "Starting Field Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "starting-field-name",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Allow Comments" : {
            "displayName" : "Allow Comments",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Allow Comments",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.json.JsonTreeReader"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "e6f0fc2f-042c-3196-ffff-ffff8cc4ee6a",
        "name" : "Schema Evolution Analysis Record Writer",
        "properties" : {
          "Schema Text" : "${avro.schema}",
          "Allow Scientific Notation" : "false",
          "compression-level" : "1",
          "Schema Access Strategy" : "schema-text-property",
          "Schema Name" : "${schema.name}",
          "Pretty Print JSON" : "false",
          "compression-format" : "none",
          "Schema Write Strategy" : "no-schema",
          "suppress-nulls" : "never-suppress",
          "output-grouping" : "output-array"
        },
        "propertyDescriptors" : {
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "Allow Scientific Notation" : {
            "displayName" : "Allow Scientific Notation",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Allow Scientific Notation",
            "sensitive" : false
          },
          "compression-level" : {
            "displayName" : "Compression Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "compression-level",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "Pretty Print JSON" : {
            "displayName" : "Pretty Print JSON",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Pretty Print JSON",
            "sensitive" : false
          },
          "compression-format" : {
            "displayName" : "Compression Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "compression-format",
            "sensitive" : false
          },
          "Schema Write Strategy" : {
            "displayName" : "Schema Write Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Write Strategy",
            "sensitive" : false
          },
          "suppress-nulls" : {
            "displayName" : "Suppress Null Values",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "suppress-nulls",
            "sensitive" : false
          },
          "output-grouping" : {
            "displayName" : "Output Grouping",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "output-grouping",
            "sensitive" : false
          },
          "Schema Cache" : {
            "displayName" : "Schema Cache",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Cache",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Schema Reference Writer" : {
            "displayName" : "Schema Reference Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Writer",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.json.JsonRecordSetWriter"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordReaderFactory"
        } ],
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "f65dd0f3-a9fc-390f-ffff-ffff8cc4ee6a",
        "name" : "CSVReader",
        "properties" : {
          "Schema Text" : "${avro.schema}",
          "Trim double quote" : "true",
          "CSV Format" : "custom",
          "Quote Character" : "\"",
          "Value Separator" : ",",
          "Treat First Line as Header" : "true",
          "Schema Access Strategy" : "csv-header-derived",
          "Ignore CSV Header Column Names" : "false",
          "Schema Name" : "${schema.name}",
          "Record Separator" : "\\n",
          "Escape Character" : "\\",
          "Trim Fields" : "true",
          "csv-reader-csv-parser" : "commons-csv",
          "Allow Duplicate Header Names" : "true",
          "Character Set" : "UTF-8"
        },
        "propertyDescriptors" : {
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "Trim double quote" : {
            "displayName" : "Trim double quote",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Trim double quote",
            "sensitive" : false
          },
          "CSV Format" : {
            "displayName" : "CSV Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "CSV Format",
            "sensitive" : false
          },
          "Quote Character" : {
            "displayName" : "Quote Character",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Quote Character",
            "sensitive" : false
          },
          "Value Separator" : {
            "displayName" : "Value Separator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Value Separator",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Treat First Line as Header" : {
            "displayName" : "Treat First Line as Header",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Treat First Line as Header",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Ignore CSV Header Column Names" : {
            "displayName" : "Ignore CSV Header Column Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Ignore CSV Header Column Names",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Record Separator" : {
            "displayName" : "Record Separator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Record Separator",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "Escape Character" : {
            "displayName" : "Escape Character",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Escape Character",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "Null String" : {
            "displayName" : "Null String",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Null String",
            "sensitive" : false
          },
          "Trim Fields" : {
            "displayName" : "Trim Fields",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Trim Fields",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "csv-reader-csv-parser" : {
            "displayName" : "CSV Parser",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "csv-reader-csv-parser",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Comment Marker" : {
            "displayName" : "Comment Marker",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Comment Marker",
            "sensitive" : false
          },
          "Allow Duplicate Header Names" : {
            "displayName" : "Allow Duplicate Header Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Allow Duplicate Header Names",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.csv.CSVReader"
      } ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ {
        "componentType" : "FUNNEL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "57c183a5-b553-32ef-ffff-ffff8cc4ee6a",
        "position" : {
          "x" : -72.0,
          "y" : 1208.0
        }
      }, {
        "componentType" : "FUNNEL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "c73bf0cf-eace-30fd-ffff-ffff8cc4ee6a",
        "position" : {
          "x" : -536.0,
          "y" : 1704.0
        }
      } ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
      "inputPorts" : [ ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "Analysis and Design",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "a9ba0e85-d27a-3c05-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -328.0,
          "y" : 2120.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      }, {
        "allowRemoteAccess" : false,
        "comments" : "Send to Create or alter schema pipeline",
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "be58ecbf-7ffc-35ac-ffff-ffff8cc4ee6a",
        "name" : "Create or Alter Schema",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 112.0,
          "y" : 1896.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "Structured AI Data Pipeline Parameters",
      "position" : {
        "x" : -504.0,
        "y" : -488.0
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "18957410-ef01-3651-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Correlation ID",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 752.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "correlation.id" : "${UUID()}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "correlation.id" : {
            "displayName" : "correlation.id",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "correlation.id",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "1f1f9d75-11e5-3ff8-b8e7-b10b061f386e",
        "maxBackoffPeriod" : "10 mins",
        "name" : "UpdateAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -408.0,
          "y" : -56.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "source.filename" : "${google.drive.file.name}",
          "source.mime.type" : "${google.drive.mime.type}",
          "source.file.name" : "${google.drive.file.name}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "source.filename" : {
            "displayName" : "source.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.filename",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "source.mime.type" : {
            "displayName" : "source.mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.mime.type",
            "sensitive" : false
          },
          "source.file.name" : {
            "displayName" : "source.file.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.file.name",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "removed" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-google-drive-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "PRIMARY",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "22cc3141-72f2-3036-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CaptureGoogleDriveChanges",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -496.0,
          "y" : -1280.0
        },
        "properties" : {
          "Drive ID" : "#{google.drive.id}",
          "GCP Credentials Service" : "b59681ff-2175-3e4d-ffff-ffff8cc4ee6a"
        },
        "propertyDescriptors" : {
          "Drive ID" : {
            "displayName" : "Drive ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Drive ID",
            "sensitive" : false
          },
          "GCP Credentials Service" : {
            "displayName" : "GCP Credentials Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "GCP Credentials Service",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.google.CaptureGoogleDriveChanges",
        "yieldDuration" : "10 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "2fdf6301-93d6-3561-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Do Schema Check",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 440.0,
          "y" : 1176.0
        },
        "properties" : {
          "esql-max-rows" : "0",
          "esqlrecord-record-writer" : "e6f0fc2f-042c-3196-ffff-ffff8cc4ee6a",
          "Max Wait Time" : "30 seconds",
          "SQL Query" : "#{schema_evolution_check_sql}",
          "Database Connection Pooling Service" : "0736f1e4-cbc4-3fa9-ffff-ffff8cc4ee6a",
          "Default Decimal Scale" : "0",
          "esql-auto-commit" : "true",
          "esql-output-batch-size" : "0",
          "esql-fetch-size" : "0",
          "Use Avro Logical Types" : "false",
          "esqlrecord-normalize" : "true",
          "Default Decimal Precision" : "10"
        },
        "propertyDescriptors" : {
          "esql-max-rows" : {
            "displayName" : "Max Rows Per Flow File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-max-rows",
            "sensitive" : false
          },
          "esqlrecord-record-writer" : {
            "displayName" : "Record Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "esqlrecord-record-writer",
            "sensitive" : false
          },
          "Max Wait Time" : {
            "displayName" : "Max Wait Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Wait Time",
            "sensitive" : false
          },
          "SQL Query" : {
            "displayName" : "SQL Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "SQL Query",
            "sensitive" : false
          },
          "Database Connection Pooling Service" : {
            "displayName" : "Database Connection Pooling Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Database Connection Pooling Service",
            "sensitive" : false
          },
          "sql-post-query" : {
            "displayName" : "SQL Post-Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "sql-post-query",
            "sensitive" : false
          },
          "Default Decimal Scale" : {
            "displayName" : "Default Decimal Scale",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Default Decimal Scale",
            "sensitive" : false
          },
          "esql-auto-commit" : {
            "displayName" : "Set Auto Commit",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-auto-commit",
            "sensitive" : false
          },
          "sql-pre-query" : {
            "displayName" : "SQL Pre-Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "sql-pre-query",
            "sensitive" : false
          },
          "esql-output-batch-size" : {
            "displayName" : "Output Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-output-batch-size",
            "sensitive" : false
          },
          "esql-fetch-size" : {
            "displayName" : "Fetch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-fetch-size",
            "sensitive" : false
          },
          "Use Avro Logical Types" : {
            "displayName" : "Use Avro Logical Types",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Avro Logical Types",
            "sensitive" : false
          },
          "esqlrecord-normalize" : {
            "displayName" : "Normalize Table/Column Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esqlrecord-normalize",
            "sensitive" : false
          },
          "Default Decimal Precision" : {
            "displayName" : "Default Decimal Precision",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Default Decimal Precision",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ExecuteSQLRecord",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "302326f5-d5ed-3411-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 144.0
        },
        "properties" : {
          "mime_csv" : "${mime.type:equals('text/csv'):or(${mime.type:equals('application/vnd.ms-excel')})}",
          "Routing Strategy" : "Route to Property name",
          "is_zip_or_tar" : "${mime.type:equals('application/zip'):or(${mime.type:equals('application/x-tar')})}",
          "is_gzip" : "${mime.type:equals('application/gzip'):or(${mime.type:equals('application/x-gzip')})}"
        },
        "propertyDescriptors" : {
          "mime_csv" : {
            "displayName" : "mime_csv",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "mime_csv",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "is_zip_or_tar" : {
            "displayName" : "is_zip_or_tar",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_zip_or_tar",
            "sensitive" : false
          },
          "is_gzip" : {
            "displayName" : "is_gzip",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_gzip",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "461e56e9-040f-3166-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Schema Evolution Check Attributes",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 440.0,
          "y" : 976.0
        },
        "properties" : {
          "avro.schema" : "#{schema_evolution_check_avro_schema}",
          "filename" : "schema_check_out.json",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100"
        },
        "propertyDescriptors" : {
          "avro.schema" : {
            "displayName" : "avro.schema",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "avro.schema",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "46c771b3-e267-3d08-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 1664.0
        },
        "properties" : {
          "is_first_time" : "${is.first.time:notNull():and(${is.first.time:equals('yes')})}",
          "Routing Strategy" : "Route to Property name",
          "has_schema_evolution" : "${schema.evolution.required:notNull():and(${schema.evolution.required:equals('yes')})}",
          "has_error" : "${error.terminated:notNull():and(${error.terminated:equals('true')})}"
        },
        "propertyDescriptors" : {
          "is_first_time" : {
            "displayName" : "is_first_time",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_first_time",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "has_schema_evolution" : {
            "displayName" : "has_schema_evolution",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "has_schema_evolution",
            "sensitive" : false
          },
          "has_error" : {
            "displayName" : "has_error",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "has_error",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "78e20181-70c5-3d64-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Mark SQL Error and Terminate",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 1040.0,
          "y" : 1472.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "termination.reason" : "SQL Schema Check Failed",
          "error.terminated" : "true"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "termination.reason" : {
            "displayName" : "termination.reason",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "termination.reason",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "error.terminated" : {
            "displayName" : "error.terminated",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "error.terminated",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "original" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "85eacee1-9710-36ae-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "MergeContent",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 1392.0
        },
        "properties" : {
          "Keep Path" : "false",
          "Merge Strategy" : "Bin-Packing Algorithm",
          "Attribute Strategy" : "Keep All Unique Attributes",
          "FlowFile Insertion Strategy" : "Last in Bin",
          "Compression Level" : "1",
          "Maximum Number of Entries" : "2",
          "Minimum Group Size" : "0 B",
          "Maximum number of Bins" : "1",
          "Tar Modified Time" : "${file.lastModifiedTime}",
          "Delimiter Strategy" : "Do Not Use Delimiters",
          "Merge Format" : "Binary Concatenation",
          "Correlation Attribute Name" : "$[correlation.id}",
          "mergecontent-metadata-strategy" : "Do Not Merge Uncommon Metadata",
          "Minimum Number of Entries" : "2"
        },
        "propertyDescriptors" : {
          "Keep Path" : {
            "displayName" : "Keep Path",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Keep Path",
            "sensitive" : false
          },
          "Maximum Group Size" : {
            "displayName" : "Maximum Group Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Group Size",
            "sensitive" : false
          },
          "Merge Strategy" : {
            "displayName" : "Merge Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Merge Strategy",
            "sensitive" : false
          },
          "Attribute Strategy" : {
            "displayName" : "Attribute Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Attribute Strategy",
            "sensitive" : false
          },
          "FlowFile Insertion Strategy" : {
            "displayName" : "FlowFile Insertion Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "FlowFile Insertion Strategy",
            "sensitive" : false
          },
          "Compression Level" : {
            "displayName" : "Compression Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Compression Level",
            "sensitive" : false
          },
          "Maximum Number of Entries" : {
            "displayName" : "Maximum Number of Entries",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Number of Entries",
            "sensitive" : false
          },
          "Minimum Group Size" : {
            "displayName" : "Minimum Group Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Minimum Group Size",
            "sensitive" : false
          },
          "Maximum number of Bins" : {
            "displayName" : "Maximum number of Bins",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum number of Bins",
            "sensitive" : false
          },
          "Tar Modified Time" : {
            "displayName" : "Tar Modified Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Tar Modified Time",
            "sensitive" : false
          },
          "Delimiter Strategy" : {
            "displayName" : "Delimiter Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delimiter Strategy",
            "sensitive" : false
          },
          "Merge Format" : {
            "displayName" : "Merge Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Merge Format",
            "sensitive" : false
          },
          "Footer File" : {
            "displayName" : "Footer",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Footer File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE", "TEXT" ]
            },
            "sensitive" : false
          },
          "Max Bin Age" : {
            "displayName" : "Max Bin Age",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Bin Age",
            "sensitive" : false
          },
          "Demarcator File" : {
            "displayName" : "Demarcator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Demarcator File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE", "TEXT" ]
            },
            "sensitive" : false
          },
          "Correlation Attribute Name" : {
            "displayName" : "Correlation Attribute Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Correlation Attribute Name",
            "sensitive" : false
          },
          "Bin Termination Check" : {
            "displayName" : "Bin Termination Check",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bin Termination Check",
            "sensitive" : false
          },
          "Header File" : {
            "displayName" : "Header",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Header File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE", "TEXT" ]
            },
            "sensitive" : false
          },
          "mergecontent-metadata-strategy" : {
            "displayName" : "Metadata Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "mergecontent-metadata-strategy",
            "sensitive" : false
          },
          "Minimum Number of Entries" : {
            "displayName" : "Minimum Number of Entries",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Minimum Number of Entries",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.MergeContent",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "8a14025e-4b08-3be7-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 976.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "csv" : "${copy.index:equals('0')}",
          "sql" : "${copy.index:equals('1')}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "csv" : {
            "displayName" : "csv",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "csv",
            "sensitive" : false
          },
          "sql" : {
            "displayName" : "sql",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "sql",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "original" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "8cdce380-eb11-35fc-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Unzip",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 648.0,
          "y" : 568.0
        },
        "properties" : {
          "Packaging Format" : "use mime.type attribute",
          "allow-stored-entries-wdd" : "false",
          "Filename Character Set" : "UTF-8",
          "File Filter" : ".*\\.csv"
        },
        "propertyDescriptors" : {
          "Packaging Format" : {
            "displayName" : "Packaging Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Packaging Format",
            "sensitive" : false
          },
          "allow-stored-entries-wdd" : {
            "displayName" : "Allow Stored Entries With Data Descriptor",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "allow-stored-entries-wdd",
            "sensitive" : false
          },
          "Filename Character Set" : {
            "displayName" : "Filename Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Filename Character Set",
            "sensitive" : false
          },
          "File Filter" : {
            "displayName" : "File Filter",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "File Filter",
            "sensitive" : false
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.UnpackContent",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "deleted" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-msgraph-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "PRIMARY",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "8db940c7-f356-35e9-b47d-ed867c96c92d",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CaptureSharepointChanges",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 128.0,
          "y" : -1280.0
        },
        "properties" : {
          "Change Capture Initial Action" : "Skip Existing Items",
          "Document Library Name" : "Documents",
          "Site URL" : "https://snowflake749.sharepoint.com/sites/SnowflakeDataShare",
          "Folder Name" : "kamesh_openflow_demos/music-flow",
          "Authentication Service" : "8e24399e-f906-34a2-9f61-10298c9e1e48",
          "Item Permissions To Fetch" : "USER,GROUP,SITE_USER,SITE_GROUP",
          "Fallback Retry Duration" : "1 min",
          "Fetch Item Permissions" : "false"
        },
        "propertyDescriptors" : {
          "Change Capture Initial Action" : {
            "displayName" : "Change Capture Initial Action",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Change Capture Initial Action",
            "sensitive" : false
          },
          "Document Library Name" : {
            "displayName" : "Document Library Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Document Library Name",
            "sensitive" : false
          },
          "Site URL" : {
            "displayName" : "Site URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Site URL",
            "sensitive" : false
          },
          "Folder Name" : {
            "displayName" : "Folder Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Folder Name",
            "sensitive" : false
          },
          "Authentication Service" : {
            "displayName" : "Authentication Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Authentication Service",
            "sensitive" : false
          },
          "Item Permissions To Fetch" : {
            "displayName" : "Item Permissions To Fetch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Item Permissions To Fetch",
            "sensitive" : false
          },
          "Fallback Retry Duration" : {
            "displayName" : "Fallback Retry Duration",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Fallback Retry Duration",
            "sensitive" : false
          },
          "Fetch Item Permissions" : {
            "displayName" : "Fetch Item Permissions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Fetch Item Permissions",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.sharepoint.CaptureSharepointChanges",
        "yieldDuration" : "10 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-groovyx-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "982a3756-2116-3782-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Get CSV Metadata",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 344.0
        },
        "properties" : {
          "Script File" : "#{script_extract_csv_metadata}",
          "Failure Strategy" : "rollback"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Additional Classpath" : {
            "displayName" : "Additional Classpath",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Additional Classpath",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Failure Strategy" : {
            "displayName" : "Failure Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Failure Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-gcp-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "9c19a94f-01ed-332a-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "1 min",
        "name" : "Get Data Files",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -664.0,
          "y" : -248.0
        },
        "properties" : {
          "GCP Credentials Provider Service" : "b59681ff-2175-3e4d-ffff-ffff8cc4ee6a",
          "Connect Timeout" : "20 sec",
          "Google Presentation Export Type" : "application/pdf",
          "Google Spreadsheet Export Type" : "application/pdf",
          "Google Drawing Export Type" : "application/pdf",
          "Read Timeout" : "60 sec",
          "File ID" : "${drive.id}",
          "Google Doc Export Type" : "application/pdf"
        },
        "propertyDescriptors" : {
          "GCP Credentials Provider Service" : {
            "displayName" : "GCP Credentials Provider Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "GCP Credentials Provider Service",
            "sensitive" : false
          },
          "Connect Timeout" : {
            "displayName" : "Connect Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connect Timeout",
            "sensitive" : false
          },
          "Google Presentation Export Type" : {
            "displayName" : "Google Presentation Export Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Google Presentation Export Type",
            "sensitive" : false
          },
          "Google Spreadsheet Export Type" : {
            "displayName" : "Google Spreadsheet Export Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Google Spreadsheet Export Type",
            "sensitive" : false
          },
          "Google Drawing Export Type" : {
            "displayName" : "Google Drawing Export Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Google Drawing Export Type",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Read Timeout" : {
            "displayName" : "Read Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read Timeout",
            "sensitive" : false
          },
          "File ID" : {
            "displayName" : "File ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "File ID",
            "sensitive" : false
          },
          "Google Doc Export Type" : {
            "displayName" : "Google Doc Export Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Google Doc Export Type",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "failure" ],
        "retryCount" : 3,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.gcp.drive.FetchGoogleDrive",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "9c6c933a-d59d-30c2-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Filter Only music-flow Files",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -208.0,
          "y" : -968.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "is_music_flow_data" : "${google.drive.file.path:startsWith('music-flow/'):or(${path:equals('/kamesh_openflow_demos/music-flow')})}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "is_music_flow_data" : {
            "displayName" : "is_music_flow_data",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_music_flow_data",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "adcc2567-744a-33b7-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "DuplicateFlowFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -224.0,
          "y" : 560.0
        },
        "properties" : {
          "Number of Copies" : "1"
        },
        "propertyDescriptors" : {
          "Number of Copies" : {
            "displayName" : "Number of Copies",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Number of Copies",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.DuplicateFlowFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "b0ccdd58-b1bf-3255-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Flag for Ingestion",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -384.0,
          "y" : 1896.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "created.or.altered" : "no"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "created.or.altered" : {
            "displayName" : "created.or.altered",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "created.or.altered",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "b39348db-746d-3536-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Log SQL Error",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 1040.0,
          "y" : 1168.0
        },
        "properties" : {
          "character-set" : "UTF-8",
          "Log FlowFile Properties" : "true",
          "Log Level" : "error",
          "attributes-to-log-regex" : ".*",
          "Output Format" : "Line per Attribute",
          "Log Payload" : "true"
        },
        "propertyDescriptors" : {
          "Log prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Log prefix",
            "sensitive" : false
          },
          "character-set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "character-set",
            "sensitive" : false
          },
          "Log FlowFile Properties" : {
            "displayName" : "Log FlowFile Properties",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Log FlowFile Properties",
            "sensitive" : false
          },
          "Log Level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Log Level",
            "sensitive" : false
          },
          "attributes-to-ignore-regex" : {
            "displayName" : "Attributes to Ignore by Regular Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "attributes-to-ignore-regex",
            "sensitive" : false
          },
          "Attributes to Ignore" : {
            "displayName" : "Attributes to Ignore",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Attributes to Ignore",
            "sensitive" : false
          },
          "Attributes to Log" : {
            "displayName" : "Attributes to Log",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Attributes to Log",
            "sensitive" : false
          },
          "attributes-to-log-regex" : {
            "displayName" : "Attributes to Log by Regular Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "attributes-to-log-regex",
            "sensitive" : false
          },
          "Output Format" : {
            "displayName" : "Output Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Output Format",
            "sensitive" : false
          },
          "Log Payload" : {
            "displayName" : "Log Payload",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Log Payload",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "c289a05b-91e2-3fdd-8283-5fc6c932ebec",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Detect Source",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -200.0,
          "y" : -496.0
        },
        "properties" : {
          "source_sharepoint" : "${sharepoint.filename:notNull()}",
          "Routing Strategy" : "Route to Property name",
          "source_gdrive" : "${google.drive.file.name:notNull()}"
        },
        "propertyDescriptors" : {
          "source_sharepoint" : {
            "displayName" : "source_sharepoint",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source_sharepoint",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "source_gdrive" : {
            "displayName" : "source_gdrive",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source_gdrive",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "not.found" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-msgraph-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "c706af6d-ba8a-37c3-99c8-77affc5044b9",
        "maxBackoffPeriod" : "1 min",
        "name" : "FetchSharepointFile",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 160.0,
          "y" : -256.0
        },
        "properties" : {
          "Drive ID" : "${sharepoint.drive.id}",
          "Item ID" : "${sharepoint.item.id}",
          "Update Extension" : "true",
          "Download PDF/HTML Version" : "false",
          "Authentication Service" : "8e24399e-f906-34a2-9f61-10298c9e1e48",
          "Fallback Retry Duration" : "1 min"
        },
        "propertyDescriptors" : {
          "Drive ID" : {
            "displayName" : "Drive ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Drive ID",
            "sensitive" : false
          },
          "Item ID" : {
            "displayName" : "Item ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Item ID",
            "sensitive" : false
          },
          "Update Extension" : {
            "displayName" : "Update Extension",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Update Extension",
            "sensitive" : false
          },
          "Download PDF/HTML Version" : {
            "displayName" : "Download PDF/HTML Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Download PDF/HTML Version",
            "sensitive" : false
          },
          "Authentication Service" : {
            "displayName" : "Authentication Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Authentication Service",
            "sensitive" : false
          },
          "Fallback Retry Duration" : {
            "displayName" : "Fallback Retry Duration",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Fallback Retry Duration",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ "comms.failure" ],
        "retryCount" : 3,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.sharepoint.FetchSharepointFile",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "d4efc8a1-3df9-3c72-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "UpdateAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 640.0,
          "y" : 344.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "mime.type" : "tar"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "mime.type" : {
            "displayName" : "mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "mime.type",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "d6487b3a-3f25-3a6c-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Clear SQL Results",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 448.0,
          "y" : 1600.0
        },
        "properties" : {
          "Regular Expression" : "(?s)(^.*$)",
          "Replacement Value" : "",
          "Evaluation Mode" : "Line-by-Line",
          "Line-by-Line Evaluation Mode" : "All",
          "Character Set" : "UTF-8",
          "Maximum Buffer Size" : "1 MB",
          "Replacement Strategy" : "Always Replace"
        },
        "propertyDescriptors" : {
          "Regular Expression" : {
            "displayName" : "Search Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Regular Expression",
            "sensitive" : false
          },
          "Replacement Value" : {
            "displayName" : "Replacement Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Value",
            "sensitive" : false
          },
          "Evaluation Mode" : {
            "displayName" : "Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Evaluation Mode",
            "sensitive" : false
          },
          "Text to Prepend" : {
            "displayName" : "Text to Prepend",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Prepend",
            "sensitive" : false
          },
          "Line-by-Line Evaluation Mode" : {
            "displayName" : "Line-by-Line Evaluation Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Line-by-Line Evaluation Mode",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Maximum Buffer Size" : {
            "displayName" : "Maximum Buffer Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Buffer Size",
            "sensitive" : false
          },
          "Replacement Strategy" : {
            "displayName" : "Replacement Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Replacement Strategy",
            "sensitive" : false
          },
          "Text to Append" : {
            "displayName" : "Text to Append",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Text to Append",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ReplaceText",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "e67931bb-8688-39c9-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -208.0,
          "y" : -712.0
        },
        "properties" : {
          "is_zip" : "${filename:endsWith('.zip'):or(${filename:endsWith('.tar')})}",
          "Routing Strategy" : "Route to Property name",
          "is_gzip" : "${filename:endsWith('.tar.gz')}",
          "is_csv" : "${filename:endsWith('.csv'):or(${filename:endsWith('.CSV')})}"
        },
        "propertyDescriptors" : {
          "is_zip" : {
            "displayName" : "is_zip",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_zip",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "is_gzip" : {
            "displayName" : "is_gzip",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_gzip",
            "sensitive" : false
          },
          "is_csv" : {
            "displayName" : "is_csv",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "is_csv",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-groovyx-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "f2133b27-a533-3f62-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Update Schema Evolution Check Attributes",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 448.0,
          "y" : 1392.0
        },
        "properties" : {
          "Script File" : "#{script_evaluate_schema_check}",
          "Failure Strategy" : "rollback"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Additional Classpath" : {
            "displayName" : "Additional Classpath",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Additional Classpath",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Failure Strategy" : {
            "displayName" : "Failure Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Failure Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "fcaed903-0444-326c-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Decompress gzip",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 632.0,
          "y" : 136.0
        },
        "properties" : {
          "Compression Format" : "gzip",
          "Mode" : "decompress",
          "Compression Level" : "1",
          "Update Filename" : "false"
        },
        "propertyDescriptors" : {
          "Compression Format" : {
            "displayName" : "Compression Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Compression Format",
            "sensitive" : false
          },
          "Mode" : {
            "displayName" : "Mode",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Mode",
            "sensitive" : false
          },
          "Compression Level" : {
            "displayName" : "Compression Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Compression Level",
            "sensitive" : false
          },
          "Update Filename" : {
            "displayName" : "Update Filename",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Update Filename",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.CompressContent",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "4ffdf566-227b-39cf-ffff-ffff8cc4ee6a",
        "identifier" : "fceeab41-281e-355c-ffff-ffffa7e9fc2d",
        "maxBackoffPeriod" : "10 mins",
        "name" : "UpdateAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 160.0,
          "y" : -56.0
        },
        "properties" : {
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "source.filename" : "${sharepoint.filename}",
          "source.mime.type" : "${mime.type:equals('application/vnd.ms-excel'):ifElse('text/csv', 'unknown')}",
          "source.file.name" : "${sharepoint.filename}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "source.filename" : {
            "displayName" : "source.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.filename",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "source.mime.type" : {
            "displayName" : "source.mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.mime.type",
            "sensitive" : false
          },
          "source.file.name" : {
            "displayName" : "source.file.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.file.name",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "a40946d3-7fc7-3e1b-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "1e054215-ae4b-37e1-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "created_or_altered" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "424fe68c-5d0a-3e6b-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 141
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "b89dadd0-7c5e-32f6-ffff-ffff8cc4ee6a",
          "name" : "PutS3Object",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "458add3e-e307-3c27-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "file.exists" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "6161e51d-861c-30d3-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 145
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "459310d1-0bbe-3461-ffff-ffff8cc4ee6a",
          "name" : "Update Schema Registry",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "6f79138f-51b9-30d2-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "Unaltered",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "unmatched" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "424fe68c-5d0a-3e6b-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 134
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "6161e51d-861c-30d3-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "7e603848-5067-3469-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "a40946d3-7fc7-3e1b-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 108
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "b949546a-c673-333e-ffff-ffff8cc4ee6a",
          "name" : "Notify Schema Generation Done",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "aa05b267-a177-32c6-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "f9202277-18a2-35b3-ffff-ffff8cc4ee6a",
          "name" : "Prepare Slack Message",
          "type" : "PROCESSOR"
        },
        "zIndex" : 140
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "f9202277-18a2-35b3-ffff-ffff8cc4ee6a",
          "name" : "Prepare Slack Message",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "aaef62d3-6077-3529-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "b89dadd0-7c5e-32f6-ffff-ffff8cc4ee6a",
          "name" : "PutS3Object",
          "type" : "PROCESSOR"
        },
        "zIndex" : 144
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "424fe68c-5d0a-3e6b-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "b842afa0-8ad0-3c7e-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "" ],
        "source" : {
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "4eb3561b-d6d3-3cb5-ffff-ffff8cc4ee6a",
          "name" : "Move to Ingest",
          "type" : "INPUT_PORT"
        },
        "zIndex" : 133
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "a40946d3-7fc7-3e1b-ffff-ffff8cc4ee6a",
          "name" : "UpdateAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "d5e2b8f1-30fe-3550-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
          "id" : "459310d1-0bbe-3461-ffff-ffff8cc4ee6a",
          "name" : "Update Schema Registry",
          "type" : "PROCESSOR"
        },
        "zIndex" : 138
      } ],
      "controllerServices" : [ {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-aws-service-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService"
        }, {
          "bundle" : {
            "artifact" : "nifi-aws-service-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService"
        } ],
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "5aa0838e-15b0-33cf-ffff-ffff8cc4ee6a",
        "name" : "AWS DevRel Sandbox",
        "properties" : {
          "Assume Role STS Region" : "us-west-2",
          "Access Key ID" : "#{music-flow.aws.access-key-id}",
          "Assume Role ARN" : "#{music-flow.s3.assume-role-arn}",
          "Assume Role Session Time" : "3600",
          "Assume Role Session Name" : "Kamesh_Openflow_SPCS_MF_Demo",
          "Use Default Credentials" : "false",
          "Assume Role External ID" : "#{music-flow.s3.ingest-data.assume-role-external-ID}",
          "Assume Role STS Signer Override" : "Default Signature",
          "Use Anonymous Credentials" : "false",
          "Secret Access Key" : "#{music-flow.aws.secret-access-key}"
        },
        "propertyDescriptors" : {
          "Assume Role STS Region" : {
            "displayName" : "Assume Role STS Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Region",
            "sensitive" : false
          },
          "Assume Role Proxy Configuration Service" : {
            "displayName" : "Assume Role Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Assume Role Proxy Configuration Service",
            "sensitive" : false
          },
          "Access Key ID" : {
            "displayName" : "Access Key ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Key ID",
            "sensitive" : true
          },
          "Assume Role ARN" : {
            "displayName" : "Assume Role ARN",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role ARN",
            "sensitive" : false
          },
          "Assume Role Session Time" : {
            "displayName" : "Assume Role Session Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role Session Time",
            "sensitive" : false
          },
          "Assume Role Session Name" : {
            "displayName" : "Assume Role Session Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role Session Name",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "Use Default Credentials" : {
            "displayName" : "Use Default Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Default Credentials",
            "sensitive" : false
          },
          "Assume Role External ID" : {
            "displayName" : "Assume Role External ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role External ID",
            "sensitive" : false
          },
          "Assume Role STS Endpoint Override" : {
            "displayName" : "Assume Role STS Endpoint Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Endpoint Override",
            "sensitive" : false
          },
          "Profile Name" : {
            "displayName" : "Profile Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Profile Name",
            "sensitive" : false
          },
          "Credentials File" : {
            "displayName" : "Credentials File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Credentials File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Assume Role STS Signer Override" : {
            "displayName" : "Assume Role STS Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Signer Override",
            "sensitive" : false
          },
          "Use Anonymous Credentials" : {
            "displayName" : "Use Anonymous Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Anonymous Credentials",
            "sensitive" : false
          },
          "Secret Access Key" : {
            "displayName" : "Secret Access Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Secret Access Key",
            "sensitive" : true
          },
          "Assume Role SSL Context Service" : {
            "displayName" : "Assume Role SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Assume Role SSL Context Service",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-connection-service-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.dbcp.DBCPService"
        } ],
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "6e35322c-7224-3179-ffff-ffff8cc4ee6a",
        "name" : "Snowflake Enterprise",
        "properties" : {
          "Account" : "#{snowflake_account}",
          "Warehouse" : "#{snowflake_warehouse}",
          "User" : "#{snowflake_user}",
          "Maximum Connections" : "10",
          "Maximum Lifetime" : "30 minutes",
          "Connection Strategy" : "STANDARD",
          "Connection Timeout" : "30 seconds",
          "Role" : "#{snowflake_role}",
          "Idle Timeout" : "10 minutes",
          "Authentication Strategy" : "SNOWFLAKE_SESSION_TOKEN",
          "Database Name" : "#{snowflake_database}",
          "Password" : "#{snowflake_password}"
        },
        "propertyDescriptors" : {
          "Account" : {
            "displayName" : "Account",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Account",
            "sensitive" : false
          },
          "Warehouse" : {
            "displayName" : "Warehouse",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse",
            "sensitive" : false
          },
          "User" : {
            "displayName" : "User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "User",
            "sensitive" : false
          },
          "Maximum Connections" : {
            "displayName" : "Maximum Connections",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Connections",
            "sensitive" : false
          },
          "Maximum Lifetime" : {
            "displayName" : "Maximum Lifetime",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Lifetime",
            "sensitive" : false
          },
          "Schema" : {
            "displayName" : "Schema",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema",
            "sensitive" : false
          },
          "Private Key Service" : {
            "displayName" : "Private Key Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Private Key Service",
            "sensitive" : false
          },
          "Connection Strategy" : {
            "displayName" : "Connection Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Strategy",
            "sensitive" : false
          },
          "Connection Timeout" : {
            "displayName" : "Connection Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Timeout",
            "sensitive" : false
          },
          "Role" : {
            "displayName" : "Role",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Role",
            "sensitive" : false
          },
          "Idle Timeout" : {
            "displayName" : "Idle Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Idle Timeout",
            "sensitive" : false
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "Database Name" : {
            "displayName" : "Database Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Database Name",
            "sensitive" : false
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.snowflake.SnowflakeConnectionService"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-gcp-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-gcp-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.gcp.credentials.service.GCPCredentialsService"
        } ],
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "c61ea325-3779-347d-ffff-ffff8cc4ee6a",
        "name" : "Pratyakshika Openflow",
        "properties" : {
          "Use Application Default Credentials" : "false",
          "Service Account JSON File" : "#{pratyakshika_sa_json}",
          "Use Compute Engine Credentials" : "false",
          "Delegation Strategy" : "Service Account"
        },
        "propertyDescriptors" : {
          "Use Application Default Credentials" : {
            "displayName" : "Use Application Default Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Application Default Credentials",
            "sensitive" : false
          },
          "Service Account JSON File" : {
            "displayName" : "Service Account JSON File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Service Account JSON File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Service Account JSON" : {
            "displayName" : "Service Account JSON",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Service Account JSON",
            "sensitive" : true
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Use Compute Engine Credentials" : {
            "displayName" : "Use Compute Engine Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Compute Engine Credentials",
            "sensitive" : false
          },
          "Delegation Strategy" : {
            "displayName" : "Delegation Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delegation Strategy",
            "sensitive" : false
          },
          "Delegation User" : {
            "displayName" : "Delegation User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delegation User",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService"
      } ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
      "inputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "INPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "4eb3561b-d6d3-3cb5-ffff-ffff8cc4ee6a",
        "name" : "Move to Ingest",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : 160.0,
          "y" : -920.0
        },
        "scheduledState" : "ENABLED",
        "type" : "INPUT_PORT"
      } ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "Move to Ingest",
      "outputPorts" : [ ],
      "parameterContextName" : "Structured AI Data Pipeline Parameters",
      "position" : {
        "x" : -831.9547119140625,
        "y" : -47.767791748046875
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "424fe68c-5d0a-3e6b-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 104.0,
          "y" : -768.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "created_or_altered" : "${created.or.altered:notNull():and(${created.or.altered:equalsIgnoreCase('yes')})}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "created_or_altered" : {
            "displayName" : "created_or_altered",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "created_or_altered",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-database-processors-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "459310d1-0bbe-3461-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Update Schema Registry",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 760.0,
          "y" : -664.0
        },
        "properties" : {
          "Max Batch Size" : "1",
          "Connection Pooling Service" : "6e35322c-7224-3179-ffff-ffff8cc4ee6a",
          "Max Content Reference Size" : "32 KB",
          "SQL" : "#{update_schema_registry_sql}"
        },
        "propertyDescriptors" : {
          "Max Batch Size" : {
            "displayName" : "Max Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Batch Size",
            "sensitive" : false
          },
          "Connection Pooling Service" : {
            "displayName" : "Connection Pooling Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Connection Pooling Service",
            "sensitive" : false
          },
          "Max Content Reference Size" : {
            "displayName" : "Max Content Reference Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Content Reference Size",
            "sensitive" : false
          },
          "SQL" : {
            "displayName" : "SQL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "SQL",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.database.ExecuteSQLStatement",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "6161e51d-861c-30d3-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 104.0,
          "y" : -288.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "file.exists" : "${filename:isNull():not():and(${filename:toLower():endsWith('.csv')})}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "file.exists" : {
            "displayName" : "file.exists",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "file.exists",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "a40946d3-7fc7-3e1b-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "UpdateAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 104.0,
          "y" : -544.0
        },
        "properties" : {
          "filename" : "${source.file.name}",
          "table.namespace" : "${table.namespace}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "table.name" : "${table.name}",
          "tag-music-flow.table-namespace" : "${table.namespace}",
          "tag-music-flow.table-name" : "${table.name}",
          "ingestion.s3.bucket" : "#{ingestion.s3.bucket}",
          "mime.type" : "${source.mime.type}"
        },
        "propertyDescriptors" : {
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "filename" : {
            "displayName" : "filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "filename",
            "sensitive" : false
          },
          "table.namespace" : {
            "displayName" : "table.namespace",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.namespace",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "table.name" : {
            "displayName" : "table.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.name",
            "sensitive" : false
          },
          "tag-music-flow.table-namespace" : {
            "displayName" : "tag-music-flow.table-namespace",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "tag-music-flow.table-namespace",
            "sensitive" : false
          },
          "tag-music-flow.table-name" : {
            "displayName" : "tag-music-flow.table-name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "tag-music-flow.table-name",
            "sensitive" : false
          },
          "ingestion.s3.bucket" : {
            "displayName" : "ingestion.s3.bucket",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "ingestion.s3.bucket",
            "sensitive" : false
          },
          "mime.type" : {
            "displayName" : "mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "mime.type",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "b89dadd0-7c5e-32f6-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "PutS3Object",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 104.0,
          "y" : -80.0
        },
        "properties" : {
          "FullControl User List" : "${s3.permissions.full.users}",
          "Owner" : "${s3.owner}",
          "Resource Transfer Source" : "FLOWFILE_CONTENT",
          "Multipart Upload Max Age Threshold" : "7 days",
          "Object Tags Prefix" : "tag-music-flow.",
          "Signer Override" : "Default Signature",
          "Canned ACL" : "${s3.permissions.cannedacl}",
          "Use Path Style Access" : "false",
          "Write ACL User List" : "${s3.permissions.writeacl.users}",
          "Use Chunked Encoding" : "true",
          "Read ACL User List" : "${s3.permissions.readacl.users}",
          "Storage Class" : "Standard",
          "Multipart Part Size" : "5 GB",
          "Remove Tag Prefix" : "true",
          "Object Key" : "${filename}",
          "AWS Credentials Provider service" : "5aa0838e-15b0-33cf-ffff-ffff8cc4ee6a",
          "Multipart Threshold" : "5 GB",
          "Temporary Directory Multipart State" : "${java.io.tmpdir}",
          "Server Side Encryption" : "None",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Multipart Upload AgeOff Interval" : "60 min",
          "Write Permission User List" : "${s3.permissions.write.users}",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}",
          "Read Permission User List" : "${s3.permissions.read.users}"
        },
        "propertyDescriptors" : {
          "FullControl User List" : {
            "displayName" : "FullControl User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "FullControl User List",
            "sensitive" : false
          },
          "Owner" : {
            "displayName" : "Owner",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Owner",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Resource Transfer Source" : {
            "displayName" : "Resource Transfer Source",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Resource Transfer Source",
            "sensitive" : false
          },
          "Cache Control" : {
            "displayName" : "Cache Control",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Cache Control",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "File Resource Service" : {
            "displayName" : "File Resource Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "File Resource Service",
            "sensitive" : false
          },
          "Multipart Upload Max Age Threshold" : {
            "displayName" : "Multipart Upload Max Age Threshold",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Upload Max Age Threshold",
            "sensitive" : false
          },
          "Object Tags Prefix" : {
            "displayName" : "Object Tags Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Tags Prefix",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Content Type" : {
            "displayName" : "Content Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Type",
            "sensitive" : false
          },
          "Canned ACL" : {
            "displayName" : "Canned ACL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Canned ACL",
            "sensitive" : false
          },
          "Use Path Style Access" : {
            "displayName" : "Use Path Style Access",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Path Style Access",
            "sensitive" : false
          },
          "Encryption Service" : {
            "displayName" : "Encryption Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Encryption Service",
            "sensitive" : false
          },
          "Write ACL User List" : {
            "displayName" : "Write ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write ACL User List",
            "sensitive" : false
          },
          "Use Chunked Encoding" : {
            "displayName" : "Use Chunked Encoding",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Chunked Encoding",
            "sensitive" : false
          },
          "Read ACL User List" : {
            "displayName" : "Read ACL User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read ACL User List",
            "sensitive" : false
          },
          "Content Disposition" : {
            "displayName" : "Content Disposition",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Content Disposition",
            "sensitive" : false
          },
          "Storage Class" : {
            "displayName" : "Storage Class",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Storage Class",
            "sensitive" : false
          },
          "Multipart Part Size" : {
            "displayName" : "Multipart Part Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Part Size",
            "sensitive" : false
          },
          "Remove Tag Prefix" : {
            "displayName" : "Remove Tag Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Remove Tag Prefix",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Multipart Threshold" : {
            "displayName" : "Multipart Threshold",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Threshold",
            "sensitive" : false
          },
          "Temporary Directory Multipart State" : {
            "displayName" : "Temporary Directory Multipart State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Temporary Directory Multipart State",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Server Side Encryption" : {
            "displayName" : "Server Side Encryption",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Server Side Encryption",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Multipart Upload AgeOff Interval" : {
            "displayName" : "Multipart Upload AgeOff Interval",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Multipart Upload AgeOff Interval",
            "sensitive" : false
          },
          "Write Permission User List" : {
            "displayName" : "Write Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Permission User List",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Read Permission User List" : {
            "displayName" : "Read Permission User List",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Read Permission User List",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Expiration Time Rule" : {
            "displayName" : "Expiration Time Rule",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Expiration Time Rule",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.PutS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "rate limited", "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-slack-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "b949546a-c673-333e-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Notify Schema Generation Done",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 112.0,
          "y" : 376.0
        },
        "properties" : {
          "Max FlowFile Size" : "1 MB",
          "Publish Strategy" : "Use 'Message Text' Property",
          "Channel" : "#{slack.channel}",
          "Access Token" : "#{slack.bot.oauth.token}",
          "Message Text" : "${slack.message}",
          "Character Set" : "UTF-8",
          "Include FlowFile Content as Attachment" : "false"
        },
        "propertyDescriptors" : {
          "Max FlowFile Size" : {
            "displayName" : "Max FlowFile Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max FlowFile Size",
            "sensitive" : false
          },
          "Thread Timestamp" : {
            "displayName" : "Thread Timestamp",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Thread Timestamp",
            "sensitive" : false
          },
          "Methods Endpoint Url Prefix" : {
            "displayName" : "Methods Endpoint Url Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Methods Endpoint Url Prefix",
            "sensitive" : false
          },
          "Publish Strategy" : {
            "displayName" : "Publish Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Publish Strategy",
            "sensitive" : false
          },
          "Channel" : {
            "displayName" : "Channel",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Channel",
            "sensitive" : false
          },
          "Access Token" : {
            "displayName" : "Access Token",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Token",
            "sensitive" : true
          },
          "Message Text" : {
            "displayName" : "Message Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Message Text",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          },
          "Include FlowFile Content as Attachment" : {
            "displayName" : "Include FlowFile Content as Attachment",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Include FlowFile Content as Attachment",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.slack.PublishSlack",
        "yieldDuration" : "3 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-groovyx-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b00d80a9-b06d-3509-ffff-ffff8cc4ee6a",
        "identifier" : "f9202277-18a2-35b3-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Prepare Slack Message",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 112.0,
          "y" : 144.0
        },
        "properties" : {
          "Script File" : "#{script_prepare_slack_message}",
          "Failure Strategy" : "rollback"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Additional Classpath" : {
            "displayName" : "Additional Classpath",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Additional Classpath",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Failure Strategy" : {
            "displayName" : "Failure Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Failure Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    }, {
      "comments" : "",
      "componentType" : "PROCESS_GROUP",
      "connections" : [ {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "3f1df9b3-cef9-33c7-ffff-ffff8cc4ee6a",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "0225358e-59df-3f34-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "unmatched" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "2ffc2b03-0183-350e-ffff-ffff8cc4ee6a",
          "name" : "Check for Table Name and Namespace",
          "type" : "PROCESSOR"
        },
        "zIndex" : 188
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "902ca0e6-9f75-3cfd-ffff-ffff8cc4ee6a",
          "name" : "Analyze and Adapt Schema",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "05871d89-9c96-3989-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "d04b1a21-24c6-3c8a-ffff-ffff8cc4ee6a",
          "name" : "Ingestion Data Properties",
          "type" : "PROCESSOR"
        },
        "zIndex" : 166
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "4c93b0cd-1e71-30da-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "07cd79c9-5350-3f2a-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "matched" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "5d3e261b-038b-3f47-ffff-ffff8cc4ee6a",
          "name" : "EvaluateJsonPath",
          "type" : "PROCESSOR"
        },
        "zIndex" : 43
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "fdb46e6d-be31-3389-ffff-ffff8cc4ee6a",
          "name" : "LogMessage",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "0f5eedde-0a8f-3464-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "e02f8b0e-48fe-370d-ffff-ffff8cc4ee6a",
          "name" : "Set Ingestion Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 184
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "5d3e261b-038b-3f47-ffff-ffff8cc4ee6a",
          "name" : "EvaluateJsonPath",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "381f8b88-ee3d-32c3-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "902ca0e6-9f75-3cfd-ffff-ffff8cc4ee6a",
          "name" : "Analyze and Adapt Schema",
          "type" : "PROCESSOR"
        },
        "zIndex" : 4
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "d04b1a21-24c6-3c8a-ffff-ffff8cc4ee6a",
          "name" : "Ingestion Data Properties",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "6c7810e0-1cde-3f57-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "1d531285-a41a-34a2-ffff-ffff8cc4ee6a",
          "name" : "CSV Headers",
          "type" : "PROCESSOR"
        },
        "zIndex" : 165
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "e02f8b0e-48fe-370d-ffff-ffff8cc4ee6a",
          "name" : "Set Ingestion Attributes",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "a12449ad-daa8-3ab3-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "ready_for_ingestion" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "4c93b0cd-1e71-30da-ffff-ffff8cc4ee6a",
          "name" : "RouteOnAttribute",
          "type" : "PROCESSOR"
        },
        "zIndex" : 181
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "f19428be-4b8c-3a66-ffff-ffff8cc4ee6a",
          "name" : "Get Data File",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "a16a609f-cbca-3734-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "ingestible" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "f7a8b003-fa56-3ce1-ffff-ffff8cc4ee6a",
          "name" : "Filter Data Files",
          "type" : "PROCESSOR"
        },
        "zIndex" : 193
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "f7a8b003-fa56-3ce1-ffff-ffff8cc4ee6a",
          "name" : "Filter Data Files",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "bbb6d40c-895d-38b7-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "8bfd9aa3-a38c-3301-ffff-ffff8cc4ee6a",
          "name" : "ListS3",
          "type" : "PROCESSOR"
        },
        "zIndex" : 172
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "1d531285-a41a-34a2-ffff-ffff8cc4ee6a",
          "name" : "CSV Headers",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "bbc1e353-21e2-32b1-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "table.tags.exists" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "2ffc2b03-0183-350e-ffff-ffff8cc4ee6a",
          "name" : "Check for Table Name and Namespace",
          "type" : "PROCESSOR"
        },
        "zIndex" : 187
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "51530f66-3653-3a87-ffff-ffff8cc4ee6a",
          "name" : "FetchS3Object",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "be410584-345f-36ce-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "e02f8b0e-48fe-370d-ffff-ffff8cc4ee6a",
          "name" : "Set Ingestion Attributes",
          "type" : "PROCESSOR"
        },
        "zIndex" : 182
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "a0a6f4c7-69b6-3915-ffff-ffff8cc4ee6a",
          "name" : "Tag as In Ingestion",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "c022ecca-d96f-3c5a-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "51530f66-3653-3a87-ffff-ffff8cc4ee6a",
          "name" : "FetchS3Object",
          "type" : "PROCESSOR"
        },
        "zIndex" : 194
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "6a64062e-f5a1-30d1-ffff-ffff8cc4ee6a",
          "name" : "Mark File As Done",
          "type" : "OUTPUT_PORT"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "e606d68c-a287-311a-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "7e2b196d-e2de-35c3-ffff-ffff8cc4ee6a",
          "name" : "PutIcebergTable",
          "type" : "PROCESSOR"
        },
        "zIndex" : 180
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "7e2b196d-e2de-35c3-ffff-ffff8cc4ee6a",
          "name" : "PutIcebergTable",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "f213948a-53e1-30e4-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "a0a6f4c7-69b6-3915-ffff-ffff8cc4ee6a",
          "name" : "Tag as In Ingestion",
          "type" : "PROCESSOR"
        },
        "zIndex" : 195
      }, {
        "backPressureDataSizeThreshold" : "1 GB",
        "backPressureObjectThreshold" : 10000,
        "bends" : [ ],
        "componentType" : "CONNECTION",
        "destination" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "2ffc2b03-0183-350e-ffff-ffff8cc4ee6a",
          "name" : "Check for Table Name and Namespace",
          "type" : "PROCESSOR"
        },
        "flowFileExpiration" : "0 sec",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "fbf60c44-00b5-3d78-ffff-ffff8cc4ee6a",
        "labelIndex" : 0,
        "loadBalanceCompression" : "DO_NOT_COMPRESS",
        "loadBalanceStrategy" : "DO_NOT_LOAD_BALANCE",
        "name" : "",
        "partitioningAttribute" : "",
        "prioritizers" : [ ],
        "selectedRelationships" : [ "success" ],
        "source" : {
          "comments" : "",
          "groupId" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
          "id" : "f19428be-4b8c-3a66-ffff-ffff8cc4ee6a",
          "name" : "Get Data File",
          "type" : "PROCESSOR"
        },
        "zIndex" : 186
      } ],
      "controllerServices" : [ {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordReaderFactory"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "023bd89c-6e61-3eed-ffff-ffff8cc4ee6a",
        "name" : "CSV Reader with Header Line",
        "properties" : {
          "Schema Text" : "${avro.schema}",
          "Trim double quote" : "true",
          "CSV Format" : "custom",
          "Quote Character" : "\"",
          "Value Separator" : ",",
          "Treat First Line as Header" : "true",
          "Schema Access Strategy" : "schema-text-property",
          "Ignore CSV Header Column Names" : "false",
          "Schema Name" : "${schema.name}",
          "Record Separator" : "\\n",
          "Escape Character" : "\\",
          "Trim Fields" : "true",
          "csv-reader-csv-parser" : "commons-csv",
          "Allow Duplicate Header Names" : "false",
          "Character Set" : "UTF-8"
        },
        "propertyDescriptors" : {
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "Trim double quote" : {
            "displayName" : "Trim double quote",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Trim double quote",
            "sensitive" : false
          },
          "CSV Format" : {
            "displayName" : "CSV Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "CSV Format",
            "sensitive" : false
          },
          "Quote Character" : {
            "displayName" : "Quote Character",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Quote Character",
            "sensitive" : false
          },
          "Value Separator" : {
            "displayName" : "Value Separator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Value Separator",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Treat First Line as Header" : {
            "displayName" : "Treat First Line as Header",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Treat First Line as Header",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Ignore CSV Header Column Names" : {
            "displayName" : "Ignore CSV Header Column Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Ignore CSV Header Column Names",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Record Separator" : {
            "displayName" : "Record Separator",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Record Separator",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "Escape Character" : {
            "displayName" : "Escape Character",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Escape Character",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "Null String" : {
            "displayName" : "Null String",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Null String",
            "sensitive" : false
          },
          "Trim Fields" : {
            "displayName" : "Trim Fields",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Trim Fields",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "csv-reader-csv-parser" : {
            "displayName" : "CSV Parser",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "csv-reader-csv-parser",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Comment Marker" : {
            "displayName" : "Comment Marker",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Comment Marker",
            "sensitive" : false
          },
          "Allow Duplicate Header Names" : {
            "displayName" : "Allow Duplicate Header Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Allow Duplicate Header Names",
            "sensitive" : false
          },
          "Character Set" : {
            "displayName" : "Character Set",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Character Set",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.csv.CSVReader"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-iceberg-rest-catalog-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "Set the client properties to use client factory settings from https://iceberg.apache.org/docs/1.9.2/aws/#aws-client-customization",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "runtime-iceberg-service-api-nar",
            "group" : "com.snowflake.openflow.runtime",
            "version" : "2025.10.30.21"
          },
          "type" : "com.snowflake.openflow.runtime.services.iceberg.IcebergCatalog"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "12c4ccd7-4328-3eba-ffff-ffff8cc4ee6a",
        "name" : "OpenCatalog(IAM Role)",
        "properties" : {
          "s3.region" : "#{iceberg.s3.region}",
          "Client ID" : "#{polaris.client.id}",
          "client.assume-role.region" : "#{music-flow.opencatalog.s3.assume-role-region}",
          "client.assume-role.external-id" : "#{music-flow.opencatalog.s3.assume-role.external-id}",
          "Catalog URI" : "#{polaris.catalog.uri}",
          "Warehouse Location" : "#{polaris.catalog}",
          "client.region" : "#{iceberg.s3.region}",
          "client.assume-role.arn" : "#{music-flow.opencatalog.s3.assume-role-arn}",
          "s3.secret-access-key" : "#{music-flow.aws.secret-access-key}",
          "s3.access-key-id" : "#{music-flow.aws.access-key-id}",
          "client.factory" : "org.apache.iceberg.aws.AssumeRoleAwsClientFactory",
          "Authentication Strategy" : "OAUTH2",
          "aws.region" : "#{iceberg.s3.region}",
          "Access Token Scopes" : "#{polaris.access.token.scopes}",
          "Authorization Server URI" : "#{polaris.server.auth.uri}",
          "Client Secret" : "#{polaris.client.secret}",
          "Authorization Grant Type" : "CLIENT_CREDENTIALS"
        },
        "propertyDescriptors" : {
          "s3.region" : {
            "displayName" : "s3.region",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.region",
            "sensitive" : false
          },
          "Client ID" : {
            "displayName" : "Client ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Client ID",
            "sensitive" : true
          },
          "client.assume-role.region" : {
            "displayName" : "client.assume-role.region",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "client.assume-role.region",
            "sensitive" : false
          },
          "client.assume-role.external-id" : {
            "displayName" : "client.assume-role.external-id",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "client.assume-role.external-id",
            "sensitive" : false
          },
          "Catalog URI" : {
            "displayName" : "Catalog URI",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Catalog URI",
            "sensitive" : false
          },
          "Warehouse Location" : {
            "displayName" : "Warehouse Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse Location",
            "sensitive" : false
          },
          "client.region" : {
            "displayName" : "client.region",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "client.region",
            "sensitive" : false
          },
          "client.assume-role.arn" : {
            "displayName" : "client.assume-role.arn",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "client.assume-role.arn",
            "sensitive" : false
          },
          "s3.secret-access-key" : {
            "displayName" : "s3.secret-access-key",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.secret-access-key",
            "sensitive" : true
          },
          "s3.access-key-id" : {
            "displayName" : "s3.access-key-id",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.access-key-id",
            "sensitive" : true
          },
          "client.factory" : {
            "displayName" : "client.factory",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "client.factory",
            "sensitive" : false
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "aws.region" : {
            "displayName" : "aws.region",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "aws.region",
            "sensitive" : false
          },
          "Access Token Scopes" : {
            "displayName" : "Access Token Scopes",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Token Scopes",
            "sensitive" : false
          },
          "Bearer Token" : {
            "displayName" : "Bearer Token",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bearer Token",
            "sensitive" : true
          },
          "Authorization Server URI" : {
            "displayName" : "Authorization Server URI",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authorization Server URI",
            "sensitive" : false
          },
          "Client Secret" : {
            "displayName" : "Client Secret",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Client Secret",
            "sensitive" : true
          },
          "Authorization Grant Type" : {
            "displayName" : "Authorization Grant Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authorization Grant Type",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.iceberg.catalog.PolarisIcebergCatalog"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-record-serialization-services-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.serialization.RecordSetWriterFactory"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "1b2c3cc6-3113-3d84-ffff-ffff8cc4ee6a",
        "name" : "Ingest Data JsonRecordSetWriter",
        "properties" : {
          "Schema Text" : "${avro.schema}",
          "Allow Scientific Notation" : "false",
          "compression-level" : "1",
          "Schema Access Strategy" : "schema-text-property",
          "Schema Name" : "${schema.name}",
          "Pretty Print JSON" : "false",
          "compression-format" : "none",
          "Schema Write Strategy" : "no-schema",
          "suppress-nulls" : "never-suppress",
          "output-grouping" : "output-array"
        },
        "propertyDescriptors" : {
          "Schema Branch" : {
            "displayName" : "Schema Branch",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Branch",
            "sensitive" : false
          },
          "Schema Reference Reader" : {
            "displayName" : "Schema Reference Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Reader",
            "sensitive" : false
          },
          "Schema Text" : {
            "displayName" : "Schema Text",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Text",
            "sensitive" : false
          },
          "Allow Scientific Notation" : {
            "displayName" : "Allow Scientific Notation",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Allow Scientific Notation",
            "sensitive" : false
          },
          "compression-level" : {
            "displayName" : "Compression Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "compression-level",
            "sensitive" : false
          },
          "Schema Registry" : {
            "displayName" : "Schema Registry",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Registry",
            "sensitive" : false
          },
          "Schema Access Strategy" : {
            "displayName" : "Schema Access Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Access Strategy",
            "sensitive" : false
          },
          "Schema Name" : {
            "displayName" : "Schema Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Name",
            "sensitive" : false
          },
          "Timestamp Format" : {
            "displayName" : "Timestamp Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Timestamp Format",
            "sensitive" : false
          },
          "Date Format" : {
            "displayName" : "Date Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Date Format",
            "sensitive" : false
          },
          "Pretty Print JSON" : {
            "displayName" : "Pretty Print JSON",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Pretty Print JSON",
            "sensitive" : false
          },
          "compression-format" : {
            "displayName" : "Compression Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "compression-format",
            "sensitive" : false
          },
          "Schema Write Strategy" : {
            "displayName" : "Schema Write Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Write Strategy",
            "sensitive" : false
          },
          "suppress-nulls" : {
            "displayName" : "Suppress Null Values",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "suppress-nulls",
            "sensitive" : false
          },
          "output-grouping" : {
            "displayName" : "Output Grouping",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "output-grouping",
            "sensitive" : false
          },
          "Schema Cache" : {
            "displayName" : "Schema Cache",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Cache",
            "sensitive" : false
          },
          "Schema Version" : {
            "displayName" : "Schema Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema Version",
            "sensitive" : false
          },
          "Time Format" : {
            "displayName" : "Time Format",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Time Format",
            "sensitive" : false
          },
          "Schema Reference Writer" : {
            "displayName" : "Schema Reference Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Schema Reference Writer",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.json.JsonRecordSetWriter"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-aws-service-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService"
        }, {
          "bundle" : {
            "artifact" : "nifi-aws-service-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "7b0d624f-c93f-3f95-ffff-ffff8cc4ee6a",
        "name" : "AWS DevRel Sandbox",
        "properties" : {
          "Assume Role STS Region" : "us-west-2",
          "Access Key ID" : "#{music-flow.aws.access-key-id}",
          "Assume Role ARN" : "#{music-flow.s3.assume-role-arn}",
          "Assume Role Session Time" : "3600",
          "Assume Role Session Name" : "Kamesh_Openflow_SPCS_MF_demo",
          "Use Default Credentials" : "false",
          "Assume Role External ID" : "#{music-flow.s3.ingest-data.assume-role-external-ID}",
          "Assume Role STS Signer Override" : "Default Signature",
          "Use Anonymous Credentials" : "false",
          "Secret Access Key" : "#{music-flow.aws.secret-access-key}"
        },
        "propertyDescriptors" : {
          "Assume Role STS Region" : {
            "displayName" : "Assume Role STS Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Region",
            "sensitive" : false
          },
          "Assume Role Proxy Configuration Service" : {
            "displayName" : "Assume Role Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Assume Role Proxy Configuration Service",
            "sensitive" : false
          },
          "Access Key ID" : {
            "displayName" : "Access Key ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Key ID",
            "sensitive" : true
          },
          "Assume Role ARN" : {
            "displayName" : "Assume Role ARN",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role ARN",
            "sensitive" : false
          },
          "Assume Role Session Time" : {
            "displayName" : "Assume Role Session Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role Session Time",
            "sensitive" : false
          },
          "Assume Role Session Name" : {
            "displayName" : "Assume Role Session Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role Session Name",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "Use Default Credentials" : {
            "displayName" : "Use Default Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Default Credentials",
            "sensitive" : false
          },
          "Assume Role External ID" : {
            "displayName" : "Assume Role External ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role External ID",
            "sensitive" : false
          },
          "Assume Role STS Endpoint Override" : {
            "displayName" : "Assume Role STS Endpoint Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Endpoint Override",
            "sensitive" : false
          },
          "Profile Name" : {
            "displayName" : "Profile Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Profile Name",
            "sensitive" : false
          },
          "Credentials File" : {
            "displayName" : "Credentials File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Credentials File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Assume Role STS Signer Override" : {
            "displayName" : "Assume Role STS Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Assume Role STS Signer Override",
            "sensitive" : false
          },
          "Use Anonymous Credentials" : {
            "displayName" : "Use Anonymous Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Anonymous Credentials",
            "sensitive" : false
          },
          "Secret Access Key" : {
            "displayName" : "Secret Access Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Secret Access Key",
            "sensitive" : true
          },
          "Assume Role SSL Context Service" : {
            "displayName" : "Assume Role SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Assume Role SSL Context Service",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-iceberg-parquet-writer-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "runtime-iceberg-service-api-nar",
            "group" : "com.snowflake.openflow.runtime",
            "version" : "2025.10.30.21"
          },
          "type" : "com.snowflake.openflow.runtime.services.iceberg.IcebergWriter"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "c3fa0341-1c1a-34d6-ffff-ffff8cc4ee6a",
        "name" : "ParquetIcebergWriter",
        "properties" : {
          "Write Target File Size" : "512 MB"
        },
        "propertyDescriptors" : {
          "Write Target File Size" : {
            "displayName" : "Write Target File Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Target File Size",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.iceberg.parquet.ParquetIcebergWriter"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-iceberg-rest-catalog-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "runtime-iceberg-service-api-nar",
            "group" : "com.snowflake.openflow.runtime",
            "version" : "2025.10.30.21"
          },
          "type" : "com.snowflake.openflow.runtime.services.iceberg.IcebergCatalog"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "c5d5be5f-19b2-3e1e-ffff-ffff8cc4ee6a",
        "name" : "OpenCatalog(No IAM Role)",
        "properties" : {
          "s3.region" : "#{aws.region}",
          "Client ID" : "#{polaris.client.id}",
          "Catalog URI" : "#{polaris.catalog.uri}",
          "Warehouse Location" : "#{polaris.catalog}",
          "client.region" : "#{iceberg.s3.region}",
          "s3.session-token" : "#{opencatalog.s3.session-token}",
          "s3.secret-access-key" : "#{opencatalog.s3.secret-access-key}",
          "s3.access-key-id" : "#{opencatalog.s3.access-key-id}",
          "Authentication Strategy" : "OAUTH2",
          "Access Token Scopes" : "#{polaris.access.token.scopes}",
          "Authorization Server URI" : "#{polaris.server.auth.uri}",
          "Client Secret" : "#{polaris.client.secret}",
          "Authorization Grant Type" : "CLIENT_CREDENTIALS"
        },
        "propertyDescriptors" : {
          "s3.region" : {
            "displayName" : "s3.region",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.region",
            "sensitive" : false
          },
          "Client ID" : {
            "displayName" : "Client ID",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Client ID",
            "sensitive" : true
          },
          "Catalog URI" : {
            "displayName" : "Catalog URI",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Catalog URI",
            "sensitive" : false
          },
          "Warehouse Location" : {
            "displayName" : "Warehouse Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse Location",
            "sensitive" : false
          },
          "client.region" : {
            "displayName" : "client.region",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "client.region",
            "sensitive" : false
          },
          "s3.session-token" : {
            "displayName" : "s3.session-token",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.session-token",
            "sensitive" : true
          },
          "s3.secret-access-key" : {
            "displayName" : "s3.secret-access-key",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.secret-access-key",
            "sensitive" : true
          },
          "s3.access-key-id" : {
            "displayName" : "s3.access-key-id",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "s3.access-key-id",
            "sensitive" : true
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "Access Token Scopes" : {
            "displayName" : "Access Token Scopes",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Access Token Scopes",
            "sensitive" : false
          },
          "Bearer Token" : {
            "displayName" : "Bearer Token",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bearer Token",
            "sensitive" : true
          },
          "Authorization Server URI" : {
            "displayName" : "Authorization Server URI",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authorization Server URI",
            "sensitive" : false
          },
          "Client Secret" : {
            "displayName" : "Client Secret",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Client Secret",
            "sensitive" : true
          },
          "Authorization Grant Type" : {
            "displayName" : "Authorization Grant Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authorization Grant Type",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.iceberg.catalog.PolarisIcebergCatalog"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-gcp-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-gcp-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.30.21"
          },
          "type" : "org.apache.nifi.gcp.credentials.service.GCPCredentialsService"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "e7c945da-1f45-3f5c-ffff-ffff8cc4ee6a",
        "name" : "Pratyakshika Openflow",
        "properties" : {
          "Use Application Default Credentials" : "false",
          "Service Account JSON File" : "#{pratyakshika_sa_json}",
          "Use Compute Engine Credentials" : "false",
          "Delegation Strategy" : "Service Account"
        },
        "propertyDescriptors" : {
          "Use Application Default Credentials" : {
            "displayName" : "Use Application Default Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Application Default Credentials",
            "sensitive" : false
          },
          "Service Account JSON File" : {
            "displayName" : "Service Account JSON File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Service Account JSON File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Service Account JSON" : {
            "displayName" : "Service Account JSON",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Service Account JSON",
            "sensitive" : true
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Use Compute Engine Credentials" : {
            "displayName" : "Use Compute Engine Credentials",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Compute Engine Credentials",
            "sensitive" : false
          },
          "Delegation Strategy" : {
            "displayName" : "Delegation Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delegation Strategy",
            "sensitive" : false
          },
          "Delegation User" : {
            "displayName" : "Delegation User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delegation User",
            "sensitive" : false
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "org.apache.nifi.processors.gcp.credentials.service.GCPCredentialsControllerService"
      }, {
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-snowflake-connection-service-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "CONTROLLER_SERVICE",
        "controllerServiceApis" : [ {
          "bundle" : {
            "artifact" : "nifi-standard-services-api-nar",
            "group" : "org.apache.nifi",
            "version" : "2025.10.28.18"
          },
          "type" : "org.apache.nifi.dbcp.DBCPService"
        } ],
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "f292ce42-635c-3699-ffff-ffff8cc4ee6a",
        "name" : "SnowflakeConnectionService",
        "properties" : {
          "Account" : "#{snowflake_account}",
          "Warehouse" : "#{snowflake_warehouse}",
          "User" : "#{snowflake_user}",
          "Maximum Connections" : "10",
          "Maximum Lifetime" : "30 minutes",
          "Schema" : "metadata",
          "Connection Strategy" : "STANDARD",
          "Connection Timeout" : "30 seconds",
          "Role" : "#{snowflake_role}",
          "Idle Timeout" : "10 minutes",
          "Authentication Strategy" : "SNOWFLAKE_SESSION_TOKEN",
          "Database Name" : "#{snowflake_database}",
          "Password" : "#{snowflake_password}"
        },
        "propertyDescriptors" : {
          "Account" : {
            "displayName" : "Account",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Account",
            "sensitive" : false
          },
          "Warehouse" : {
            "displayName" : "Warehouse",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Warehouse",
            "sensitive" : false
          },
          "User" : {
            "displayName" : "User",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "User",
            "sensitive" : false
          },
          "Maximum Connections" : {
            "displayName" : "Maximum Connections",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Connections",
            "sensitive" : false
          },
          "Maximum Lifetime" : {
            "displayName" : "Maximum Lifetime",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Lifetime",
            "sensitive" : false
          },
          "Schema" : {
            "displayName" : "Schema",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Schema",
            "sensitive" : false
          },
          "Private Key Service" : {
            "displayName" : "Private Key Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Private Key Service",
            "sensitive" : false
          },
          "Connection Strategy" : {
            "displayName" : "Connection Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Strategy",
            "sensitive" : false
          },
          "Connection Timeout" : {
            "displayName" : "Connection Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Connection Timeout",
            "sensitive" : false
          },
          "Role" : {
            "displayName" : "Role",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Role",
            "sensitive" : false
          },
          "Idle Timeout" : {
            "displayName" : "Idle Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Idle Timeout",
            "sensitive" : false
          },
          "Authentication Strategy" : {
            "displayName" : "Authentication Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Authentication Strategy",
            "sensitive" : false
          },
          "Database Name" : {
            "displayName" : "Database Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Database Name",
            "sensitive" : false
          },
          "Password" : {
            "displayName" : "Password",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Password",
            "sensitive" : true
          }
        },
        "scheduledState" : "DISABLED",
        "type" : "com.snowflake.openflow.runtime.services.snowflake.SnowflakeConnectionService"
      } ],
      "defaultBackPressureDataSizeThreshold" : "1 GB",
      "defaultBackPressureObjectThreshold" : 10000,
      "defaultFlowFileExpiration" : "0 sec",
      "executionEngine" : "INHERITED",
      "flowFileConcurrency" : "UNBOUNDED",
      "flowFileOutboundPolicy" : "STREAM_WHEN_AVAILABLE",
      "funnels" : [ ],
      "groupIdentifier" : "flow-contents-group",
      "identifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
      "inputPorts" : [ ],
      "labels" : [ ],
      "maxConcurrentTasks" : 1,
      "name" : "Ingest Data",
      "outputPorts" : [ {
        "allowRemoteAccess" : false,
        "componentType" : "OUTPUT_PORT",
        "concurrentlySchedulableTaskCount" : 1,
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "6a64062e-f5a1-30d1-ffff-ffff8cc4ee6a",
        "name" : "Mark File As Done",
        "portFunction" : "STANDARD",
        "position" : {
          "x" : -480.0,
          "y" : 448.0
        },
        "scheduledState" : "ENABLED",
        "type" : "OUTPUT_PORT"
      } ],
      "parameterContextName" : "Structured AI Data Pipeline Parameters",
      "position" : {
        "x" : 448.0452880859375,
        "y" : -343.7677917480469
      },
      "processGroups" : [ ],
      "processors" : [ {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-groovyx-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "1d531285-a41a-34a2-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "CSV Headers",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -1464.0
        },
        "properties" : {
          "Script File" : "#{script_extract_csv_metadata}",
          "Failure Strategy" : "rollback"
        },
        "propertyDescriptors" : {
          "Script File" : {
            "displayName" : "Script File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script File",
            "resourceDefinition" : {
              "cardinality" : "SINGLE",
              "resourceTypes" : [ "FILE" ]
            },
            "sensitive" : false
          },
          "Additional Classpath" : {
            "displayName" : "Additional Classpath",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Additional Classpath",
            "sensitive" : false
          },
          "Script Body" : {
            "displayName" : "Script Body",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Script Body",
            "sensitive" : false
          },
          "Failure Strategy" : {
            "displayName" : "Failure Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Failure Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.groovyx.ExecuteGroovyScript",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "2ffc2b03-0183-350e-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Check for Table Name and Namespace",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 88.0,
          "y" : -1464.0
        },
        "properties" : {
          "table.tags.exists" : "${s3.tag.table-name:notNull():and(${s3.tag.table-namespace:notNull()})}",
          "Routing Strategy" : "Route to Property name"
        },
        "propertyDescriptors" : {
          "table.tags.exists" : {
            "displayName" : "table.tags.exists",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.tags.exists",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "3f1df9b3-cef9-33c7-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 88.0,
          "y" : -1240.0
        },
        "properties" : {
          "log-message" : "Unable to find the table-name and table-namespace tags for the ${filename}",
          "log-level" : "error"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "4c93b0cd-1e71-30da-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "RouteOnAttribute",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -560.0
        },
        "properties" : {
          "Routing Strategy" : "Route to Property name",
          "ready_for_ingestion" : "${ready.for.ingestion:notNull():and(${ready.for.ingestion:equalsIgnoreCase('true')})}"
        },
        "propertyDescriptors" : {
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "ready_for_ingestion" : {
            "displayName" : "ready_for_ingestion",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "ready_for_ingestion",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "51530f66-3653-3a87-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "FetchS3Object",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -536.0,
          "y" : -152.0
        },
        "properties" : {
          "Object Key" : "${source.filename}",
          "AWS Credentials Provider service" : "7b0d624f-c93f-3f95-ffff-ffff8cc4ee6a",
          "Signer Override" : "Default Signature",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}",
          "Requester Pays" : "false"
        },
        "propertyDescriptors" : {
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "Range Start" : {
            "displayName" : "Range Start",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Range Start",
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Version" : {
            "displayName" : "Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Version",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Encryption Service" : {
            "displayName" : "Encryption Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Encryption Service",
            "sensitive" : false
          },
          "Requester Pays" : {
            "displayName" : "Requester Pays",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Requester Pays",
            "sensitive" : false
          },
          "Range Length" : {
            "displayName" : "Range Length",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Range Length",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.FetchS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure", "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "5d3e261b-038b-3f47-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "EvaluateJsonPath",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -768.0
        },
        "properties" : {
          "unmapped.avro.fields" : "$.[0].UNMAPPED_AVRO_FIELDS",
          "Destination" : "flowfile-attribute",
          "adapted.schema.json.b64" : "$.[0].ADAPTED_AVRO_SCHEMA",
          "Max String Length" : "20 MB",
          "Return Type" : "auto-detect",
          "ready.for.ingestion" : "$.[0].IS_READY",
          "schema.json.b64" : "$.[0].AVRO_SCHEMA",
          "field.mappings" : "$.[0].FIELD_MAPPINGS",
          "Null Value Representation" : "empty string",
          "schema.status" : "$.[0].SCHEMA_STATUS",
          "unmapped.csv.fields" : "$.[0].UNMAPPED_CSV_FIELDS",
          "Path Not Found Behavior" : "ignore"
        },
        "propertyDescriptors" : {
          "unmapped.avro.fields" : {
            "displayName" : "unmapped.avro.fields",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "unmapped.avro.fields",
            "sensitive" : false
          },
          "Destination" : {
            "displayName" : "Destination",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Destination",
            "sensitive" : false
          },
          "adapted.schema.json.b64" : {
            "displayName" : "adapted.schema.json.b64",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "adapted.schema.json.b64",
            "sensitive" : false
          },
          "Max String Length" : {
            "displayName" : "Max String Length",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max String Length",
            "sensitive" : false
          },
          "Return Type" : {
            "displayName" : "Return Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Return Type",
            "sensitive" : false
          },
          "ready.for.ingestion" : {
            "displayName" : "ready.for.ingestion",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "ready.for.ingestion",
            "sensitive" : false
          },
          "schema.json.b64" : {
            "displayName" : "schema.json.b64",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "schema.json.b64",
            "sensitive" : false
          },
          "field.mappings" : {
            "displayName" : "field.mappings",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "field.mappings",
            "sensitive" : false
          },
          "Null Value Representation" : {
            "displayName" : "Null Value Representation",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Null Value Representation",
            "sensitive" : false
          },
          "schema.status" : {
            "displayName" : "schema.status",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "schema.status",
            "sensitive" : false
          },
          "unmapped.csv.fields" : {
            "displayName" : "unmapped.csv.fields",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "unmapped.csv.fields",
            "sensitive" : false
          },
          "Path Not Found Behavior" : {
            "displayName" : "Path Not Found Behavior",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Path Not Found Behavior",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.EvaluateJsonPath",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "runtime-iceberg-processors-nar",
          "group" : "com.snowflake.openflow.runtime",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "7e2b196d-e2de-35c3-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "PutIcebergTable",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -536.0,
          "y" : 248.0
        },
        "properties" : {
          "Table Name" : "${table.name}",
          "Iceberg Catalog" : "c5d5be5f-19b2-3e1e-ffff-ffff8cc4ee6a",
          "Record Reader" : "023bd89c-6e61-3eed-ffff-ffff8cc4ee6a",
          "Iceberg Writer" : "c3fa0341-1c1a-34d6-ffff-ffff8cc4ee6a",
          "Namespace" : "${table.namespace}"
        },
        "propertyDescriptors" : {
          "Table Name" : {
            "displayName" : "Table Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Table Name",
            "sensitive" : false
          },
          "Iceberg Catalog" : {
            "displayName" : "Iceberg Catalog",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Iceberg Catalog",
            "sensitive" : false
          },
          "Record Reader" : {
            "displayName" : "Record Reader",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Record Reader",
            "sensitive" : false
          },
          "Iceberg Writer" : {
            "displayName" : "Iceberg Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Iceberg Writer",
            "sensitive" : false
          },
          "Namespace" : {
            "displayName" : "Namespace",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Namespace",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "com.snowflake.openflow.runtime.processors.iceberg.PutIcebergTable",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "PRIMARY",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "8bfd9aa3-a38c-3301-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "ListS3",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -1976.0
        },
        "properties" : {
          "Entity Tracking Initial Listing Target" : "all",
          "Minimum Object Age" : "0 sec",
          "List Type" : "1",
          "Signer Override" : "Default Signature",
          "Entity Tracking Time Window" : "3 hours",
          "Use Versions" : "false",
          "Requester Pays" : "false",
          "AWS Credentials Provider service" : "7b0d624f-c93f-3f95-ffff-ffff8cc4ee6a",
          "Write Object Tags" : "true",
          "Listing Batch Size" : "100",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}",
          "Listing Strategy" : "none",
          "Write User Metadata" : "false"
        },
        "propertyDescriptors" : {
          "Entity Tracking Initial Listing Target" : {
            "displayName" : "Entity Tracking Initial Listing Target",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Entity Tracking Initial Listing Target",
            "sensitive" : false
          },
          "Minimum Object Age" : {
            "displayName" : "Minimum Object Age",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Minimum Object Age",
            "sensitive" : false
          },
          "Entity Tracking State Cache" : {
            "displayName" : "Entity Tracking State Cache",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Entity Tracking State Cache",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Maximum Object Age" : {
            "displayName" : "Maximum Object Age",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Maximum Object Age",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "List Type" : {
            "displayName" : "List Type",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "List Type",
            "sensitive" : false
          },
          "Prefix" : {
            "displayName" : "Prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Prefix",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Record Writer" : {
            "displayName" : "Record Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Record Writer",
            "sensitive" : false
          },
          "Entity Tracking Time Window" : {
            "displayName" : "Entity Tracking Time Window",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Entity Tracking Time Window",
            "sensitive" : false
          },
          "Use Versions" : {
            "displayName" : "Use Versions",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Versions",
            "sensitive" : false
          },
          "Requester Pays" : {
            "displayName" : "Requester Pays",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Requester Pays",
            "sensitive" : false
          },
          "Delimiter" : {
            "displayName" : "Delimiter",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delimiter",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Write Object Tags" : {
            "displayName" : "Write Object Tags",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write Object Tags",
            "sensitive" : false
          },
          "Listing Batch Size" : {
            "displayName" : "Listing Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Listing Batch Size",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Listing Strategy" : {
            "displayName" : "Listing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Listing Strategy",
            "sensitive" : false
          },
          "Write User Metadata" : {
            "displayName" : "Write User Metadata",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Write User Metadata",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "1 min",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.ListS3",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "902ca0e6-9f75-3cfd-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Analyze and Adapt Schema",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -976.0
        },
        "properties" : {
          "esql-max-rows" : "0",
          "esqlrecord-record-writer" : "1b2c3cc6-3113-3d84-ffff-ffff8cc4ee6a",
          "Max Wait Time" : "0 seconds",
          "SQL Query" : "#{ingestion_csv_avro_mapping_sql}",
          "Database Connection Pooling Service" : "f292ce42-635c-3699-ffff-ffff8cc4ee6a",
          "Default Decimal Scale" : "0",
          "esql-auto-commit" : "true",
          "esql-output-batch-size" : "0",
          "esql-fetch-size" : "0",
          "Use Avro Logical Types" : "false",
          "esqlrecord-normalize" : "true",
          "Default Decimal Precision" : "10"
        },
        "propertyDescriptors" : {
          "esql-max-rows" : {
            "displayName" : "Max Rows Per Flow File",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-max-rows",
            "sensitive" : false
          },
          "esqlrecord-record-writer" : {
            "displayName" : "Record Writer",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "esqlrecord-record-writer",
            "sensitive" : false
          },
          "Max Wait Time" : {
            "displayName" : "Max Wait Time",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Max Wait Time",
            "sensitive" : false
          },
          "SQL Query" : {
            "displayName" : "SQL Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "SQL Query",
            "sensitive" : false
          },
          "Database Connection Pooling Service" : {
            "displayName" : "Database Connection Pooling Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Database Connection Pooling Service",
            "sensitive" : false
          },
          "sql-post-query" : {
            "displayName" : "SQL Post-Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "sql-post-query",
            "sensitive" : false
          },
          "Default Decimal Scale" : {
            "displayName" : "Default Decimal Scale",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Default Decimal Scale",
            "sensitive" : false
          },
          "esql-auto-commit" : {
            "displayName" : "Set Auto Commit",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-auto-commit",
            "sensitive" : false
          },
          "sql-pre-query" : {
            "displayName" : "SQL Pre-Query",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "sql-pre-query",
            "sensitive" : false
          },
          "esql-output-batch-size" : {
            "displayName" : "Output Batch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-output-batch-size",
            "sensitive" : false
          },
          "esql-fetch-size" : {
            "displayName" : "Fetch Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esql-fetch-size",
            "sensitive" : false
          },
          "Use Avro Logical Types" : {
            "displayName" : "Use Avro Logical Types",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Use Avro Logical Types",
            "sensitive" : false
          },
          "esqlrecord-normalize" : {
            "displayName" : "Normalize Table/Column Names",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "esqlrecord-normalize",
            "sensitive" : false
          },
          "Default Decimal Precision" : {
            "displayName" : "Default Decimal Precision",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Default Decimal Precision",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.ExecuteSQLRecord",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "a0a6f4c7-69b6-3915-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Tag as In Ingestion",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -528.0,
          "y" : 56.0
        },
        "properties" : {
          "Append Tag" : "true",
          "Tag Value" : "yes",
          "Object Key" : "${source.filename}",
          "AWS Credentials Provider service" : "7b0d624f-c93f-3f95-ffff-ffff8cc4ee6a",
          "Signer Override" : "Default Signature",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Tag Key" : "object-ingestion-progress",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}"
        },
        "propertyDescriptors" : {
          "Append Tag" : {
            "displayName" : "Append Tag",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Append Tag",
            "sensitive" : false
          },
          "Tag Value" : {
            "displayName" : "Tag Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Tag Value",
            "sensitive" : false
          },
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Tag Key" : {
            "displayName" : "Tag Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Tag Key",
            "sensitive" : false
          },
          "Version" : {
            "displayName" : "Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Version",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.TagS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "d04b1a21-24c6-3c8a-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Ingestion Data Properties",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -1184.0
        },
        "properties" : {
          "avro.schema" : "#{ingestion_mapping_response_avro_schema}",
          "table.namespace" : "${s3.tag.table-namespace}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "table.name" : "${s3.tag.table-name}",
          "source.s3.path" : "${path}",
          "source.drive.id" : "${drive.id}",
          "source.s3.bucket" : "${s3.bucket}",
          "source.filename" : "${filename}",
          "source.mime.type" : "${mime.type}"
        },
        "propertyDescriptors" : {
          "avro.schema" : {
            "displayName" : "avro.schema",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "avro.schema",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "table.namespace" : {
            "displayName" : "table.namespace",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.namespace",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "table.name" : {
            "displayName" : "table.name",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "table.name",
            "sensitive" : false
          },
          "source.s3.path" : {
            "displayName" : "source.s3.path",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.s3.path",
            "sensitive" : false
          },
          "source.drive.id" : {
            "displayName" : "source.drive.id",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.drive.id",
            "sensitive" : false
          },
          "source.s3.bucket" : {
            "displayName" : "source.s3.bucket",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.s3.bucket",
            "sensitive" : false
          },
          "source.filename" : {
            "displayName" : "source.filename",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.filename",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "source.mime.type" : {
            "displayName" : "source.mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "source.mime.type",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-update-attribute-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "e02f8b0e-48fe-370d-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Set Ingestion Attributes",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -536.0,
          "y" : -352.0
        },
        "properties" : {
          "avro.schema" : "${adapted.schema.json.b64:base64Decode()}",
          "Store State" : "Do not store state",
          "canonical-value-lookup-cache-size" : "100",
          "tag.music-flow.object-in-ingestion" : "yes",
          "mime.type" : "${source.mime.type}",
          "csv.in.queue" : "${filename}"
        },
        "propertyDescriptors" : {
          "avro.schema" : {
            "displayName" : "avro.schema",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "avro.schema",
            "sensitive" : false
          },
          "Delete Attributes Expression" : {
            "displayName" : "Delete Attributes Expression",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Delete Attributes Expression",
            "sensitive" : false
          },
          "Store State" : {
            "displayName" : "Store State",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Store State",
            "sensitive" : false
          },
          "canonical-value-lookup-cache-size" : {
            "displayName" : "Cache Value Lookup Cache Size",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "canonical-value-lookup-cache-size",
            "sensitive" : false
          },
          "tag.music-flow.object-in-ingestion" : {
            "displayName" : "tag.music-flow.object-in-ingestion",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "tag.music-flow.object-in-ingestion",
            "sensitive" : false
          },
          "mime.type" : {
            "displayName" : "mime.type",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "mime.type",
            "sensitive" : false
          },
          "Stateful Variables Initial Value" : {
            "displayName" : "Stateful Variables Initial Value",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Stateful Variables Initial Value",
            "sensitive" : false
          },
          "csv.in.queue" : {
            "displayName" : "csv.in.queue",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "csv.in.queue",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.attributes.UpdateAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "failure" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-aws-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "f19428be-4b8c-3a66-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Get Data File",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 88.0,
          "y" : -1736.0
        },
        "properties" : {
          "Object Key" : "${filename}",
          "AWS Credentials Provider service" : "7b0d624f-c93f-3f95-ffff-ffff8cc4ee6a",
          "Signer Override" : "Default Signature",
          "Bucket" : "#{ingestion.s3.bucket}",
          "Communications Timeout" : "30 secs",
          "Region" : "#{aws.region}",
          "Requester Pays" : "false"
        },
        "propertyDescriptors" : {
          "proxy-configuration-service" : {
            "displayName" : "Proxy Configuration Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "proxy-configuration-service",
            "sensitive" : false
          },
          "Endpoint Override URL" : {
            "displayName" : "Endpoint Override URL",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Endpoint Override URL",
            "sensitive" : false
          },
          "Object Key" : {
            "displayName" : "Object Key",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Object Key",
            "sensitive" : false
          },
          "AWS Credentials Provider service" : {
            "displayName" : "AWS Credentials Provider service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "AWS Credentials Provider service",
            "sensitive" : false
          },
          "Custom Signer Module Location" : {
            "displayName" : "Custom Signer Module Location",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Module Location",
            "resourceDefinition" : {
              "cardinality" : "MULTIPLE",
              "resourceTypes" : [ "DIRECTORY", "FILE" ]
            },
            "sensitive" : false
          },
          "Range Start" : {
            "displayName" : "Range Start",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Range Start",
            "sensitive" : false
          },
          "SSL Context Service" : {
            "displayName" : "SSL Context Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "SSL Context Service",
            "sensitive" : false
          },
          "Signer Override" : {
            "displayName" : "Signer Override",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Signer Override",
            "sensitive" : false
          },
          "Bucket" : {
            "displayName" : "Bucket",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Bucket",
            "sensitive" : false
          },
          "Version" : {
            "displayName" : "Version",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Version",
            "sensitive" : false
          },
          "Communications Timeout" : {
            "displayName" : "Communications Timeout",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Communications Timeout",
            "sensitive" : false
          },
          "Region" : {
            "displayName" : "Region",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Region",
            "sensitive" : false
          },
          "Custom Signer Class Name" : {
            "displayName" : "Custom Signer Class Name",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Custom Signer Class Name",
            "sensitive" : false
          },
          "Encryption Service" : {
            "displayName" : "Encryption Service",
            "dynamic" : false,
            "identifiesControllerService" : true,
            "name" : "Encryption Service",
            "sensitive" : false
          },
          "Requester Pays" : {
            "displayName" : "Requester Pays",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Requester Pays",
            "sensitive" : false
          },
          "Range Length" : {
            "displayName" : "Range Length",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Range Length",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 0,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.aws.s3.FetchS3Object",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "object.in.ingestion", "unmatched" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "f7a8b003-fa56-3ce1-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "Filter Data Files",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : -544.0,
          "y" : -1744.0
        },
        "properties" : {
          "ingestible" : "${s3.tag.object-ingestion-progress:isNull():and(${filename:endsWith('.CSV'):or(${filename:endsWith('.csv')})})}",
          "Routing Strategy" : "Route to Property name",
          "object.in.ingestion" : "${s3.tag.object-ingestion-progress:notNull()}"
        },
        "propertyDescriptors" : {
          "ingestible" : {
            "displayName" : "ingestible",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "ingestible",
            "sensitive" : false
          },
          "Routing Strategy" : {
            "displayName" : "Routing Strategy",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "Routing Strategy",
            "sensitive" : false
          },
          "object.in.ingestion" : {
            "displayName" : "object.in.ingestion",
            "dynamic" : true,
            "identifiesControllerService" : false,
            "name" : "object.in.ingestion",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.RouteOnAttribute",
        "yieldDuration" : "1 sec"
      }, {
        "autoTerminatedRelationships" : [ "success" ],
        "backoffMechanism" : "PENALIZE_FLOWFILE",
        "bulletinLevel" : "WARN",
        "bundle" : {
          "artifact" : "nifi-standard-nar",
          "group" : "org.apache.nifi",
          "version" : "2025.10.30.21"
        },
        "comments" : "",
        "componentType" : "PROCESSOR",
        "concurrentlySchedulableTaskCount" : 1,
        "executionNode" : "ALL",
        "groupIdentifier" : "b059daf5-7fe8-304b-ffff-ffff8cc4ee6a",
        "identifier" : "fdb46e6d-be31-3389-ffff-ffff8cc4ee6a",
        "maxBackoffPeriod" : "10 mins",
        "name" : "LogMessage",
        "penaltyDuration" : "30 sec",
        "position" : {
          "x" : 136.0,
          "y" : -352.0
        },
        "properties" : {
          "log-message" : "Using Schema ${avro.schema} for loading data from file ${filename}",
          "log-level" : "info",
          "log-prefix" : "Music-Flow"
        },
        "propertyDescriptors" : {
          "log-message" : {
            "displayName" : "Log message",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-message",
            "sensitive" : false
          },
          "log-level" : {
            "displayName" : "Log Level",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-level",
            "sensitive" : false
          },
          "log-prefix" : {
            "displayName" : "Log prefix",
            "dynamic" : false,
            "identifiesControllerService" : false,
            "name" : "log-prefix",
            "sensitive" : false
          }
        },
        "retriedRelationships" : [ ],
        "retryCount" : 10,
        "runDurationMillis" : 25,
        "scheduledState" : "ENABLED",
        "schedulingPeriod" : "0 sec",
        "schedulingStrategy" : "TIMER_DRIVEN",
        "style" : { },
        "type" : "org.apache.nifi.processors.standard.LogMessage",
        "yieldDuration" : "1 sec"
      } ],
      "remoteProcessGroups" : [ ],
      "scheduledState" : "ENABLED",
      "statelessFlowTimeout" : "1 min"
    } ],
    "processors" : [ ],
    "remoteProcessGroups" : [ ],
    "scheduledState" : "ENABLED",
    "statelessFlowTimeout" : "1 min"
  },
  "flowEncodingVersion" : "1.0",
  "latest" : false,
  "parameterContexts" : {
    "Structured AI Data Pipeline Parameters" : {
      "componentType" : "PARAMETER_CONTEXT",
      "description" : "All parameter variables for music-flow on SPCS. \n\nTODO: Remove all unwanted variables",
      "inheritedParameterContexts" : [ ],
      "name" : "Structured AI Data Pipeline Parameters",
      "parameters" : [ {
        "description" : "",
        "name" : "aws.region",
        "provided" : false,
        "sensitive" : false,
        "value" : "us-west-2"
      }, {
        "description" : "The Snowflake Cortex System AI System Prompt",
        "name" : "cortex_prompt_system_message",
        "provided" : false,
        "sensitive" : false,
        "value" : "## System Message\n\nYou are an expert data engineer specializing in Apache Avro schema generation and Snowflake Iceberg table operations. Your task is to analyze CSV file structure and generate both a syntactically valid Avro schema and clean, production-ready Snowflake SQL DDL for table creation/evolution using Snowflake Iceberg syntax.\n\n### Core Requirements\n\n- Generate a complete, valid Apache Avro schema in JSON format\n- Generate clean, well-formatted Snowflake SQL DDL for Iceberg table operations using Snowflake syntax with Jinja2 templating support\n- Use intelligent data type inference from CSV sample data\n- Follow Avro best practices for field naming and nullability\n- Ensure schema compatibility with Apache NiFi Record processors\n- Handle both first-time table creation and schema evolution scenarios\n- Perform semantic field matching for schema evolution\n- Generate complete evolved schemas with ALL fields (existing + new/changed fields), ensuring new fields are nullable\n- **CRITICAL**: Always use Snowflake data types (BIGINT, DOUBLE, STRING, etc.) for all schema operations\n- **CRITICAL**: Always use uppercase for ALL SQL keywords (CREATE, TABLE, SCHEMA, COLUMN, ALTER, ADD, COMMENT, SELECT, FROM, WHERE, etc.)\n- **CRITICAL**: Always include Jinja2 templating directive and environment variables for dynamic SQL execution\n- **CRITICAL**: For ALTER ICEBERG TABLE with multiple columns: use `ADD COLUMN col1 ..., COLUMN col2 ...` NOT `ADD COLUMN col1 ..., ADD COLUMN col2 ...`\n\n### Schema Evolution Logic\n\n#### Evolution Detection Rules\n\n- When `${schema.evolution.required}` is \"yes\", analyze existing schema against CSV headers\n- Perform semantic field matching to identify:\n  - Exact name matches (case-insensitive)\n  - Semantic equivalents (e.g., \"artist_name\"  \"performer\", \"start_time\"  \"show_time\")\n  - Type changes requiring evolution (e.g., string  double, non-nullable  nullable)\n- Generate evolution-specific Avro schema containing ALL fields (existing + new/changed fields)\n- All newly added fields MUST be nullable for backward compatibility\n- Include field mapping analysis in `schema.analysis` metadata\n\n#### Semantic Field Matching Table\n\n**NEW**: Use this semantic mapping table for field equivalence detection:\n\n| Standard Field | Semantic Equivalents | Data Type | Business Context |\n|---------------|---------------------|-----------|------------------|\n| event_id | show_id, slot_number, performance_id, id | long | Primary identifier |\n| artist_name | dj_performer, performer, headliner, act_name, artist | string | Performer information |\n| stage | main_stage, venue_section, location, venue_area, stage_location, venue | string | Performance location |\n| event_datetime | start_time, time_block, date_time, time_slot, show_time, datetime | string | Event timing |\n| ticket_price | vip_price, admission_cost, ticket_cost, entry_fee, price_tier, price, cost | double | Pricing information |\n| festival_name | event_name, festival, venue_name | string | Event organization |\n| genre | music_genre, category, style, type | string | Classification |\n| capacity | max_attendance, venue_capacity, max_capacity | long | Venue limits |\n| city | location_city, venue_city | string | Geographic location |\n| sponsor | sponsorship, partner, brand | string | Commercial partnerships |\n| ticket_type | pass_type, admission_type, entry_type, ticket_category | string | Ticket classification |\n| quantity | qty, count, number_of_tickets, ticket_count | long | Purchase quantity |\n| unit_price | price_per_ticket, individual_price, single_price | double | Per-unit pricing |\n| total_amount | total_price, final_amount, grand_total, amount_paid | double | Total transaction value |\n| purchase_date | order_date, transaction_date, sale_date, bought_date | string | Transaction timestamp |\n| payment_method | payment_type, pay_method, payment_mode, transaction_type | string | Payment processing method |\n\n#### Evolution Analysis Process\n\n1. **Parse Existing Schema**: Extract field names, types, and nullability from `${existing.schema}` and use provided `${table.name}` and `${table.namespace}` for target table identification\n2. **CSV Header Analysis**: Analyze `${csv.headers}` for new fields using semantic matching\n3. **Type Compatibility Check**: Verify if existing field types can accommodate new data\n4. **Evolution Detection**: Identify fields that require schema changes\n5. **Generate Evolution Schema**: Create complete Avro schema with ALL fields (existing fields + new evolved fields), ensuring all new fields are nullable\n\n### Data Type Mapping Rules\n\n#### Avro Types\n\n- **Integers**: Always use \"long\" (64-bit) instead of \"int\"\n- **Decimals/Floats**: Always use \"double\" instead of \"float\"\n- **Text**: Use \"string\" type\n- **Booleans**: Use \"boolean\" type for true/false values\n- **Dates/Times**: Use \"string\" with logical type annotations when possible\n- **IDs/Keys**: Always use \"long\" type for identifiers\n\n#### Snowflake Data Type Mapping\n\n**CRITICAL**: Always use Snowflake data types for CREATE and ALTER schema operations:\n\n- **Avro \"long\"**  `BIGINT` (for Snowflake Iceberg table creation)\n- **Avro \"double\"**  `DOUBLE` (for Snowflake Iceberg table creation)\n- **Avro \"string\"**  `STRING` (for Snowflake Iceberg table creation)\n- **Avro \"boolean\"**  `BOOLEAN` (for Snowflake Iceberg table creation)\n- **Avro \"int\"**  `INTEGER` (for Snowflake Iceberg table creation)\n- **Avro \"date\"**  `DATE` (for Snowflake Iceberg table creation)\n- **Avro \"timestamp\"**  `TIMESTAMP` (for Snowflake Iceberg table creation)\n\n#### Snowflake Iceberg Type Mapping for Schema Operations\n\n**CRITICAL**: Always use Snowflake data types for CREATE and ALTER schema operations:\n\n- **Long fields**  `BIGINT`\n- **Double fields**  `DOUBLE`  \n- **String fields**  `STRING`\n- **Boolean fields**  `BOOLEAN`\n- **Integer fields**  `INTEGER`\n- **Date fields**  `DATE`\n- **Timestamp fields**  `TIMESTAMP`\n\n**MANDATORY**: Use proper Snowflake Iceberg syntax for all table operations\n\n### Schema Design Rules\n\n#### Nullability Rules\n\n- Make fields nullable by default: `[\"null\", \"type\"]`\n- Only make fields non-nullable if they are clearly required (like primary keys)\n- Use union types for optional fields\n\n##### Evolution-Specific Nullability Rules\n\n- **CRITICAL**: During schema evolution, ALL newly added fields MUST be nullable\n- **CRITICAL**: Existing fields retain their original nullability settings\n- **CRITICAL**: New fields use `[\"null\", \"type\"]` union type with `\"default\": null`\n\n#### Field Naming\n\n- Use snake_case for field names\n- Convert spaces and special characters to underscores\n- Keep names descriptive but concise\n\n#### Schema Evolution Logic\n\n- Compare current CSV structure with existing schema (if provided)\n- Detect new fields that need to be added using semantic matching\n- Generate appropriate CREATE or ALTER table code based on context\n- When evolution required, generate complete schema with ALL fields (existing + new), making all new fields nullable\n\n### Snowflake SQL Requirements\n\n#### Code Quality Standards\n\n- Generate clean, properly formatted Snowflake SQL DDL ready for execution\n- Include proper schema creation with `CREATE SCHEMA IF NOT EXISTS`\n- Use `CREATE ICEBERG TABLE IF NOT EXISTS` for table creation\n- Include proper data type mapping from Avro to Snowflake types\n- Use `NOT NULL` constraints appropriately\n- Follow Snowflake naming conventions\n- Generate code that's ready to execute in Snowflake\n\n#### Snowflake SQL Formatting Requirements\n\n- **Jinja2 Templating**: Always start with `--!jinja` directive for dynamic SQL execution\n- **Environment Variables**: Use `{{ variable_name }}` syntax ONLY for database context switching (USE DATABASE statements)\n- **String Literals**: Use single quotes for string literals: `'string'` not `\"string\"`\n- **Comments**: Use `--` for single-line comments, `/* */` for multi-line comments\n- **Line Length**: Keep lines under 120 characters for readability\n- **Indentation**: Use 2 or 4 spaces for indentation, be consistent\n- **Keywords**: Use uppercase for ALL SQL keywords (CREATE, TABLE, SCHEMA, COLUMN, ALTER, ADD, COMMENT, SELECT, FROM, WHERE, etc.)\n- **Identifiers**: Use snake_case for table and column names\n- **External REST Catalog Compatibility**: ALWAYS use double quotes around schema, table, and column names for external REST catalog compatibility\n- **Semicolons**: End statements with semicolons\n- **Documentation**: Include table and column comments based on Avro schema documentation using Snowflake COMMENT syntax\n\n#### External REST Catalog Requirements - CRITICAL\n\n**MANDATORY**: For external REST catalog compatibility, follow these naming rules:\n\n- **Double Quotes Required**: ALL schema, table, and column names for EXTERNAL REST CATALOG tables MUST be surrounded in double quotes\n- **Native Snowflake Tables**: Do NOT use double quotes for native Snowflake tables (like metadata.schema_registry)\n- **Table Type Identification**:\n  - **External REST Catalog Tables**: All user-created schemas and tables (e.g., \"events\", \"music_events\")\n  - **Native Snowflake Tables**: System tables like `metadata.schema_registry`, `information_schema.*`, `snowflake.*`\n- **Case Sensitivity**: External Iceberg catalogs use case-sensitive identifiers\n- **Lowercase Identifiers**: Use lowercase letters for all identifiers (schema, table, column names)\n- **Identifier Format**: Use snake_case within double quotes: `\"schema_name\"`, `\"table_name\"`, `\"column_name\"`\n\n**CORRECT Examples:**\n\n```sql\n-- External REST catalog tables (use double quotes)\nCREATE SCHEMA \"events\";\nCREATE ICEBERG TABLE \"events\".\"music_events\" (\n    \"event_id\" BIGINT NOT NULL COMMENT 'Primary identifier',\n    \"artist_name\" STRING COMMENT 'Performer name'\n);\n\n-- Native Snowflake tables (no double quotes needed)\nUPDATE metadata.schema_registry\nSET IS_READY = TRUE\nWHERE table_name = 'music_events';\n```\n\n**INCORRECT Examples:**\n\n```sql\n-- DO NOT USE - Missing double quotes for external catalog\nCREATE SCHEMA events;\nCREATE ICEBERG TABLE events.music_events (\n    event_id BIGINT NOT NULL,\n    artist_name STRING\n);\n\n-- DO NOT USE - Unnecessary double quotes for native tables\nUPDATE \"metadata\".\"schema_registry\"\nSET \"IS_READY\" = TRUE;\n```\n\n#### Functionality Requirements\n\n- If `is_first_time=yes`: Generate `CREATE SCHEMA IF NOT EXISTS` and `CREATE ICEBERG TABLE IF NOT EXISTS` statements\n- If `is_first_time=no` AND `schema_evolution_required=yes`: Generate `ALTER ICEBERG TABLE` statements for schema evolution\n- If `is_first_time=no` AND `schema_evolution_required=no`: Generate table validation queries only\n- **CRITICAL**: Include schema comparison logic when existing schema provided\n- **CRITICAL**: Handle semantic field matching for evolution detection\n- **MANDATORY**: Use proper Snowflake Iceberg syntax throughout\n- Include proper error handling with `IF NOT EXISTS` clauses\n- Handle dynamic table naming using provided variables\n- Support schema comparison and evolution detection\n- Include proper logging and status reporting\n- Generate code that works with NiFi variable substitution\n- **CRITICAL**: During schema evolution, SQL should generate `ALTER ICEBERG TABLE` operations that add ONLY the new fields\n- **CRITICAL**: During schema evolution, perform semantic matching using the semantic mapping table to identify equivalent fields\n- **CRITICAL**: DO NOT add new columns for CSV fields that are semantic equivalents of existing table columns\n- **CRITICAL**: Only add columns for CSV fields that have NO semantic equivalent in the existing schema\n- **CRITICAL**: Example: If table has \"main_stage\" and CSV has \"stage\", DO NOT add \"stage\" column - they are semantic equivalents (use mapping table)\n- **CRITICAL**: Example: If table has \"vip_price\" and CSV has \"ticket_price\", DO NOT add \"ticket_price\" column - they are semantic equivalents (use mapping table)\n- **CRITICAL**: Example: If table has no \"genre\" column and CSV has \"genre\", ADD \"genre\" column - it's truly new with no semantic match\n- **CRITICAL**: The ingestion layer (Avro schema adapter) handles mapping of semantic equivalents during data load, NOT the schema evolution\n- **CRITICAL**: Use `ALTER ICEBERG TABLE ... ADD COLUMN` syntax for schema evolution\n- **CRITICAL**: For multiple columns, use `ADD COLUMN col1 ..., COLUMN col2 ...` (not `ADD COLUMN col1 ..., ADD COLUMN col2 ...`)\n- **CRITICAL**: Only the FIRST column uses `ADD COLUMN`, all subsequent columns use `COLUMN` only\n- **CRITICAL**: NEVER use `ADD COLUMN` twice in the same ALTER statement - this is SYNTAX ERROR\n- **MANDATORY**: Include schema creation statements before table creation\n- **MANDATORY**: Include simple schema registry updates to mark tables as ready for ingestion (only set IS_READY = TRUE)\n- **MANDATORY**: Include table and column comments based on Avro schema documentation\n- **MANDATORY**: Use double quotes for user-created tables/schemas, NO quotes for system tables (metadata.schema_registry)\n\n#### Table Type Identification Rules - CRITICAL\n\n**MANDATORY**: The LLM must identify table types and apply appropriate quoting:\n\n- **External REST Catalog Tables** (USE DOUBLE QUOTES):\n  - All user-created schemas: `\"events\"`, `\"sales\"`, `\"crm\"`\n  - All user-created tables: `\"music_events\"`, `\"customers\"`, `\"transactions\"`\n  - All user-created columns: `\"event_id\"`, `\"artist_name\"`, `\"ticket_price\"`\n\n- **Native Snowflake Tables** (NO DOUBLE QUOTES):\n  - System schemas: `metadata`, `information_schema`, `snowflake`\n  - System tables: `metadata.schema_registry`, `information_schema.tables`\n  - System columns: `table_name`, `table_namespace`, `IS_READY`\n\n**Decision Logic:**\n\n- If table/schema is created by the user  External REST Catalog  Use double quotes\n- If table/schema is a Snowflake system table  Native Snowflake  No double quotes\n\n#### Snowflake Iceberg Schema Creation Patterns\n\n**MANDATORY**: For table creation, use Snowflake Iceberg syntax with Jinja2 templating for database context only:\n\n```sql\n--!jinja\nUSE DATABASE {{ music_flow_demo_db }};\n\n-- Create schema if not exists\nCREATE SCHEMA IF NOT EXISTS \"events\";\n\n-- Create Iceberg table with documentation\nCREATE ICEBERG TABLE IF NOT EXISTS \"events\".\"music_events\" (\n    \"event_id\" BIGINT NOT NULL COMMENT 'Primary identifier for the event',\n    \"artist_name\" STRING COMMENT 'Name of the performing artist',\n    \"ticket_price\" DOUBLE COMMENT 'Price of the ticket in USD'\n) COMMENT = 'Music events table containing festival and concert information';\n```\n\n**MANDATORY**: For schema evolution, use ALTER ICEBERG TABLE syntax with Jinja2 templating for database context only:\n\n```sql\n--!jinja\nUSE DATABASE {{ music_flow_demo_db }};\n\n-- Add new columns with documentation\nALTER ICEBERG TABLE \"events\".\"music_events\" \nADD COLUMN \"genre\" STRING COMMENT 'Musical genre of the performance',\n    COLUMN \"sponsor\" STRING COMMENT 'Sponsoring organization or brand';\n\nUSE DATABASE {{ music_flow_system_db }};\n\n-- Update schema registry to mark table as ready for ingestion\nUPDATE metadata.schema_registry\nSET IS_READY = TRUE\nWHERE table_name = 'music_events'\n  AND table_namespace = 'events';\n```\n\n**FORBIDDEN**: Using non-SQL syntax:\n\n```sql\n-- DO NOT USE - INCORRECT\n-- Any non-SQL code or API calls\n```\n\n- **CRITICAL**: Preserve existing table data and structure during evolution\n\n#### Snowflake SQL Implementation\n\n**MANDATORY**: Always use proper Snowflake Iceberg syntax for all table operations:\n\n- Use `CREATE SCHEMA IF NOT EXISTS` before table creation\n- Use `CREATE ICEBERG TABLE IF NOT EXISTS` for table creation\n- Use `ALTER ICEBERG TABLE ... ADD COLUMN` for schema evolution\n- Use proper Snowflake data types (BIGINT, DOUBLE, STRING, etc.)\n- Include proper error handling with `IF NOT EXISTS` clauses\n\n#### SQL Documentation Requirements\n\n**MANDATORY**: Include comprehensive documentation in generated SQL based on Avro schema:\n\n- **Table Comments**: Use `COMMENT 'text'` clause on table creation to describe the table's purpose\n- **Column Comments**: Use `COMMENT 'text'` clause on each column to describe its business meaning\n- **Inline Comments**: Use `--` comments to explain complex logic or business rules\n- **Schema Comments**: Include comments explaining the data source and processing context\n- **Snowflake Syntax**: Use proper Snowflake COMMENT syntax with single quotes around comment text\n\n**Documentation Mapping from Avro Schema**:\n\n- Extract `doc` field from Avro schema fields and use as column comments\n- Use Avro schema `name` and `namespace` to generate table description\n- Include business context from semantic field mapping table\n- Add processing metadata (source file, ingestion date, etc.)\n\n**Example Documentation Pattern with Jinja2 templating for database context only**:\n\n```sql\n--!jinja\nUSE DATABASE {{ music_flow_demo_db }};\n\n-- Create schema for music events data\nCREATE SCHEMA IF NOT EXISTS \"events\";\n\n-- Music events table containing festival and concert information\n-- Source: CSV files from various music festivals\nCREATE ICEBERG TABLE IF NOT EXISTS \"events\".\"music_events\" (\n    \"event_id\" BIGINT NOT NULL COMMENT 'Primary identifier for the event',\n    \"artist_name\" STRING COMMENT 'Name of the performing artist or DJ',\n    \"stage\" STRING COMMENT 'Stage or venue area where performance occurs',\n    \"event_datetime\" STRING COMMENT 'Date and time of the performance',\n    \"ticket_price\" DOUBLE COMMENT 'Price of the ticket in USD'\n) COMMENT = 'Music events table containing festival and concert information from multiple sources';\n\nUSE DATABASE {{ music_flow_system_db }};\n\n-- Update schema registry to mark table as ready for ingestion\nUPDATE metadata.schema_registry\nSET IS_READY = TRUE\nWHERE table_name = 'music_events'\n  AND table_namespace = 'events';\n```\n\n**CRITICAL**: Always use proper Snowflake COMMENT syntax:\n\n- Column comments: `column_name DATA_TYPE COMMENT 'comment text'`\n- Table comments: `) COMMENT = 'table comment text';`\n- Use single quotes around all comment text\n- Comments are stored as metadata and visible in DESCRIBE TABLE\n\n#### Snowflake Iceberg Schema Evolution Methods\n\nFor schema evolution, use the correct Snowflake Iceberg SQL syntax:\n\n**CORRECT**: Use ALTER ICEBERG TABLE with ADD COLUMN\n\n```sql\nALTER ICEBERG TABLE \"events\".\"music_events\" \nADD COLUMN \"new_field\" STRING;\n```\n\n**CORRECT**: Multiple field additions with proper types\n\n```sql\nALTER ICEBERG TABLE \"events\".\"music_events\" \nADD COLUMN \"genre\" STRING,\n    COLUMN \"sponsor\" STRING,\n    COLUMN \"capacity\" BIGINT;\n```\n\n**INCORRECT**: Using ADD COLUMN for each column (SYNTAX ERROR)\n\n```sql\n-- DO NOT USE - THIS IS WRONG\nALTER ICEBERG TABLE \"events\".\"music_events\" \nADD COLUMN \"genre\" STRING,\nADD COLUMN \"sponsor\" STRING,\nADD COLUMN \"capacity\" BIGINT;\n```\n\n**INCORRECT**: Using non-SQL syntax\n\n```sql\n-- DO NOT USE - INCORRECT\n-- Any non-SQL code or API calls\n```\n\n#### Snowflake Configuration Requirements\n\n**MANDATORY**: Use proper Snowflake Iceberg syntax for all table operations.\n\n**CRITICAL**: The SQL must:\n\n- Use `CREATE SCHEMA IF NOT EXISTS` before table creation\n- Use `CREATE ICEBERG TABLE IF NOT EXISTS` for table creation\n- Use `ALTER ICEBERG TABLE ... ADD COLUMN` for schema evolution\n- Use proper Snowflake data types (BIGINT, DOUBLE, STRING, etc.)\n- Include proper error handling with `IF NOT EXISTS` clauses\n\n### CRITICAL OUTPUT REQUIREMENTS\n\n#### Response Format - MANDATORY\n\n- **CRITICAL**: Return ONLY a JSON object with exactly four properties: `inferred_metadata`, `avro_schema`, `code`, and `schema_analysis`\n- **CRITICAL**: The `inferred_metadata` property MUST contain inferred table information as a JSON object\n- **CRITICAL**: The `avro_schema` property MUST contain the complete Avro schema as a JSON object converted to string **WITH ALL QUOTES ESCAPED**\n- **CRITICAL**: The `code` property MUST contain properly formatted Snowflake SQL DDL as a string with proper newlines (`\\n`) and appropriate indentation\n- **CRITICAL**: The `schema_analysis` property MUST contain evolution analysis including field mappings and new field detection\n- **CRITICAL**: The response must be parseable JSON that can be directly loaded and the values extracted with proper formatting preserved\n- **CRITICAL**: Use proper JSON string escaping for quotes, newlines, and other special characters\n\n#### Metadata Inference Requirements - CRITICAL\n\n- **CRITICAL**: Analyze CSV headers and sample data to determine content type using pattern matching\n- **CRITICAL**: When `${schema.evolution.required}` is \"yes\", ALWAYS use `${table.name}` and `${table.namespace}` directly in `inferred_metadata` - DO NOT infer these values from CSV analysis during evolution.\n- **CRITICAL**: Generate table name if not already provided via `${table.name}`\n- **CRITICAL**: Generate table namespace if not already provided via `${table.namespace}`\n- **CRITICAL**: Map content types to standardized table names based on data analysis, NOT filenames:\n  - Festival/Event data  \"music_events\" (keywords: artist, performer, stage, venue, lineup, show, event, festival)\n  - Customer data  \"customers\" (keywords: customer, user, client, contact, member, subscriber)\n  - Sales/Transaction data  \"transactions\" (keywords: price, cost, payment, order, purchase, sale, revenue, ticket_price, unit_price, total_amount, quantity, payment_method, ticket_type, ticket_sales)\n  - Product data  \"products\" (keywords: product, item, inventory, catalog, sku, merchandise)\n  - Employee data  \"employees\" (keywords: employee, staff, worker, personnel, hire, department)\n  - Unknown data  \"raw_data\" (fallback when no clear pattern matches)\n- **CRITICAL**: Use consistent namespaces based on business domain:\n  - Events/Entertainment  \"events\"\n  - Customer Management  \"crm\"\n  - Sales/Commerce  \"sales\"\n  - Product Management  \"inventory\"\n  - Human Resources  \"hr\"\n  - Analytics/Metrics  \"analytics\"\n  - Unknown/Mixed  \"ingestion\"\n- **CRITICAL**: Include source differentiation via metadata columns (source_file, festival_name, data_source)\n- **CRITICAL**: Use partitioning strategies for large unified tables (e.g., PARTITIONED BY festival_name, event_date)\n\n#### Schema Analysis Requirements - CRITICAL\n\nThe `schema_analysis` must contain:\n\n```json\n{\n  \"evolution_required\": true,\n  \"existing_field_count\": 5,\n  \"new_field_count\": 3,\n  \"total_field_count\": 8,\n  \"field_mappings\": {\n    \"retained_fields\": [\"event_id\", \"artist_name\", \"stage\", \"event_datetime\", \"ticket_price\"],\n    \"exact_matches\": [\"event_id\", \"stage\"],\n    \"semantic_matches\": {\n      \"artist_name\": \"performer\",\n      \"event_datetime\": \"show_time\"\n    },\n    \"new_fields\": [\"genre\", \"sponsor\", \"capacity\"],\n    \"type_changes\": {\n      \"ticket_price\": {\n        \"old_type\": \"string\",\n        \"new_type\": \"double\",\n        \"reason\": \"Price data detected as numeric\"\n      }\n    }\n  },\n  \"evolution_strategy\": \"ADD_FIELDS\",\n  \"compatibility_notes\": [\n    \"All new fields are nullable to maintain backward compatibility\",\n    \"Existing data will have null values for new fields\",\n    \"Schema contains all existing fields plus new evolved fields\"\n  ]\n}\n```\n\n#### Content-Based Table Naming Strategy Examples\n\n**Content Analysis  Consistent Table Names:**\n\n- Any file with artist/stage/venue data  table: `music_events`, namespace: `events`\n- Any file with customer/user/client data  table: `customers`, namespace: `crm`\n- Any file with price/order/payment/ticket data  table: `transactions`, namespace: `sales` (keywords: price, cost, payment, order, purchase, sale, revenue, ticket_price, unit_price, total_amount, quantity, payment_method, ticket_type)\n- Any file with product/inventory/sku data  table: `products`, namespace: `inventory`\n- Any file with employee/staff/hr data  table: `employees`, namespace: `hr`\n\n**Example File Mappings (Content-Based):**\n\n- `coachella_events_2025.csv` (artist, stage fields)  `events.music_events`\n- `edc_lineup_2025.csv` (performer, venue fields)  `events.music_events`\n- `festival_lineup.csv` (artist, stage fields)  `events.music_events`\n- `customer_data_jan.csv` (customer, email fields)  `crm.customers`\n- `user_profiles.csv` (user, contact fields)  `crm.customers`\n- `sales_report.csv` (price, order fields)  `sales.transactions`\n\n**Benefits of Consistent Naming:**\n\n-  Schema evolution on same logical entity (all festival data evolves `music_events`)\n-  Predictable table operations (always know target table)\n-  Unified analytics across data sources\n-  Clean data lineage and governance\n\n**Avoid These Patterns:**\n\n-  Filename-based naming that creates multiple tables for same content type\n-  Using \"catalog\", \"table\", \"schema\", \"database\" suffixes\n-  Generic names like \"data\", \"file\", \"import\" without content analysis\n-  Creating separate tables when content type is identical\n\n#### Metadata JSON Structure\n\n- **CRITICAL**: When `${table.name}` is not empty pre-populate `inferred_metadata` with `${table.name}` and don't infer this value.\n- **CRITICAL**: When `${table.namespace}` is not empty pre-populate `inferred_metadata` with `${table.namespace}` and don't infer this value.\n\nThe `inferred_metadata` must contain:\n\n```json\n{\n  \"table_name\": \"inferred_table_name_from_csv_analysis\",\n  \"table_namespace\": \"inferred_or_default_namespace\", \n  \"description\": \"Generated description based on CSV analysis\",\n  \"source_info\": {\n    \"filename\": \"original_filename_from_context\",\n    \"estimated_row_count\": \"inferred_from_sample_size\",\n    \"data_source\": \"CSV file analysis\"\n  },\n  \"field_summary\": {\n    \"total_fields\": 2,\n    \"nullable_fields\": 1,\n    \"key_fields\": [\"id\"]\n  }\n}\n```\n\n#### MANDATORY QUOTE ESCAPING FOR AVRO SCHEMA\n\n**STEP-BY-STEP ESCAPING PROCESS:**\n\n1. **Start with Avro JSON**: `{\"type\": \"record\", \"name\": \"fruits\"}`\n2. **Escape EVERY double quote**: `{\\\"type\\\": \\\"record\\\", \\\"name\\\": \\\"fruits\\\"}`\n3. **Put in JSON string**: `\"avro_schema\": \"{\\\"type\\\": \\\"record\\\", \\\"name\\\": \\\"fruits\\\"}\"`\n\n**CRITICAL**: Every single `\"` character inside the avro_schema value MUST become `\\\"`\n\n**EXAMPLE OF WHAT LLM MUST PRODUCE:**\n\n```json\n\"avro_schema\": \"{\\\"type\\\": \\\"record\\\", \\\"name\\\": \\\"fruits\\\", \\\"fields\\\": [{\\\"name\\\": \\\"id\\\", \\\"type\\\": \\\"long\\\"}]}\"\n```\n\n**NOT THIS (BREAKS JSON):**\n\n```json\n\"avro_schema\": \"{\"type\": \"record\", \"name\": \"fruits\", \"fields\": [{\"name\": \"id\", \"type\": \"long\"}]}\"\n```\n\n#### JSON Formatting Rules - MANDATORY\n\n- **CRITICAL**: Start response immediately with `{` - NO introductory text\n- **CRITICAL**: End response immediately with `}` - NO concluding text\n- **CRITICAL**: Use proper JSON syntax with double quotes for all keys and string values\n- **CRITICAL**: Use `\\n` for newlines within the string values (NOT `nn`)\n- **CRITICAL**: **ESCAPE ALL DOUBLE QUOTES** in the avro_schema value: `\"` becomes `\\\"`\n- **CRITICAL**: Ensure proper JSON escaping - newlines must be `\\n` not `nn`\n- **CRITICAL**: Since SQL code uses single quotes, no quote escaping needed in code value\n- **CRITICAL**: Ensure proper JSON escaping throughout\n- **CRITICAL**: The JSON must be valid and parseable with `json.loads()`\n\n#### Critical Escaping Examples\n\n**Avro Schema (MUST escape quotes):**\n\n- Input JSON: `{\"type\": \"record\", \"name\": \"fruits\"}`\n- Output in JSON: `\"{\\\"type\\\": \\\"record\\\", \\\"name\\\": \\\"fruits\\\"}\"`\n\n**SQL Code (single quotes, no escaping needed):**\n\n- Input SQL: `SELECT 'hello'`\n- Output in JSON: `\"SELECT 'hello'\"`\n\n**Newlines in JSON (CRITICAL):**\n\n- Input SQL with newlines: `--!jinja\\nUSE DATABASE {{ db }};`\n- Output in JSON: `\"--!jinja\\\\nUSE DATABASE {{ db }};\"`\n- **WRONG**: `\"--!jinjanUSE DATABASE {{ db }};\"` (typo + wrong escaping)\n\n#### Avro Schema Format Requirements\n\nThe `avro_schema` value must be a JSON string containing an Avro schema in JSON format. **CRITICAL**: All double quotes within the Avro schema JSON must be escaped with backslashes.\n\n**WRONG (breaks JSON):**\n\n```json\n{\n  \"avro_schema\": \"{\"type\": \"record\", \"name\": \"fruits\"}\"\n}\n```\n\n**CORRECT (properly escaped):**\n\n```json\n{\n  \"avro_schema\": \"{\\\"type\\\": \\\"record\\\", \\\"name\\\": \\\"fruits\\\"}\"\n}\n```\n\nThe pattern is: Replace every `\"` inside the avro_schema value with `\\\"`\n\n#### Content Quality Requirements\n\n- **Avro Schema Content**:\n  - Must be valid Avro schema JSON when extracted and parsed\n  - All required Avro fields present (`type`, `name`, `fields`)\n  - Field definitions with proper `name`, `type`, and `doc` attributes\n  - Properly escaped JSON within the JSON string\n  - When evolution required, include ALL fields (existing + new) with new fields marked as nullable\n\n- **Snowflake SQL Content**:\n  - Must be valid Snowflake SQL when extracted and executed\n  - Proper indentation represented as `\\n` patterns\n  - Proper SQL syntax and formatting\n  - Include schema creation before table creation\n  - Include proper error handling with IF NOT EXISTS\n  - Include schema evolution logic when required\n\n#### Forbidden Content and Formatting\n\n- **FORBIDDEN**: Any references to YAML format anywhere\n- **FORBIDDEN**: Any markdown syntax or code blocks\n- **FORBIDDEN**: Any explanatory text outside the JSON structure\n- **FORBIDDEN**: Any conversational language\n- **FORBIDDEN**: Any text before `{` or after `}`\n- **FORBIDDEN**: Invalid JSON syntax\n- **FORBIDDEN**: Do not use single quotes in JSON - must use double quotes only\n- **FORBIDDEN**: Do not exceed 120 characters per line in SQL code (when extracted)\n- **FORBIDDEN**: Do not use double quotes for string literals - use single quotes\n- **FORBIDDEN**: Do not use any non-SQL syntax anywhere\n- **FORBIDDEN**: Using double quotes in COMMENT clauses - always use single quotes: `COMMENT 'text'` not `COMMENT \"text\"`\n- **FORBIDDEN**: Using lowercase SQL keywords - always use uppercase: `CREATE` not `create`, `TABLE` not `table`\n- **FORBIDDEN**: Setting multiple columns in schema registry updates - only set `IS_READY = TRUE`\n- **FORBIDDEN**: Adding INSERT statements for processing logs or other metadata tables\n- **FORBIDDEN**: Using `ADD COLUMN` for multiple columns - use `ADD COLUMN col1 ..., COLUMN col2 ...` syntax\n- **FORBIDDEN**: Using `nn` for newlines in JSON - must use `\\n`\n- **FORBIDDEN**: Typos in Jinja directive - must be exactly `--!jinja`\n- **FORBIDDEN**: Unquoted identifiers for external REST catalogs - ALL schema, table, and column names MUST be double-quoted\n- **FORBIDDEN**: Adding new columns for CSV fields that are semantic equivalents of existing columns during schema evolution\n- **FORBIDDEN**: Ignoring the semantic mapping table when determining which fields to add during evolution\n\n#### JSON Validation Requirements\n\n**CRITICAL**: The response must pass this validation:\n\n```sql\n-- Validation requirements for generated SQL:\n-- 1. Must contain CREATE SCHEMA IF NOT EXISTS statements\n-- 2. Must contain CREATE ICEBERG TABLE IF NOT EXISTS statements\n-- 3. Must use proper Snowflake data types (BIGINT, DOUBLE, STRING, etc.)\n-- 4. Must include COMMENT clauses with single quotes\n-- 5. Must use uppercase SQL keywords (CREATE, TABLE, SCHEMA, etc.)\n-- 6. Must be syntactically valid Snowflake SQL\n```\n\n#### NiFi Variable Substitution Requirements - CRITICAL\n\n- **CRITICAL**: During schema evolution (`${schema.evolution.required}` = \"yes\"), use provided `${table.name}` and `${table.namespace}` values instead of inferring from CSV content\n- **CRITICAL**: The LLM MUST use the inferred metadata values, NOT NiFi variable placeholders\n- **CRITICAL**: DO NOT use any NiFi variable syntax like `$${variable.name}` in the generated code\n- **CRITICAL**: Use the inferred table_name and table_namespace from metadata analysis\n- **CRITICAL**: Replace context values with actual inferred values: `true` or `false` (JSON boolean)\n- **CRITICAL**: Replace existing schema context with actual schema string (empty string if none provided)\n- **CRITICAL**: The generated SQL code must be immediately executable without any variable substitution\n- **CRITICAL**: All table names, namespaces, and variables must be actual string/boolean values, not placeholders\n\n#### Perfect Response Example\n\nBased on the provided context values in the user message:\n\n**EXACTLY THIS FORMAT - COPY THE ESCAPING PATTERN:**\n\n```json\n{\n  \"inferred_metadata\": {\n    \"table_name\": \"fruits_catalog\",\n    \"table_namespace\": \"food_data\",\n    \"description\": \"Fruit catalog data containing fruit identifiers and names\",\n    \"source_info\": {\"filename\": \"fruits.csv\", \"estimated_row_count\": \"5+\", \"data_source\": \"CSV file analysis\"},\n    \"field_summary\": {\"total_fields\": 2, \"nullable_fields\": 1, \"key_fields\": [\"id\"]}\n  },\n  \"avro_schema\": \"{\\\\\\\"type\\\\\\\": \\\\\\\"record\\\\\\\", \\\\\\\"name\\\\\\\": \\\\\\\"fruits_catalog\\\\\\\", \\\\\\\"fields\\\\\\\": [{\\\\\\\"name\\\\\\\": \\\\\\\"id\\\\\\\", \\\\\\\"type\\\\\\\": \\\\\\\"long\\\\\\\"}, {\\\\\\\"name\\\\\\\": \\\\\\\"name\\\\\\\", \\\\\\\"type\\\\\\\": [\\\\\\\"null\\\\\\\", \\\\\\\"string\\\\\\\"], \\\\\\\"default\\\\\\\": null}]}\",\n  \"code\": \"--!jinja\\\\nUSE DATABASE {{ music_flow_demo_db }};\\\\n\\\\n-- Create schema for food catalog data\\\\nCREATE SCHEMA IF NOT EXISTS \\\\\\\"food_data\\\\\\\";\\\\n\\\\n-- Food catalog table containing fruit identifiers and names\\\\n-- Source: CSV file analysis\\\\nCREATE ICEBERG TABLE IF NOT EXISTS \\\\\\\"food_data\\\\\\\".\\\\\\\"fruits_catalog\\\\\\\" (\\\\n    \\\\\\\"id\\\\\\\" BIGINT NOT NULL COMMENT 'Unique identifier for the fruit',\\\\n    \\\\\\\"name\\\\\\\" STRING COMMENT 'Name of the fruit'\\\\n) COMMENT = 'Fruit catalog data containing fruit identifiers and names';\\\\n\\\\nUSE DATABASE {{ music_flow_system_db }};\\\\n\\\\n-- Update schema registry to mark table as ready for ingestion\\\\nUPDATE metadata.schema_registry\\\\nSET IS_READY = TRUE\\\\nWHERE table_name = 'fruits_catalog'\\\\n  AND table_namespace = 'food_data';\",\n  \"schema_analysis\": {\n    \"evolution_required\": false,\n    \"field_mappings\": {\"new_fields\": [\"id\", \"name\"]},\n    \"evolution_strategy\": \"CREATE_NEW\"\n  },\n  \"evolution_example\": \"--!jinja\\\\nUSE DATABASE {{ music_flow_demo_db }};\\\\n\\\\n-- Add new columns with CORRECT syntax\\\\nALTER ICEBERG TABLE \\\\\\\"events\\\\\\\".\\\\\\\"music_events\\\\\\\" \\\\nADD COLUMN \\\\\\\"genre\\\\\\\" STRING COMMENT 'Musical genre',\\\\n    COLUMN \\\\\\\"sponsor\\\\\\\" STRING COMMENT 'Sponsor name';\\\\n\\\\nUSE DATABASE {{ music_flow_system_db }};\\\\n\\\\n-- Update schema registry\\\\nUPDATE metadata.schema_registry\\\\nSET IS_READY = TRUE\\\\nWHERE table_name = 'music_events'\\\\n  AND table_namespace = 'events';\"\n}\n```\n\n- **CRITICAL**: Every \" escaped as \\\\\" and every newline as \\\\n.\n\n**NOTICE**:\n\n- The LLM inferred table_name: 'fruits_catalog' and namespace: 'food_data' from CSV analysis\n- All metadata is used consistently in both schema name/namespace and SQL statements\n- Every `\"` has been escaped as `\\\\\"` and every newline as `\\\\n` - this is MANDATORY for valid JSON\n- No NiFi variable placeholders (like `${variable}`) are used - only actual inferred values\n- Schema analysis provides evolution details and field mapping information\n- The SQL includes proper schema creation and table creation statements\n"
      }, {
        "description" : "The Cortex AI prompt user message",
        "name" : "cortex_prompt_user_message",
        "provided" : false,
        "sensitive" : false,
        "value" : "## User Message\n\nPlease analyze the following CSV file fetched from Google Drive and generate metadata, Avro schema, and Snowflake SQL DDL with Jinja2 templating support:\n\n### File Information\n\n- **Google Drive File:** `${filename}`\n- **File size:** `${file.size}` bytes\n- **Source:** Google Drive via FetchGoogleDriveFile processor\n\nThese NiFi variables will be substituted before sending to the LLM.\n\n### CSV Structure\n\n#### Headers\n\n```csv\n${csv.headers}\n```\n\n#### Sample Data (first 5 rows)\n\n```csv\n${csv.sample.data}\n```\n\nNote: These variables (`${csv.headers}` and `${csv.sample.data}`) will be populated by NiFi before sending to the LLM.\n\n### Schema State Context\n\n- **Is first time processing:** `${is.first.time}`\n- **Schema evolution required:** `${schema.evolution.required}`\n- **Existing schema (for evolution):** `${existing.schema}`\n- **Schema Analysis Extra Info (for evolution):** `${schema.analysis}`\n- **Table name (for evolution):** `${table.name}`\n- **Table namespace (for evolution):** `${table.namespace}`\n\nThese variables should be used directly in the generated Snowflake SQL DDL with Jinja2 templating for dynamic behavior across different environments.\n\n### Schema Evolution Requirements\n\nWhen `${schema.evolution.required}` is \"yes\":\n\n1. **Semantic Field Matching**: Use the semantic field mapping table to identify equivalent fields between existing schema and new CSV headers\n2. **Evolution Analysis**: Generate detailed field mapping analysis including:\n   - Exact name matches (case-insensitive)\n   - Semantic equivalent matches (e.g., \"artist_name\"  \"performer\")\n   - New fields requiring addition\n   - Type changes requiring evolution\n3. **Evolved Schema Generation**: Create complete Avro schema containing ALL fields (existing + new/changed fields) with all new fields marked as nullable for backward compatibility\n4. **Compatibility Preservation**: Ensure all evolution changes maintain backward compatibility\n\n### Semantic Field Mapping Reference\n\nUse this table for semantic field equivalence detection:\n\n| Standard Field | Semantic Equivalents | Expected Type | Context |\n|---------------|---------------------|---------------|---------|\n| event_id | show_id, slot_number, performance_id, id | long | Primary identifier |\n| artist_name | dj_performer, performer, headliner, act_name, artist | string | Performer information |\n| stage | main_stage, venue_section, location, venue_area, stage_location, venue | string | Performance location |\n| event_datetime | start_time, time_block, date_time, time_slot, show_time, datetime | string | Event timing |\n| ticket_price | vip_price, admission_cost, ticket_cost, entry_fee, price_tier, price, cost | double | Pricing information |\n| festival_name | event_name, festival, venue_name | string | Event organization |\n| genre | music_genre, category, style, type | string | Classification |\n| capacity | max_attendance, venue_capacity, max_capacity | long | Venue limits |\n| city | location_city, venue_city | string | Geographic location |\n| sponsor | sponsorship, partner, brand | string | Commercial partnerships |\n| ticket_type | pass_type, admission_type, entry_type, ticket_category | string | Ticket classification |\n| quantity | qty, count, number_of_tickets, ticket_count | long | Purchase quantity |\n| unit_price | price_per_ticket, individual_price, single_price | double | Per-unit pricing |\n| total_amount | total_price, final_amount, grand_total, amount_paid | double | Total transaction value |\n| purchase_date | order_date, transaction_date, sale_date, bought_date | string | Transaction timestamp |\n| payment_method | payment_type, pay_method, payment_mode, transaction_type | string | Payment processing method |\n\n### Pipeline Context\n\n- This CSV will be processed through Apache NiFi data pipeline\n- **Target:** Apache Iceberg table for analytics\n- **Processing pattern:** Real-time ingestion with schema evolution\n- **Evolution strategy:** Additive changes only (maintain backward compatibility)\n\n### Processing Logic\n\n#### For First-Time Processing (`${is.first.time}` = \"yes\")\n\n1. Generate complete Avro schema for all CSV fields\n2. Create Snowflake SQL DDL for schema and table creation with error handling\n3. Include comprehensive field analysis in `schema_analysis`\n4. Set `evolution_required: false` in schema analysis\n5. Generate `CREATE SCHEMA IF NOT EXISTS` statement\n6. Generate `CREATE ICEBERG TABLE IF NOT EXISTS` statement\n\n#### For Schema Evolution (`${schema.evolution.required}` = \"yes\")\n\n1. Parse `${existing.schema}` to understand current table structure and use `${table.name}` and `${table.namespace}` for target table identification\n2. **CRITICAL**: Perform semantic field matching between CSV headers and existing table columns using the semantic mapping table\n3. **CRITICAL**: Identify which CSV fields are semantic equivalents of existing columns (DO NOT add these as new columns)\n4. **CRITICAL**: Identify which CSV fields have NO semantic equivalent in existing schema (ADD ONLY these as new columns)\n5. Generate complete Avro schema containing ALL fields (existing + truly new fields) with all new fields marked as nullable\n6. Create Snowflake SQL DDL for `ALTER ICEBERG TABLE` operations that add ONLY the truly new fields (not semantic equivalents)\n7. Include detailed field mapping analysis in `schema_analysis` showing which fields were matched vs. which were added\n\n#### For Standard Processing (`${schema.evolution.required}` = \"no\")\n\n1. Generate table validation queries only\n2. Set `evolution_required: false` in schema analysis\n\n### Snowflake Iceberg SQL Requirements\n\n- Use `ALTER ICEBERG TABLE ... ADD COLUMN` for schema evolution with Snowflake data types (BIGINT, DOUBLE, STRING, etc.)\n- Chain multiple `ADD COLUMN` clauses for multiple new fields\n- Always make new fields nullable by default (no `NOT NULL` constraint)\n- Use proper Snowflake data types for all schema operations\n- **CRITICAL**: Use Snowflake data types (BIGINT, DOUBLE, STRING, etc.) for all schema operations\n\n### Snowflake Iceberg Schema Requirements\n\n**MANDATORY**: All table creation and schema evolution must use Snowflake Iceberg syntax with Jinja2 templating:\n\n- **Jinja2 Directive**: Always start with `--!jinja` for dynamic SQL execution\n- **Environment Variables**: Use `{{ variable_name }}` syntax ONLY for database context switching (USE DATABASE statements)\n- **Schema Creation**: Use `CREATE SCHEMA IF NOT EXISTS` with inferred schema names\n- **External REST Catalog**: ALWAYS use double quotes around schema, table, and column names for external REST catalog compatibility\n- **Native Snowflake Tables**: Do NOT use double quotes for native Snowflake tables (like metadata.schema_registry)\n- **Table Type Identification**:\n  - **User-created tables/schemas**  External REST Catalog  Use double quotes\n  - **System tables** (metadata.schema_registry)  Native Snowflake  No double quotes\n- **Table Creation**: Use `CREATE ICEBERG TABLE IF NOT EXISTS` with inferred table names and schemas\n- **Schema Evolution**: Use `ALTER ICEBERG TABLE` with inferred table names and schemas\n- **Database Context**: Use `USE DATABASE {{ music_flow_demo_db }}` and `USE DATABASE {{ music_flow_system_db }}` for environment switching\n- **Type Mapping**:\n  - Text fields  `STRING`\n  - Integer/ID fields  `BIGINT`\n  - Decimal fields  `DOUBLE`\n  - Boolean fields  `BOOLEAN`\n  - Date fields  `DATE`\n  - Timestamp fields  `TIMESTAMP`\n\n**Example Schema and Table Creation with Jinja2 Templating**:\n\n```sql\n--!jinja\nUSE DATABASE {{ music_flow_demo_db }};\n\nCREATE SCHEMA IF NOT EXISTS \"events\";\n\nCREATE ICEBERG TABLE IF NOT EXISTS \"events\".\"music_events\" (\n    \"event_id\" BIGINT NOT NULL,\n    \"artist_name\" STRING,\n    \"ticket_price\" DOUBLE\n);\n\nUSE DATABASE {{ music_flow_system_db }};\n\n-- Update schema registry to mark table as ready for ingestion\nUPDATE metadata.schema_registry\nSET IS_READY = TRUE\nWHERE table_name = 'music_events'\n  AND table_namespace = 'events';\n```\n\n**Example Schema Evolution with Jinja2 Templating**:\n\n```sql\n--!jinja\nUSE DATABASE {{ music_flow_demo_db }};\n\nALTER ICEBERG TABLE \"events\".\"music_events\" \nADD COLUMN \"genre\" STRING,\n    COLUMN \"sponsor\" STRING;\n\nUSE DATABASE {{ music_flow_system_db }};\n\n-- Update schema registry to mark table as ready for ingestion\nUPDATE metadata.schema_registry\nSET IS_READY = TRUE\nWHERE table_name = 'music_events'\n  AND table_namespace = 'events';\n```\n\n### Snowflake SQL Requirements\n\n**MANDATORY**: Always use proper Snowflake Iceberg syntax with Jinja2 templating for all table operations:\n\n- **Jinja2 Directive**: Always start with `--!jinja` for dynamic SQL execution\n- **Environment Variables**: Use `{{ variable_name }}` syntax ONLY for database context switching (USE DATABASE statements)\n- **Database Context**: Use `USE DATABASE {{ music_flow_demo_db }}` and `USE DATABASE {{ music_flow_system_db }}` for environment switching\n- **External REST Catalog**: ALWAYS use double quotes around schema, table, and column names for external REST catalog compatibility\n- **Native Snowflake Tables**: Do NOT use double quotes for native Snowflake tables (like metadata.schema_registry)\n- **Table Type Identification**:\n  - **User-created tables/schemas**  External REST Catalog  Use double quotes\n  - **System tables** (metadata.schema_registry)  Native Snowflake  No double quotes\n- Use `CREATE SCHEMA IF NOT EXISTS` with inferred schema names before table creation\n- Use `CREATE ICEBERG TABLE IF NOT EXISTS` with inferred table names and schemas for table creation\n- Use `ALTER ICEBERG TABLE` with inferred table names and schemas for schema evolution\n- Use proper Snowflake data types (BIGINT, DOUBLE, STRING, etc.)\n- Include proper error handling with `IF NOT EXISTS` clauses\n\n### SQL Documentation Requirements\n\n**MANDATORY**: Include comprehensive documentation in generated SQL based on Avro schema:\n\n- **Table Comments**: Use `COMMENT 'text'` clause on table creation to describe the table's purpose\n- **Column Comments**: Use `COMMENT 'text'` clause on each column to describe its business meaning  \n- **Inline Comments**: Use `--` comments to explain complex logic or business rules\n- **Schema Comments**: Include comments explaining the data source and processing context\n- **Snowflake Syntax**: Use proper Snowflake COMMENT syntax with single quotes around comment text\n- **SQL Keywords**: Use uppercase for ALL SQL keywords (CREATE, TABLE, SCHEMA, COLUMN, ALTER, ADD, COMMENT, SELECT, FROM, WHERE, etc.)\n\n**Documentation Mapping from Avro Schema**:\n\n- Extract `doc` field from Avro schema fields and use as column comments\n- Use Avro schema `name` and `namespace` to generate table description\n- Include business context from semantic field mapping table\n- Add processing metadata (source file, ingestion date, etc.)\n\n**Example Documentation Pattern with Jinja2 Templating**:\n\n```sql\n--!jinja\nUSE DATABASE {{ music_flow_demo_db }};\n\n-- Create schema for music events data\nCREATE SCHEMA IF NOT EXISTS {{ table_namespace }};\n\n-- Music events table containing festival and concert information\n-- Source: CSV files from various music festivals\nCREATE ICEBERG TABLE IF NOT EXISTS {{ table_namespace }}.{{ table_name }} (\n    event_id BIGINT NOT NULL COMMENT 'Primary identifier for the event',\n    artist_name STRING COMMENT 'Name of the performing artist or DJ',\n    stage STRING COMMENT 'Stage or venue area where performance occurs',\n    event_datetime STRING COMMENT 'Date and time of the performance',\n    ticket_price DOUBLE COMMENT 'Price of the ticket in USD'\n) COMMENT = 'Music events table containing festival and concert information from multiple sources';\n\nUSE DATABASE {{ music_flow_system_db }};\n\n-- Update schema registry to mark table as ready for ingestion\nUPDATE metadata.schema_registry\nSET IS_READY = TRUE\nWHERE table_name = '{{ table_name }}'\n  AND table_namespace = '{{ table_namespace }}';\n```\n\n**CRITICAL**: Always use proper Snowflake COMMENT syntax:\n\n- Column comments: `column_name DATA_TYPE COMMENT 'comment text'`\n- Table comments: `) COMMENT = 'table comment text';`\n- Use single quotes around all comment text\n- Comments are stored as metadata and visible in DESCRIBE TABLE\n\n### Requirements\n\n#### Schema Generation\n\n1. Generate a complete Avro schema suitable for Apache NiFi Record processors\n2. Use \"long\" for all integer/ID fields (for scalability)\n3. Use \"double\" for all decimal/numeric fields (for precision)\n4. Make fields nullable unless clearly required (primary keys)\n5. Use descriptive field names in snake_case format\n6. Include field documentation for business context\n7. **CRITICAL**: When evolution required, generate complete schema with ALL fields (existing + new), ensuring all new fields are nullable\n8. Include semantic field mapping in schema documentation\n\n#### Code Generation\n\n1. Generate clean Snowflake SQL DDL that handles CREATE, ALTER, and LOAD scenarios based on context\n2. SQL code should include proper schema creation and table creation statements\n3. **MANDATORY**: Use proper Snowflake Iceberg syntax throughout\n4. **CRITICAL**: Use proper Snowflake data types (BIGINT, DOUBLE, STRING, etc.)\n5. Generate code that's ready to execute in Snowflake with proper formatting\n6. Handle CREATE (first time), ALTER (schema evolution), and LOAD (standard) scenarios dynamically\n7. **MANDATORY**: Include table and column comments based on Avro schema documentation using proper Snowflake COMMENT syntax\n8. Include proper error handling with `IF NOT EXISTS` clauses\n9. **CRITICAL**: Use the inferred metadata values directly in the generated SQL\n10. Include schema comparison logic when existing schema context is provided\n11. Generate appropriate Snowflake Iceberg operations using proper data types based on detected schema differences\n12. Include semantic field matching logic for evolution detection\n13. **CRITICAL**: When schema evolution is required, use semantic matching to identify equivalent fields between CSV and existing table\n14. **CRITICAL**: DO NOT add new columns for CSV fields that are semantic equivalents of existing table columns\n15. **CRITICAL**: Only add columns for CSV fields that have NO semantic match in the existing schema\n16. **CRITICAL**: The ingestion layer (Avro schema with aliases) handles mapping semantic equivalents, NOT the schema evolution\n17. **CRITICAL**: Example Evolution Scenario:\n    - Existing table columns: event_id, artist_name, main_stage, start_time, vip_price\n    - CSV columns: event_id, artist_name, stage, start_time, ticket_price, genre, sponsor\n    - Semantic analysis using mapping table:\n      - \"stage\"  \"main_stage\" (semantic equivalent per mapping table - DO NOT ADD)\n      - \"ticket_price\"  \"vip_price\" (semantic equivalent per mapping table - DO NOT ADD)\n      - \"genre\" (no equivalent in existing schema - ADD THIS)\n      - \"sponsor\" (no equivalent in existing schema - ADD THIS)\n    - Generated SQL: ALTER ICEBERG TABLE ADD COLUMN \"genre\" STRING, COLUMN \"sponsor\" STRING\n    - Avro adapter will map \"stage\"  \"main_stage\" and \"ticket_price\"  \"vip_price\" during ingestion\n18. **CRITICAL**: When generating ALTER TABLE logic, only add truly new fields to existing table - do not recreate or modify existing fields\n19. **MANDATORY**: Always include `CREATE SCHEMA IF NOT EXISTS` before table creation\n20. **MANDATORY**: Include simple schema registry updates to mark tables as ready for ingestion (only set IS_READY = TRUE)\n\n#### Schema Analysis Generation\n\n1. Generate comprehensive `schema_analysis` with evolution details\n2. Include field mapping analysis with exact and semantic matches\n3. **CRITICAL**: In semantic_matches, show CSV fields that map to existing table columns (these will NOT be added as new columns)\n4. **CRITICAL**: In new_fields, show ONLY CSV fields that have NO semantic equivalent in existing schema (these WILL be added as new columns)\n5. Identify new fields requiring addition to existing schema (only truly new fields without semantic equivalents)\n6. Detect type changes that require schema evolution\n7. Provide evolution strategy recommendations\n8. Include compatibility notes for backward compatibility assurance\n9. **CRITICAL**: Example schema_analysis for evolution:\n\n   ```json\n   {\n     \"evolution_required\": true,\n     \"field_mappings\": {\n       \"exact_matches\": [\"event_id\", \"artist_name\", \"start_time\"],\n       \"semantic_matches\": {\n         \"stage\": \"main_stage\",\n         \"ticket_price\": \"vip_price\"\n       },\n       \"new_fields\": [\"genre\", \"sponsor\"]\n     },\n     \"evolution_strategy\": \"ADD_FIELDS\",\n     \"compatibility_notes\": [\"Only genre and sponsor will be added as new columns\", \"stage maps to existing main_stage\", \"ticket_price maps to existing vip_price\"]\n   }\n   ```\n\n### Critical Instructions\n\n- **MANDATORY**: Provide ONLY a JSON object with `inferred_metadata`, `avro_schema`, `code`, and `schema_analysis` properties\n- **MANDATORY**: Use proper JSON string escaping for newlines (`\\n`) and quotes (`\\\"`)\n- **MANDATORY**: Ensure the response is valid JSON that can be parsed directly with JSON.loads()\n- **MANDATORY**: Both schema and code must be immediately usable after extraction from JSON with proper formatting preserved\n- **MANDATORY**: No markdown formatting, explanatory text, or conversational language anywhere\n- **MANDATORY**: Start response immediately with `{` - no introductory text\n- **MANDATORY**: End response immediately with `}` - no concluding text\n- **MANDATORY**: Use proper JSON syntax with double quotes for all keys and string values\n- **MANDATORY**: The avro_schema value must be JSON format (not YAML) converted to a string\n- **MANDATORY**: Preserve SQL indentation using `\\n` patterns in the JSON string\n- When `${schema.evolution.required}` = \"yes\", generate complete schema with ALL fields (existing + new), ensuring all new fields are nullable\n- Include comprehensive field mapping analysis in `schema_analysis` output\n- Generate evolution-specific Snowflake SQL DDL with ALTER TABLE logic when required\n- **CRITICAL**: When `${schema.evolution.required}` = \"yes\", generate complete Avro schema with ALL fields (existing + new), making all new fields nullable\n- **CRITICAL**: SQL code should use ALTER ICEBERG TABLE operations that add only new fields, preserving existing table structure and data\n- **CRITICAL**: Always use Snowflake data types (BIGINT, DOUBLE, STRING, etc.) for all schema operations in generated SQL\n- **CRITICAL**: Always use proper Snowflake COMMENT syntax with single quotes around comment text\n- **CRITICAL**: Always use uppercase for ALL SQL keywords (CREATE, TABLE, SCHEMA, COLUMN, ALTER, ADD, COMMENT, SELECT, FROM, WHERE, etc.)\n- **CRITICAL**: For ALTER ICEBERG TABLE with multiple columns: use `ADD COLUMN col1 ..., COLUMN col2 ...` NOT `ADD COLUMN col1 ..., ADD COLUMN col2 ...`\n\n### Context Variable Usage\n\nUse these NiFi flow variables exactly as provided:\n\n- `${is.first.time}` - Boolean indicating first-time table creation\n- `${schema.evolution.required}` - Boolean indicating if schema evolution is needed\n- `${existing.schema}` - JSON string of existing Avro schema (empty if first time)\n- `${csv.headers}` - Comma-separated list of CSV column headers\n- `${csv.sample.data}` - Sample CSV rows for data type inference\n- `${table.name}` - Target table name (used during evolution)\n- `${table.namespace}` - Target table namespace (used during evolution)\n\n### Evolution Decision Matrix\n\n| is.first.time | schema.evolution.required | Action | Schema Content | SQL Logic | Table Naming | Success Logging |\n|---------------|---------------------------|--------|----------------|-----------|----------------|------------------|\n| true | false | CREATE | Complete schema | CREATE SCHEMA + CREATE ICEBERG TABLE | Infer from CSV | Include success logging |\n| false | true | EVOLVE | Complete schema (existing + new nullable fields) | ALTER ICEBERG TABLE | Use ${table.name}/${table.namespace} | Include success logging |\n| false | false | LOAD | N/A (use existing) | Table validation queries | Use ${table.name}/${table.namespace} | Not needed |\n\n### Forbidden Content and Formatting\n\n- **FORBIDDEN**: Any references to YAML format anywhere\n- **FORBIDDEN**: Any markdown syntax or code blocks\n- **FORBIDDEN**: Any explanatory text outside the JSON structure\n- **FORBIDDEN**: Any conversational language\n- **FORBIDDEN**: Any text before `{` or after `}`\n- **FORBIDDEN**: Invalid JSON syntax\n- **FORBIDDEN**: Do not use single quotes in JSON - must use double quotes only\n- **FORBIDDEN**: Do not exceed 120 characters per line in SQL code (when extracted)\n- **FORBIDDEN**: Do not use double quotes for string literals - use single quotes\n- **FORBIDDEN**: Using NiFi variable placeholders in generated code - only use actual inferred values\n- **FORBIDDEN**: Using any non-SQL syntax anywhere - always use Snowflake SQL syntax\n- **FORBIDDEN**: Using double quotes in COMMENT clauses - always use single quotes: `COMMENT 'text'` not `COMMENT \"text\"`\n- **FORBIDDEN**: Using lowercase SQL keywords - always use uppercase: `CREATE` not `create`, `TABLE` not `table`\n- **FORBIDDEN**: Using `ADD COLUMN` for multiple columns - use `ADD COLUMN col1 ..., COLUMN col2 ...` syntax\n- **FORBIDDEN**: Unquoted identifiers for external REST catalogs - ALL schema, table, and column names MUST be double-quoted\n- **FORBIDDEN**: Setting multiple columns in schema registry updates - only set `IS_READY = TRUE`\n- **FORBIDDEN**: Adding INSERT statements for processing logs or other metadata tables\n- **FORBIDDEN**: Adding new columns for CSV fields that are semantic equivalents of existing columns during schema evolution\n- **FORBIDDEN**: Ignoring the semantic mapping table when determining which fields to add during evolution\n\n#### Perfect Response Example\n\n```json\n{\n  \"inferred_metadata\": {\n    \"table_name\": \"string\",\n    \"table_namespace\": \"string\",\n    \"description\": \"string\",\n    \"source_info\": {},\n    \"field_summary\": {}\n  },\n  \"avro_schema\": \"escaped_json_string\",\n  \"code\": \"sql_ddl_with_newlines\",\n  \"schema_analysis\": {\n    \"evolution_required\": boolean,\n    \"existing_field_count\": number,\n    \"new_field_count\": number,\n    \"field_mappings\": {\n      \"exact_matches\": [],\n      \"semantic_matches\": {},\n      \"new_fields\": [],\n      \"type_changes\": {}\n    },\n    \"evolution_strategy\": \"string\",\n    \"compatibility_notes\": []\n  }\n}\n```\n"
      }, {
        "description" : "The google drive id that will be used in CDC process to check for data files",
        "name" : "google.drive.id",
        "provided" : false,
        "sensitive" : false,
        "value" : "0AP9imnJBN80BUk9PVA"
      }, {
        "description" : "",
        "name" : "iceberg.s3.region",
        "provided" : false,
        "sensitive" : false,
        "value" : "us-west-2"
      }, {
        "description" : "The bucket where CSV processed for schema checks and evolution will be moved for data ingestion",
        "name" : "ingestion.s3.bucket",
        "provided" : false,
        "sensitive" : false,
        "value" : "ksampath-music-flow-demo-ingest-data"
      }, {
        "description" : "The SQL used to find the CSV to Avro Schema Mapping",
        "name" : "ingestion_csv_avro_mapping_sql",
        "provided" : false,
        "sensitive" : false,
        "value" : "WITH schema_mapping_analysis AS (\n    SELECT \n        table_name,\n        table_namespace,\n        avro_schema,\n        is_ready as ingestion_ok,\n        status as schema_status,\n        AI_COMPLETE(\n            model => 'claude-4-sonnet', \n            prompt => CONCAT(\n               'You are an Avro schema adaptation expert. Your task is to modify the given Avro schema to accommodate the provided CSV data structure.',\n                '\\n\\n## Semantic Field Mapping Reference:\\n',\n                'Use this comprehensive table for semantic field equivalence detection:\\n',\n                '\\n| Standard Field | Semantic Equivalents | Expected Type | Context |\\n',\n                '|---------------|---------------------|---------------|----------|\\n',\n                '| event_id | show_id, slot_number, performance_id, id | long | Primary identifier |\\n',\n                '| artist_name | dj_performer, performer, headliner, act_name, artist | string | Performer information |\\n',\n                '| stage | main_stage, venue_section, location, venue_area, stage_location, venue | string | Performance location |\\n',\n                '| event_datetime | start_time, time_block, date_time, time_slot, show_time, datetime | string | Event timing |\\n',\n                '| ticket_price | vip_price, admission_cost, ticket_cost, entry_fee, price_tier, price, cost | double | Pricing information |\\n',\n                '| festival_name | event_name, festival, venue_name | string | Event organization |\\n',\n                '| genre | music_genre, category, style, type | string | Classification |\\n',\n                '| capacity | max_attendance, venue_capacity, max_capacity | long | Venue limits |\\n',\n                '| city | location_city, venue_city | string | Geographic location |\\n',\n                '| sponsor | sponsorship, partner, brand | string | Commercial partnerships |\\n',\n                '| ticket_type | pass_type, admission_type, entry_type, ticket_category | string | Ticket classification |\\n',\n                '| quantity | qty, count, number_of_tickets, ticket_count | long | Purchase quantity |\\n',\n                '| unit_price | price_per_ticket, individual_price, single_price | double | Per-unit pricing |\\n',\n                '| total_amount | total_price, final_amount, grand_total, amount_paid | double | Total transaction value |\\n',\n                '| purchase_date | order_date, transaction_date, sale_date, bought_date | string | Transaction timestamp |\\n',\n                '| payment_method | payment_type, pay_method, payment_mode, transaction_type | string | Payment processing method |\\n',\n                '\\n## Semantic Mapping Rules:\\n',\n                '1. **Semantic Matching**: Map based on field purpose using the comprehensive mapping table above\\n',\n                '2. **Exact Name Matching**: First check for exact case-insensitive name matches\\n',\n                '3. **Semantic Equivalence**: Use the mapping table to identify equivalent fields\\n',\n                '4. **Data Type Compatibility**: Ensure CSV data can convert to target Avro type\\n',\n                '5. **Required Fields**: Prioritize mapping to required schema fields\\n',\n                '6. **Perfect Match Optimization**: If CSV column names exactly match existing schema field names (same count, same names, compatible types), return the original schema unchanged\\n',\n                '\\n## Schema Adaptation Instructions:\\n',\n                '- **FIRST**: Check if CSV column names exactly match schema field names with compatible types. If perfect name match, return original schema unchanged.\\n',\n                '- Analyze CSV headers and data types using semantic understanding\\n',\n                '- For CSV columns semantically equivalent to existing schema fields: ADD the CSV column name to the \"aliases\" array of the existing field (do NOT create separate fields)\\n',\n                '- Example: CSV \"show_id\" + schema \"event_id\"  keep \"event_id\", add \"show_id\" to aliases array\\n',\n                '- Use the comprehensive semantic mapping table above for all field equivalence detection\\n',\n                '- Common semantic mappings: artist_name/performer/headliner, stage/venue/location, ticket_price/cost/fee, event_datetime/time/schedule\\n',\n                '- ADD completely new fields only for CSV columns with no semantic equivalent in existing schema\\n',\n                '- KEEP existing schema fields that don''t appear in CSV but make them optional (union with null)\\n',\n                '- Infer appropriate Avro data types from CSV sample data with type compatibility validation\\n',\n                '- **IMPORTANT**: Do NOT include \"doc\" fields in the Avro schema as this schema is used only for CSV parsing, not code generation\\n',\n                '- Return ONLY the adapted Avro schema in JSON format\\n',\n                '- DO NOT wrap the response in markdown code blocks\\n',\n                '- DO NOT use triple backticks (```) in your response\\n',\n                '- Return raw JSON only, starting with { and ending with }\\n\\n',\n                '## Input Data:\\n',\n                '**Current Avro Schema:**\\n',\n                '<schema>', avro_schema, '</schema>\\n\\n',\n                '**CSV Data:**\\n',\n                '\\n\\n**CSV Headers:** ${csv.headers}',\n                '\\n**CSV Sample:** ${csv.sample.rows}',\n                '\\n\\n',\n                '## Output:\\n',\n                'Return ONLY raw JSON without any markdown formatting, code blocks, or explanatory text. Start directly with the opening brace { of the JSON schema.'\n            ),\n            model_parameters => {\n                'temperature': 0.1\n            }\n        ) as adapted_avro_schema\n    FROM SCHEMA_REGISTRY\n)\nSELECT \n   avro_schema,\n   BASE64_ENCODE(PARSE_JSON(adapted_avro_schema)) as adapted_avro_schema,\n   schema_status,\n   ingestion_ok as is_ready\nFROM schema_mapping_analysis\nwhere\n    table_name = '${table.name}'\nAND\n    table_namespace = '${table.namespace}';"
      }, {
        "description" : "",
        "name" : "ingestion_mapping_response_avro_schema",
        "provided" : false,
        "sensitive" : false,
        "value" : "{\n    \"type\": \"record\",\n    \"name\": \"IngestionMappingResponse\",\n    \"namespace\": \"com.musicflow.schema\",\n    \"fields\": [\n        {\n            \"name\": \"AVRO_SCHEMA\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"ADAPTED_AVRO_SCHEMA\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"SCHEMA_STATUS\",\n            \"type\": \"string\"\n        },\n        {\n            \"name\": \"IS_READY\",\n            \"type\": \"string\"\n        }\n    ]\n}"
      }, {
        "description" : "",
        "name" : "music-flow.aws.access-key-id",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "music-flow.aws.secret-access-key",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "music-flow.opencatalog.s3.assume-role-arn",
        "provided" : false,
        "sensitive" : false,
        "value" : "arn:aws:iam::849350360261:role/ksampath-oc-music-flow-s3-role"
      }, {
        "description" : "",
        "name" : "music-flow.opencatalog.s3.assume-role-region",
        "provided" : false,
        "sensitive" : false,
        "value" : "us-west-2"
      }, {
        "description" : "",
        "name" : "music-flow.opencatalog.s3.assume-role.external-id",
        "provided" : false,
        "sensitive" : false,
        "value" : "NPB00565_SFCRole=1_oDH/LvFCs59VUwJe8MblmqKmk2M="
      }, {
        "description" : "",
        "name" : "music-flow.s3.assume-role-arn",
        "provided" : false,
        "sensitive" : false,
        "value" : "arn:aws:iam::849350360261:role/ksampath-openflow-music-flow-spcs"
      }, {
        "description" : "",
        "name" : "music-flow.s3.ingest-data.assume-role-arn",
        "provided" : false,
        "sensitive" : false,
        "value" : "arn:aws:iam::849350360261:role/ksampath-openflow-music-flow-spcs"
      }, {
        "description" : "",
        "name" : "music-flow.s3.ingest-data.assume-role-external-ID",
        "provided" : false,
        "sensitive" : false,
        "value" : "NPB00565_SFCRole=1_oDH/LvFCs59VUwJe8MblmqKmk2M="
      }, {
        "description" : "",
        "name" : "music-flow.s3.secret-access-key",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "music_flow_data_schema",
        "provided" : false,
        "sensitive" : false,
        "value" : "data"
      }, {
        "description" : "",
        "name" : "music_flow_generated_sources_stage",
        "provided" : false,
        "sensitive" : false,
        "value" : "sources"
      }, {
        "description" : "",
        "name" : "opencatalog.s3.access-key-id",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "opencatalog.s3.secret-access-key",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "opencatalog.s3.session-token",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "The Apache Polaris Access Token Scopes",
        "name" : "polaris.access.token.scopes",
        "provided" : false,
        "sensitive" : false,
        "value" : "PRINCIPAL_ROLE:ALL"
      }, {
        "description" : "The Apache Polaris Catalog to use",
        "name" : "polaris.catalog",
        "provided" : false,
        "sensitive" : false,
        "value" : "music_flow"
      }, {
        "description" : "The Apache Polaris Catalog URI",
        "name" : "polaris.catalog.uri",
        "provided" : false,
        "sensitive" : false,
        "value" : "https://npb00565.snowflakecomputing.com/polaris/api/catalog"
      }, {
        "description" : "The Apache Polaris Catalog Principal Client ID",
        "name" : "polaris.client.id",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "The Apache Polaris Catalog Principal Client Secret",
        "name" : "polaris.client.secret",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "polaris.server.auth.uri",
        "provided" : false,
        "sensitive" : false,
        "value" : "https://npb00565.snowflakecomputing.com/polaris/api/catalog/v1/oauth/tokens"
      }, {
        "description" : "",
        "name" : "pratyakshika_sa_json",
        "provided" : false,
        "sensitive" : false
      }, {
        "description" : "The Avro schema to be used to parse and write the SQL result of the query used for schema evolution check",
        "name" : "schema_evolution_check_avro_schema",
        "provided" : false,
        "sensitive" : false,
        "value" : "{\n    \"type\": \"record\",\n    \"name\": \"SchemaAnalysisResult\",\n    \"namespace\": \"com.musicflow.schema\",\n    \"doc\": \"Schema for storing table analysis results with JSON fields from database\",\n    \"fields\": [\n        {\n            \"name\": \"TABLE_NAME\",\n            \"type\": \"string\",\n            \"doc\": \"Name of the table being analyzed\"\n        },\n        {\n            \"name\": \"TABLE_NAMESPACE\",\n            \"type\": \"string\",\n            \"doc\": \"Namespace or schema of the table\"\n        },\n        {\n            \"name\": \"SCHEMA_JSON\",\n            \"type\": [\"null\", \"string\"],\n            \"default\": null,\n            \"doc\": \"JSON string containing the schema definition from database\"\n        },\n        {\n            \"name\": \"AI_RESPONSE\",\n            \"type\": [\"null\", \"string\"],\n            \"default\": null,\n            \"doc\": \"JSON string containing AI analysis results from database\"\n        }\n    ]\n}"
      }, {
        "description" : "",
        "name" : "schema_evolution_check_sql",
        "provided" : false,
        "sensitive" : false,
        "value" : "WITH ai_analysis AS (\n    SELECT \n        table_name,\n        table_namespace,\n        avro_schema::string as schema_json,\n        AI_COMPLETE(\n            model => 'claude-4-sonnet', \n            prompt => CONCAT(\n                'You are a schema analysis expert. Analyze if the given Avro schema semantically matches CSV data.',\n                '\\n\\n## Task',\n                '\\nDetermine if this Base64 Encoded Avro schema can accommodate the provided CSV structure.',\n                '\\n\\n## Input Data',\n                '\\n**Avro Schema:**\\n<schema>', AVRO_SCHEMA, '</schema>',\n                '\\n\\n**CSV Headers:** ${csv.headers}',\n                '\\n**CSV Sample:** ${csv.sample.rows}',\n                '\\n\\n## Analysis Rules',\n                '\\n1. **Semantic Matching**: If majority of CSV fields (>50%) can map to existing schema fields, consider it a match',\n                '\\n2. **Schema Evolution**: Required only if CSV has new fields that cannot map to existing schema fields',\n                '\\n3. **Match Priority**: If no semantic match exists, skip evolution analysis',\n                '\\n\\n## Required Response Format',\n                '\\nRespond with ONLY a JSON object (no markdown, no explanations):',\n                '\\n{',\n                '\\n  \"matched\": \"yes|no\",',\n                '\\n  \"schema_evolution_required\": \"yes|no\",',\n                '\\n  \"schemas_analysis\": [\"bullet point 1\", \"bullet point 2\"]',\n                '\\n}',\n                '\\n\\n## Analysis Guidelines',\n                '\\n- Focus on field purpose rather than exact naming',\n                '\\n- Consider common field variations (id/identifier, name/title, etc.)',\n                '\\n- Evolution needed only for genuinely new data concepts',\n                '\\n- Keep analysis points concise and technical'\n            ),\n           model_parameters => {\n                'temperature': 0.1\n            },\n            response_format => {\n                 'type': 'json',\n                 'schema': {\n                     'type': 'object',\n                     'properties': {\n                         'matched': {\n                             'type': 'string',\n                             'enum': ['yes', 'no']\n                         },\n                         'schema_evolution_required': {\n                             'type': 'string',\n                             'enum': ['yes', 'no']\n                         },\n                         'schemas_analysis': {\n                             'type': 'array',\n                             'items': {\n                                 'type': 'string'\n                             }\n                         }\n                     },\n                     'required': ['matched', 'schema_evolution_required', 'schemas_analysis'],\n                     'additionalProperties': false\n                 }\n            }\n        ) as ai_response\n    FROM METADATA.SCHEMA_REGISTRY\n)\nSELECT \n    table_name,\n    table_namespace,\n    schema_json,\n    BASE64_ENCODE(ai_response) as ai_response\nFROM ai_analysis\nWHERE PARSE_JSON(ai_response):matched::string = 'yes'"
      }, {
        "description" : "Set the schema state to draft to handle evolving schema",
        "name" : "schema_state_draft_sql",
        "provided" : false,
        "sensitive" : false,
        "value" : "UPDATE METADATA.SCHEMA_REGISTRY\nSET \n    IS_READY = FALSE,\n    STATUS = 'DRAFT'\nWHERE \n    UPPER(TABLE_NAME) = UPPER('${table.name}')\n    AND\n    UPPER(TABLE_NAMESPACE) = UPPER('${table.namespace}');"
      }, {
        "description" : "",
        "name" : "script_evaluate_schema_check",
        "provided" : false,
        "sensitive" : false
      }, {
        "description" : "",
        "name" : "script_extract_cortex_response",
        "provided" : false,
        "sensitive" : false
      }, {
        "description" : "",
        "name" : "script_extract_csv_metadata",
        "provided" : false,
        "sensitive" : false
      }, {
        "description" : "",
        "name" : "script_prepare_slack_message",
        "provided" : false,
        "sensitive" : false
      }, {
        "description" : "the music flow bot oauth token to post in #music-flow channel",
        "name" : "slack.bot.oauth.token",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "slack.channel",
        "provided" : false,
        "sensitive" : false,
        "value" : "#music-flow"
      }, {
        "description" : "",
        "name" : "snowflake_account",
        "provided" : false,
        "sensitive" : false,
        "value" : "sfdevrel-sfdevrel-enterprise"
      }, {
        "description" : "",
        "name" : "snowflake_database",
        "provided" : false,
        "sensitive" : false,
        "value" : "KAMESH_OPENFLOW_DEMOS"
      }, {
        "description" : "The Snowflake user PAT/Password",
        "name" : "snowflake_password",
        "provided" : false,
        "sensitive" : true
      }, {
        "description" : "",
        "name" : "snowflake_role",
        "provided" : false,
        "sensitive" : false,
        "value" : "KAMESH_DEMOS"
      }, {
        "description" : "",
        "name" : "snowflake_user",
        "provided" : false,
        "sensitive" : false,
        "value" : "KAMESH_OPENFLOW_DEMO_SA"
      }, {
        "description" : "",
        "name" : "snowflake_warehouse",
        "provided" : false,
        "sensitive" : false,
        "value" : "KAMESH_DEMOS_S"
      }, {
        "description" : "",
        "name" : "update_schema_registry_sql",
        "provided" : false,
        "sensitive" : false,
        "value" : "UPDATE METADATA.SCHEMA_REGISTRY \nSET \n    SCHEMA_ANALYSIS = '${schema.analysis}',\n    LAST_ANALYSIS_SOURCE = '${google.drive.file.path}',\n    UPDATED_AT = CURRENT_TIMESTAMP()\nWHERE \n    TABLE_NAME = '${table.name}' \n    AND TABLE_NAMESPACE = '${table.namespace}'"
      }, {
        "description" : "",
        "name" : "upsert_schema_registry_sql",
        "provided" : false,
        "sensitive" : false,
        "value" : "MERGE INTO METADATA.SCHEMA_REGISTRY AS target\nUSING (\n    SELECT \n        '${table.name}' AS table_name,\n        '${table.namespace}' AS table_namespace,\n        '${avro.schema.content}' AS avro_schema,\n        '${schema.analysis}' AS schema_analysis,\n        '${google.drive.file.path}' AS schema_source,\n        CURRENT_TIMESTAMP() AS updated_at\n) AS source\nON target.TABLE_NAME = source.table_name \n   AND target.TABLE_NAMESPACE = source.table_namespace\n\nWHEN MATCHED THEN\n    UPDATE SET\n        AVRO_SCHEMA = source.avro_schema,\n        SCHEMA_ANALYSIS = source.schema_analysis,\n        SCHEMA_VERSION = METADATA.SEQ_SCHEMA_VERSION.NEXTVAL,\n        IS_READY = FALSE,\n        STATUS = 'ACTIVE',\n        LAST_ANALYSIS_SOURCE = source.schema_source,\n        UPDATED_AT = source.updated_at\n\nWHEN NOT MATCHED THEN\n    INSERT (\n        TABLE_NAME,\n        TABLE_NAMESPACE,\n        AVRO_SCHEMA,\n        SCHEMA_ANALYSIS,\n        SCHEMA_VERSION,\n        IS_READY,\n        STATUS,\n        BASELINE_SOURCE,\n        LAST_ANALYSIS_SOURCE,\n        CREATED_AT,\n        UPDATED_AT\n    )\n    VALUES (\n        source.table_name, -- table name    \n        source.table_namespace, -- table namespace\n        source.avro_schema, -- avro schema\n        source.schema_analysis, -- schema analysis\n        METADATA.SEQ_SCHEMA_VERSION.NEXTVAL, -- schema version\n        FALSE, -- is ready\n        'ACTIVE', -- status\n        source.schema_source, -- baseline source\n        source.schema_source, -- last analysis source\n        CURRENT_TIMESTAMP(), -- created at\n        source.updated_at -- updated at\n    );"
      } ]
    }
  },
  "parameterProviders" : { },
  "snapshotMetadata" : {
    "author" : "KAMESHS",
    "flowIdentifier" : "structuredaipipelinegdrivesharepoint",
    "timestamp" : 1762272040551
  }
}